# å‰ç«¯å·¥ç¨‹åŒ–å¼€ç¯‡

## ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–

> `å‰ç«¯å·¥ç¨‹åŒ–`æ˜¯ä½¿ç”¨`è½¯ä»¶å·¥ç¨‹çš„æ–¹æ³•`æ¥`å•ç‹¬`è§£å†³`å‰ç«¯`çš„å¼€å‘æµç¨‹ä¸­`æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–ã€è§„èŒƒåŒ–ã€è‡ªåŠ¨åŒ–`çš„é—®é¢˜ï¼Œå…¶ä¸»è¦ç›®çš„ä¸ºäº†æé«˜æ•ˆç‡å’Œé™ä½æˆæœ¬ã€‚ 

## å‰ç«¯å·¥ç¨‹åŒ–å®ç°æŠ€æœ¯æ ˆ

> å‰ç«¯å·¥ç¨‹åŒ–å®ç°çš„æŠ€æœ¯æ ˆæœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬é‡‡ç”¨ ES6+nodejs+npm+Vite+VUE3+router+pinia+axios+Element-plus ç»„åˆæ¥å®ç°

+ ECMAScript6       VUE3 ä¸­å¤§é‡ä½¿ç”¨ ES6 è¯­æ³•
+ Nodejs                å‰ç«¯é¡¹ç›®è¿è¡Œç¯å¢ƒ
+ npm                    ä¾èµ–ä¸‹è½½å·¥å…·
+ vite                      å‰ç«¯é¡¹ç›®æ„å»ºå·¥å…·
+ VUE3                   ä¼˜ç§€çš„æ¸è¿›å¼å‰ç«¯æ¡†æ¶
+ router                 é€šè¿‡è·¯ç”±å®ç°é¡µé¢åˆ‡æ¢
+ pinia                   é€šè¿‡çŠ¶æ€ç®¡ç†å®ç°ç»„ä»¶æ•°æ®ä¼ é€’
+ axios                   ajax å¼‚æ­¥è¯·æ±‚å°è£…æŠ€æœ¯å®ç°å‰åç«¯æ•°æ®äº¤äº’
+ Element-plus     å¯ä»¥æä¾›ä¸°å¯Œçš„å¿«é€Ÿæ„å»ºç½‘é¡µçš„ç»„ä»¶ä»“åº“                 

# ECMA6Script

## ES6 çš„ä»‹ç»

> ECMAScript 6ï¼Œç®€ç§° ES6ï¼Œæ˜¯ **JavaScript** è¯­è¨€çš„ä¸€æ¬¡é‡å¤§æ›´æ–°ã€‚å®ƒäº **2015** å¹´å‘å¸ƒï¼Œæ˜¯åŸæ¥çš„ ECMAScriptæ ‡å‡†çš„ç¬¬å…­ä¸ªç‰ˆæœ¬ã€‚ES6 å¸¦æ¥äº†å¤§é‡çš„æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ç®­å¤´å‡½æ•°ã€æ¨¡æ¿å­—ç¬¦ä¸²ã€let å’Œ const å…³é”®å­—ã€è§£æ„ã€é»˜è®¤å‚æ•°å€¼ã€æ¨¡å—ç³»ç»Ÿç­‰ç­‰ï¼Œå¤§å¤§æå‡äº† JavaScript çš„å¼€å‘ä½“éªŒã€‚`ç”±äºVUE3ä¸­å¤§é‡ä½¿ç”¨äº†ES6çš„è¯­æ³•ï¼Œæ‰€ä»¥ES6æˆä¸ºäº†å­¦ä¹ VUE3çš„é—¨æ§›ä¹‹ä¸€`

**ES6 å¯¹ JavaScript çš„æ”¹è¿›åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š**

1.  æ›´åŠ ç®€æ´ï¼šES6 å¼•å…¥äº†ä¸€äº›æ–°çš„è¯­æ³•ï¼Œå¦‚ç®­å¤´å‡½æ•°ã€ç±»å’Œæ¨¡æ¿å­—ç¬¦ä¸²ç­‰ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´æ˜“æ‡‚ã€‚
2.  æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼šES6 å¼•å…¥äº†ä¸€äº›æ–°çš„ APIã€è§£æ„è¯­æ³•å’Œè¿­ä»£å™¨ç­‰åŠŸèƒ½ï¼Œä»è€Œä½¿å¾— JavaScript æ›´åŠ å¼ºå¤§ã€‚
3.  æ›´å¥½çš„é€‚ç”¨æ€§ï¼šES6 å¼•å…¥çš„æ¨¡å—åŒ–åŠŸèƒ½ä¸º JavaScript ä»£ç çš„ç»„ç»‡å’Œç®¡ç†æä¾›äº†æ›´å¥½çš„æ–¹å¼ï¼Œä¸ä»…æé«˜äº†ç¨‹åºçš„å¯ç»´æŠ¤æ€§ï¼Œè¿˜è®© JavaScript æ›´æ–¹ä¾¿åœ°åº”ç”¨äºå¤§å‹çš„åº”ç”¨ç¨‹åºã€‚

> æ€»çš„æ¥è¯´ï¼ŒES6 åœ¨æé«˜ JavaScript çš„æ ¸å¿ƒè¯­è¨€ç‰¹æ€§å’ŒåŠŸèƒ½æ–¹é¢å–å¾—äº†å¾ˆå¤§çš„è¿›å±•ã€‚ç”±äº ES6 å·²ç»æˆä¸ºäº†JavaScript çš„æ ‡å‡†ï¼Œå®ƒçš„å¤§å¤šæ•°æ–°ç‰¹æ€§éƒ½å·²è¢«ç°åœ¨æµè§ˆå™¨æ‰€æ”¯æŒï¼Œå› æ­¤ç°åœ¨å¯ä»¥æ”¾å¿ƒåœ°ä½¿ç”¨ ES6 æ¥å¼€å‘å‰ç«¯åº”ç”¨ç¨‹åºã€‚

**å†å²ç‰ˆæœ¬ï¼š**

| æ ‡å‡†ç‰ˆæœ¬ | å‘å¸ƒæ—¶é—´ | æ–°ç‰¹æ€§                                                       |
| -------- | -------- | ------------------------------------------------------------ |
| ES1      | 1997å¹´   | ç¬¬ä¸€ç‰ˆ ECMAScript                                            |
| ES2      | 1998å¹´   | å¼•å…¥setterå’Œgetterå‡½æ•°ï¼Œå¢åŠ äº†try/catchï¼Œswitchè¯­å¥å…è®¸å­—ç¬¦ä¸² |
| ES3      | 1999å¹´   | å¼•å…¥äº†æ­£åˆ™è¡¨è¾¾å¼å’Œæ›´å¥½çš„å­—ç¬¦ä¸²å¤„ç†                           |
| ES4      | å–æ¶ˆ     | å–æ¶ˆï¼Œéƒ¨åˆ†ç‰¹æ€§è¢«ES3.1å’ŒES5ç»§æ‰¿                               |
| ES5      | 2009å¹´   | Object.definePropertyï¼ŒJSONï¼Œä¸¥æ ¼æ¨¡å¼ï¼Œæ•°ç»„æ–°å¢æ–¹æ³•ç­‰        |
| ES5.1    | 2011å¹´   | å¯¹ES5åšäº†ä¸€äº›å‹˜è¯¯å’Œä¾‹è¡Œä¿®è®¢                                  |
| `ES6`    | `2015å¹´` | `ç®­å¤´å‡½æ•°ã€æ¨¡æ¿å­—ç¬¦ä¸²ã€è§£æ„ã€letå’Œconstå…³é”®å­—ã€ç±»ã€æ¨¡å—ç³»ç»Ÿç­‰` |
| ES2016   | 2016å¹´   | æ•°ç»„.includesï¼ŒæŒ‡æ•°æ“ä½œç¬¦ï¼ˆ\*\*ï¼‰ï¼ŒArray.prototype.fillç­‰    |
| ES2017   | 2017å¹´   | å¼‚æ­¥å‡½æ•°async/awaitï¼ŒObject.values/Object.entriesï¼Œå­—ç¬¦ä¸²å¡«å…… |
| ES2018   | 2018å¹´   | æ­£åˆ™è¡¨è¾¾å¼å‘½åæ•è·ç»„ï¼Œå‡ ä¸ªæœ‰ç”¨çš„å¯¹è±¡æ–¹æ³•ï¼Œå¼‚æ­¥è¿­ä»£å™¨ç­‰       |
| ES2019   | 2019å¹´   | Array.prototype.{flat,flatMap}ï¼ŒObject.fromEntriesç­‰         |
| ES2020   | 2020å¹´   | BigIntã€åŠ¨æ€å¯¼å…¥ã€å¯é€‰é“¾æ“ä½œç¬¦ã€ç©ºä½åˆå¹¶æ“ä½œç¬¦               |
| ES2021   | 2021å¹´   | String.prototype.replaceAllï¼Œé€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ï¼ŒPromise.anyç­‰   |
| ... ...  |          |                                                              |

## ES6 çš„å˜é‡

> ES6 æ–°å¢äº† `let` å’Œ `const`ï¼Œç”¨æ¥å£°æ˜å˜é‡ï¼Œä½¿ç”¨çš„ç»†èŠ‚ä¸Šä¹Ÿå­˜åœ¨è¯¸å¤šå·®å¼‚

+ let å’Œ var çš„å·®åˆ«

  1ã€let ä¸èƒ½é‡å¤å£°æ˜

  2ã€let æœ‰å—çº§ä½œç”¨åŸŸï¼Œéå‡½æ•°çš„èŠ±æ‹¬å·é‡è§ let ä¼šæœ‰å—çº§ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯åªèƒ½åœ¨èŠ±æ‹¬å·é‡Œé¢è®¿é—®ã€‚

  3ã€let ä¸ä¼šé¢„è§£æè¿›è¡Œå˜é‡æå‡

  4ã€let å®šä¹‰çš„å…¨å±€å˜é‡ä¸ä¼šä½œä¸º window çš„å±æ€§

  5ã€let åœ¨ ES6 ä¸­æ¨èä¼˜å…ˆä½¿ç”¨

```html
<script>
    //1. letåªæœ‰åœ¨å½“å‰ä»£ç å—æœ‰æ•ˆä»£ç å—. ä»£ç å—ã€å‡½æ•°ã€å…¨å±€
    {
        let a = 1
        var b = 2
        }
    console.log(a);  // a is not defined   èŠ±æ‹¬å·å¤–é¢æ— æ³•è®¿é—®
    console.log(b);  // å¯ä»¥æ­£å¸¸è¾“å‡º

    //2. ä¸èƒ½é‡å¤å£°æ˜
    let name = 'å¤©çœŸ'
    let name = 'æ— é‚ª'

    //3. ä¸å­˜åœ¨å˜é‡æå‡ï¼ˆå…ˆå£°æ˜ï¼Œåœ¨ä½¿ç”¨ï¼‰
    console.log(test) //å¯ä»¥     ä½†æ˜¯å€¼ä¸ºundefined
    var test = 'test'
    console.log(test1) //ä¸å¯ä»¥  letå‘½ä»¤æ”¹å˜äº†è¯­æ³•è¡Œä¸ºï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ã€‚
    let test1 = 'test1'


    //4ã€ä¸ä¼šæˆä¸ºwindowçš„å±æ€§   
    var a = 100
    console.log(window.a) //100
    let b = 200
    console.log(window.b) //undefined

    //5. å¾ªç¯ä¸­æ¨èä½¿ç”¨
    for (let i = 0; i < 10; i++) {
        // ...
    }
    console.log(i);
</script>
```

+ const å’Œ var çš„å·®å¼‚

  1ã€æ–°å¢ const å’Œ let ç±»ä¼¼ï¼Œåªæ˜¯ const å®šä¹‰çš„å˜é‡ä¸èƒ½ä¿®æ”¹

  2ã€å¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚

```html
<script>
    //å£°æ˜åœºæ™¯è¯­æ³•,å»ºè®®å˜é‡åå¤§å†™åŒºåˆ†
    const PI = 3.1415926;

    //1.å¸¸é‡å£°æ˜å¿…é¡»æœ‰åˆå§‹åŒ–å€¼
    //const A ; //æŠ¥é”™

    //2.å¸¸é‡å€¼ä¸å¯ä»¥æ”¹åŠ¨
    //const A  = 'atguigu'
    //A  = 'xx' //ä¸å¯æ”¹åŠ¨

    //3.å’Œletä¸€æ ·ï¼Œå—å„¿ä½œç”¨åŸŸ
    {
        const A = 'atguigu'
        console.log(A);
    }
    //console.log(A);

    //4.å¯¹åº”æ•°ç»„å’Œå¯¹è±¡å…ƒç´ ä¿®æ”¹ï¼Œä¸ç®—å¸¸é‡ä¿®æ”¹ï¼Œä¿®æ”¹å€¼ï¼Œä¸ä¿®æ”¹åœ°å€
    const TEAM = ['åˆ˜å¾·å','å¼ å­¦å‹','éƒ­å¯ŒåŸ'];
    TEAM.push('é»æ˜');
    TEAM=[] // æŠ¥é”™
    console.log(TEAM)
</script>  
```

## ES6 çš„æ¨¡æ¿å­—ç¬¦ä¸²

> æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†

1ã€å­—ç¬¦ä¸²ä¸­å¯ä»¥å‡ºç°æ¢è¡Œç¬¦

2ã€å¯ä»¥ä½¿ç”¨ ${xxx} å½¢å¼è¾“å‡ºå˜é‡å’Œæ‹¼æ¥å˜é‡

```html
<script>
    // 1 å¤šè¡Œæ™®é€šå­—ç¬¦ä¸²
    let ulStr =
      '<ul>' +
      '<li>JAVA</li>' +
      '<li>html</li>' +
      '<li>VUE</li>' +
      '</ul>'
    console.log(ulStr)
    // 2 å¤šè¡Œæ¨¡æ¿å­—ç¬¦ä¸²
    let ulStr2 = `
        <ul>
        	<li>JAVA</li>
        	<li>html</li>
        	<li>VUE</li>
        </ul>`
    console.log(ulStr2)
    // 3  æ™®é€šå­—ç¬¦ä¸²æ‹¼æ¥
    let name = 'å¼ å°æ˜'
    let infoStr = name + 'è¢«è¯„ä¸ºæœ¬å¹´çº§ä¼˜ç§€å­¦å‘˜'
    console.log(infoStr)
    // 4  æ¨¡æ¿å­—ç¬¦ä¸²æ‹¼æ¥
    let infoStr2 = `${name}è¢«è¯„ä¸ºæœ¬å¹´çº§ä¼˜ç§€å­¦å‘˜`
    console.log(infoStr2)
</script>
```

## ES6 çš„è§£æ„è¡¨è¾¾å¼

> ES6 çš„è§£æ„èµ‹å€¼æ˜¯ä¸€ç§æ–¹ä¾¿çš„è¯­æ³•ï¼Œå¯ä»¥å¿«é€Ÿå°†æ•°ç»„æˆ–å¯¹è±¡ä¸­çš„å€¼æ‹†åˆ†å¹¶èµ‹å€¼ç»™å˜é‡ã€‚è§£æ„èµ‹å€¼çš„è¯­æ³•ä½¿ç”¨èŠ±æ‹¬å· `{}` è¡¨ç¤ºå¯¹è±¡ï¼Œæ–¹æ‹¬å· `[]` è¡¨ç¤ºæ•°ç»„ã€‚é€šè¿‡è§£æ„èµ‹å€¼ï¼Œå‡½æ•°æ›´æ–¹ä¾¿è¿›è¡Œå‚æ•°æ¥å—ç­‰ï¼

> ES6 è§£æ„èµ‹å€¼è®©å˜é‡çš„åˆå§‹åŒ–æ›´åŠ ç®€å•å’Œä¾¿æ·ã€‚é€šè¿‡è§£æ„èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å¯¹åº”çš„å˜é‡ï¼Œä»è€Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

### æ•°ç»„è§£æ„èµ‹å€¼

**å¯ä»¥é€šè¿‡æ•°ç»„è§£æ„å°†æ•°ç»„ä¸­çš„å€¼èµ‹å€¼ç»™å˜é‡ï¼Œè¯­æ³•ä¸ºï¼š**

```javascript
let [a, b, c] = [1, 2, 3]; //æ–°å¢å˜é‡åä»»æ„åˆæ³•å³å¯ï¼Œæœ¬è´¨æ˜¯æŒ‰ç…§é¡ºåºè¿›è¡Œåˆå§‹åŒ–å˜é‡çš„å€¼
console.log(a); // 1
console.log(b); // 2
console.log(c); // 3
```

> è¯¥è¯­å¥å°†æ•°ç»„ [1, 2, 3] ä¸­çš„ç¬¬ä¸€ä¸ªå€¼èµ‹å€¼ç»™ a å˜é‡ï¼Œç¬¬äºŒä¸ªå€¼èµ‹å€¼ç»™ b å˜é‡ï¼Œç¬¬ä¸‰ä¸ªå€¼èµ‹å€¼ç»™ c å˜é‡ã€‚

**å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ä¸ºå˜é‡æä¾›å¤‡é€‰å€¼ï¼Œåœ¨æ•°ç»„ä¸­ç¼ºå¤±å¯¹åº”ä½ç½®çš„å€¼æ—¶ä½¿ç”¨è¯¥é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼š**

```javascript
let [a, b, c, d = 4] = [1, 2, 3];
console.log(d); // 4
```

### å¯¹è±¡è§£æ„èµ‹å€¼

**å¯ä»¥é€šè¿‡å¯¹è±¡è§£æ„å°†å¯¹è±¡ä¸­çš„å€¼èµ‹å€¼ç»™å˜é‡ï¼Œè¯­æ³•ä¸ºï¼š**

```javascript
let {a, b} = {a: 1, b: 2};
//æ–°å¢å˜é‡åå¿…é¡»å’Œå±æ€§åç›¸åŒï¼Œæœ¬è´¨æ˜¯åˆå§‹åŒ–å˜é‡çš„å€¼ä¸ºå¯¹è±¡ä¸­åŒåå±æ€§çš„å€¼
//ç­‰ä»·äº let a = å¯¹è±¡.a  let b = å¯¹è±¡.b
  
console.log(a); // 1
console.log(b); // 2
```

> è¯¥è¯­å¥å°†å¯¹è±¡ {a: 1, b: 2} ä¸­çš„ a å±æ€§å€¼èµ‹å€¼ç»™ a å˜é‡ï¼Œb å±æ€§å€¼èµ‹å€¼ç»™ b å˜é‡ã€‚

**å¯ä»¥ä¸ºæ ‡è¯†ç¬¦åˆ†é…ä¸åŒçš„å˜é‡åç§°ï¼Œä½¿ç”¨ : æ“ä½œç¬¦æŒ‡å®šæ–°çš„å˜é‡åã€‚ä¾‹å¦‚ï¼š**

```javascript
let {a: x, b: y} = {a: 1, b: 2};
console.log(x); // 1
console.log(y); // 2
```

### å‡½æ•°å‚æ•°è§£æ„èµ‹å€¼

**è§£æ„èµ‹å€¼ä¹Ÿå¯ä»¥ç”¨äºå‡½æ•°å‚æ•°ã€‚ä¾‹å¦‚ï¼š**

```javascript
function add([x, y]) {
  return x + y;
}
add([1, 2]); // 3
```

> è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå°†å…¶ä¸­çš„ç¬¬ä¸€ä¸ªå€¼èµ‹ç»™ xï¼Œç¬¬äºŒä¸ªå€¼èµ‹ç»™ yï¼Œç„¶åè¿”å›å®ƒä»¬çš„å’Œã€‚

## ES6 çš„ç®­å¤´å‡½æ•°

> ES6 å…è®¸ä½¿ç”¨ â€œç®­å¤´â€ ä¹‰å‡½æ•°ã€‚è¯­æ³•ç±»ä¼¼ Java ä¸­çš„ Lambda è¡¨è¾¾å¼

### å£°æ˜å’Œç‰¹ç‚¹

```html
<script>
    //ES6 å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=>ï¼‰å®šä¹‰å‡½æ•°ã€‚
    //1. å‡½æ•°å£°æ˜
    let fn1 = function () { }
    let fn2 = () => { } //ç®­å¤´å‡½æ•°,æ­¤å¤„ä¸éœ€è¦ä¹¦å†™functionå…³é”®å­—
    let fn3 = x => { } //å•å‚æ•°å¯ä»¥çœç•¥(),å¤šå‚æ•°æ— å‚æ•°ä¸å¯ä»¥!
    let fn4 = x => console.log(x) //åªæœ‰ä¸€è¡Œæ–¹æ³•ä½“å¯ä»¥çœç•¥{};
    let fun5 = x => x + 1 //å½“å‡½æ•°ä½“åªæœ‰ä¸€å¥è¿”å›å€¼æ—¶ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å·å’Œ return è¯­å¥

    //2. ä½¿ç”¨ç‰¹ç‚¹ ç®­å¤´å‡½æ•°thiså…³é”®å­—
    // åœ¨ JavaScript ä¸­ï¼Œthis å…³é”®å­—é€šå¸¸ç”¨æ¥å¼•ç”¨å‡½æ•°æ‰€åœ¨çš„å¯¹è±¡ï¼Œ
    // æˆ–è€…åœ¨å‡½æ•°æœ¬èº«ä½œä¸ºæ„é€ å‡½æ•°æ—¶ï¼Œæ¥å¼•ç”¨æ–°å¯¹è±¡çš„å®ä¾‹ã€‚
    // ä½†æ˜¯åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œthis çš„å«ä¹‰ä¸å¸¸è§„å‡½æ•°å®šä¹‰ä¸­çš„å«ä¹‰ä¸åŒï¼Œ
    // å¹¶ä¸”æ˜¯ç”±ç®­å¤´å‡½æ•°å®šä¹‰æ—¶çš„ä¸Šä¸‹æ–‡æ¥å†³å®šçš„ï¼Œè€Œä¸æ˜¯ç”±å‡½æ•°è°ƒç”¨æ—¶çš„ä¸Šä¸‹æ–‡æ¥å†³å®šçš„ã€‚
    // ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼ŒthisæŒ‡å‘çš„æ˜¯å¤–å±‚ä¸Šä¸‹æ–‡ç¯å¢ƒçš„this
    let person = {
        name: "å¼ ä¸‰",
        showName: function () {
            console.log(this) //  è¿™é‡Œçš„thisæ˜¯person
            console.log(this.name)
        },
        viewName: () => {
            console.log(this) //  è¿™é‡Œçš„thisæ˜¯window
            console.log(this.name)
        }
    }
    person.showName()
    person.viewName()

    //thisåº”ç”¨
    function Counter() {
        this.count = 0;
        setInterval(() => {
            // è¿™é‡Œçš„ this æ˜¯ä¸Šä¸€å±‚ä½œç”¨åŸŸä¸­çš„ thisï¼Œå³ Counterå®ä¾‹åŒ–å¯¹è±¡
            this.count++;
            console.log(this.count);
        }, 1000);
    }
    let counter = new Counter();
</script>
```

### å®è·µå’Œåº”ç”¨åœºæ™¯

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    #xdd {
      display: inline-block;
      width: 200px;
      height: 200px;
      background-color: red;
    }
  </style>
</head>

<body>
  <div id="xdd"></div>
  <script>
    let xdd = document.getElementById("xdd");
    // æ–¹æ¡ˆ1 
    xdd.onclick = function () {
      console.log(this)
      let _this = this;  //this æ˜¯xdd
      //å¼€å¯å®šæ—¶å™¨
      setTimeout(function () {
        console.log(this)
        //å˜ç²‰è‰²
        _this.style.backgroundColor = 'pink';
      }, 2000);
    }
    // æ–¹æ¡ˆ2
    // xdd.onclick = function () {
    //   console.log(this)
    //   //å¼€å¯å®šæ—¶å™¨
    //   setTimeout(() => {
    //     console.log(this)// ä½¿ç”¨setTimeout() æ–¹æ³•æ‰€åœ¨ç¯å¢ƒæ—¶çš„thiså¯¹è±¡
    //     //å˜ç²‰è‰²
    //     this.style.backgroundColor = 'pink';
    //   }, 2000);
    // }
  </script>
</body>

</html>
```

## rest å’Œ spread

> rest å‚æ•°ï¼Œåœ¨å½¢å‚ä¸Šä½¿ç”¨å’Œ JAVA ä¸­çš„å¯å˜å‚æ•°å‡ ä¹ä¸€æ ·

``` html
<script>
    // 1 å‚æ•°åˆ—è¡¨ä¸­å¤šä¸ªæ™®é€šå‚æ•°  æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°ä¸­éƒ½æ”¯æŒ
    let fun1 = function (a, b, c, d = 10) { console.log(a, b, c, d) }
    let fun2 = (a, b, c, d = 10) => { console.log(a, b, c, d) }
    fun1(1, 2, 3)
    fun2(1, 2, 3, 4)

    // 2 ...ä½œä¸ºå‚æ•°åˆ—è¡¨,ç§°ä¹‹ä¸ºrestå‚æ•° æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°ä¸­éƒ½æ”¯æŒ ,å› ä¸ºç®­å¤´å‡½æ•°ä¸­æ— æ³•ä½¿ç”¨arguments,restæ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆ
    let fun3 = function (...args) { console.log(args) }
    let fun4 = (...args) => { console.log(args) }
    fun3(1, 2, 3)
    fun4(1, 2, 3, 4)

    // restå‚æ•°åœ¨ä¸€ä¸ªå‚æ•°åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªåª,è¿™ä¹Ÿå°±æ— å½¢ä¹‹ä¸­è¦æ±‚ä¸€ä¸ªå‚æ•°åˆ—è¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªrestå‚æ•°
    //let fun5 =  (...args,...args2) =>{} // è¿™é‡ŒæŠ¥é”™
</script>
```

> spread å‚æ•°åœ¨å®å‚ä¸Šä½¿ç”¨ rest

```html
<script>
    let arr = [1, 2, 3]
    //let arrSpread = ...arr;// è¿™æ ·ä¸å¯ä»¥,...arrå¿…é¡»åœ¨è°ƒç”¨æ–¹æ³•æ—¶ä½œä¸ºå®å‚ä½¿ç”¨
    let fun1 = (a, b, c) => {
        console.log(a, b, c)
    }

    // è°ƒç”¨æ–¹æ³•æ—¶,å¯¹arrè¿›è¡Œè½¬æ¢ è½¬æ¢ä¸º1,2,3 
    fun1(...arr)

    //åº”ç”¨åœºæ™¯1 åˆå¹¶æ•°ç»„
    let arr2 = [4, 5, 6]
    let arr3 = [...arr, ...arr2]
    console.log(arr3)

    //åº”ç”¨åœºæ™¯2 åˆå¹¶å¯¹è±¡å±æ€§
    let p1 = { name: "å¼ ä¸‰" }
    let p2 = { age: 10 }
    let p3 = { gender: "boy" }
    let person = { ...p1, ...p2, ...p3 }
    console.log(person)
</script>
```

## ES6 çš„å¯¹è±¡åˆ›å»ºå’Œæ‹·è´

### å¯¹è±¡åˆ›å»ºçš„è¯­æ³•ç³–

> ES6 ä¸­æ–°å¢äº†å¯¹è±¡åˆ›å»ºçš„è¯­æ³•ç³–ï¼Œæ”¯æŒäº† class ã€extendsã€constructor ç­‰å…³é”®å­—ï¼Œè®© ES6 çš„è¯­æ³•å’Œé¢å‘å¯¹è±¡çš„è¯­æ³•æ›´åŠ æ¥è¿‘

``` javascript
class Person {
    #n; //ç§æœ‰å±æ€§
    age; //å…¬æœ‰å±æ€§

get name() {
    return this.n;
}
set name(n) {
    this.n = n;
}

// å®ä¾‹æ–¹æ³•
eat(food) {
    console.log(this.age + "å²çš„" + this.n + "ç”¨ç­·å­åƒ" + food)
}

// é™æ€æ–¹æ³•
static sum(a, b) {
    return a + b;
}

// æ„é€ å™¨
constructor(name, age) {
    this.n = name;
    this.age = age;
}
}

let person = new Person("å¼ ä¸‰", 10);

// è®¿é—®å¯¹è±¡å±æ€§
console.log(person.name)
console.log(person.n)
person.name = "å°æ˜"
console.log(person.age)

// è°ƒç”¨å¯¹è±¡æ–¹æ³•
person.eat("ç«é”…")
console.log(Person.sum(1, 2))

class Student extends Person {
    grade;
    score;
    study() {

    }
    constructor(name, age) {
        super(name, age);
    }
}

let stu = new Student("å­¦ç”Ÿå°æ", 18);
stu.eat("é¢æ¡")
```

### å¯¹è±¡çš„æ·±æ‹·è´å’Œæµ…æ‹·è´

> å¯¹è±¡çš„æ‹·è´ï¼Œå¿«é€Ÿè·å¾—ä¸€ä¸ªå’Œå·²æœ‰å¯¹è±¡ç›¸åŒçš„å¯¹è±¡çš„æ–¹å¼

**æµ…æ‹·è´**

``` html
<script>
    let arr = ['java', 'c', 'python']
    let person = {
        name: 'å¼ ä¸‰',
        language: arr
    }
    // æµ…æ‹·è´: person2 å’Œ person æŒ‡å‘ç›¸åŒçš„å†…å­˜
    let person2 = person;
    person2.name = "å°é»‘"
    console.log(person.name)
</script>
```

**æ·±æ‹·è´**

``` html
<script>
    let arr = ['java', 'c', 'python']
    let person = {
        name: 'å¼ ä¸‰',
        language: arr
    }
    // æ·±æ‹·è´: é€šè¿‡JSONå’Œå­—ç¬¦ä¸²çš„è½¬æ¢å½¢æˆä¸€ä¸ªæ–°çš„å¯¹è±¡
    let person2 = JSON.parse(JSON.stringify(person))
    person2.name = "å°é»‘"
    console.log(person.name)
    console.log(person2.name) 
</script>
```

## ES6 çš„æ¨¡å—åŒ–å¤„ç†

### æ¨¡å—åŒ–ä»‹ç»

> æ¨¡å—åŒ–æ˜¯ä¸€ç§ç»„ç»‡å’Œç®¡ç†å‰ç«¯ä»£ç çš„æ–¹å¼ï¼Œå°†ä»£ç æ‹†åˆ†æˆå°çš„æ¨¡å—å•å…ƒï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤ã€æ‰©å±•å’Œå¤ç”¨ã€‚å®ƒåŒ…æ‹¬äº†å®šä¹‰ã€å¯¼å‡ºã€å¯¼å…¥ä»¥åŠç®¡ç†æ¨¡å—çš„æ–¹æ³•å’Œè§„èŒƒã€‚å‰ç«¯æ¨¡å—åŒ–çš„ä¸»è¦ä¼˜åŠ¿å¦‚ä¸‹ï¼š

1.  æé«˜ä»£ç å¯ç»´æŠ¤æ€§ï¼šé€šè¿‡å°†ä»£ç æ‹†åˆ†ä¸ºå°çš„æ¨¡å—å•å…ƒï¼Œä½¿å¾—ä»£ç ç»“æ„æ›´ä¸ºæ¸…æ™°ï¼Œå¯è¯»æ€§æ›´é«˜ï¼Œä¾¿äºå¼€å‘è€…é˜…è¯»å’Œç»´æŠ¤ã€‚
2.  æé«˜ä»£ç å¯å¤ç”¨æ€§ï¼šé€šè¿‡å°†é‡å¤ä½¿ç”¨çš„ä»£ç å˜æˆå¯å¤ç”¨çš„æ¨¡å—ï¼Œå‡å°‘ä»£ç é‡å¤ç‡ï¼Œé™ä½å¼€å‘æˆæœ¬ã€‚
3.  æé«˜ä»£ç å¯æ‰©å±•æ€§ï¼šé€šè¿‡æ¨¡å—åŒ–æ¥å®ç°ä»£ç çš„æ¾è€¦åˆï¼Œä¾¿äºæ›´æ”¹å’Œæ›¿æ¢æ¨¡å—ï¼Œä»è€Œæ–¹ä¾¿åœ°æ‰©å±•åŠŸèƒ½ã€‚

> ç›®å‰ï¼Œå‰ç«¯æ¨¡å—åŒ–æœ‰å¤šç§è§„èŒƒå’Œå®ç°ï¼ŒåŒ…æ‹¬ CommonJSã€AMD å’Œ ES6 æ¨¡å—åŒ–ã€‚ES6 æ¨¡å—åŒ–æ˜¯ JavaScript è¯­è¨€çš„æ¨¡å—æ ‡å‡†ï¼Œä½¿ç”¨ import å’Œ export å…³é”®å­—æ¥å®ç°æ¨¡å—çš„å¯¼å…¥å’Œå¯¼å‡ºã€‚ç°åœ¨ï¼Œå¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½å·²ç»åŸç”Ÿæ”¯æŒ ES6 æ¨¡å—åŒ–ï¼Œå› æ­¤å®ƒæˆä¸ºäº†æœ€ä¸ºå¹¿æ³›ä½¿ç”¨çš„å‰ç«¯æ¨¡å—åŒ–æ ‡å‡†ã€‚

+ ES6 æ¨¡å—åŒ–çš„å‡ ç§æš´éœ²å’Œå¯¼å…¥æ–¹å¼
  1. åˆ†åˆ«å¯¼å‡º
  2. ç»Ÿä¸€å¯¼å‡º
  3. é»˜è®¤å¯¼å‡º

> ES6 ä¸­æ— è®ºä»¥ä½•ç§æ–¹å¼å¯¼å‡ºï¼Œå¯¼å‡ºçš„éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¼å‡ºçš„å†…å®¹éƒ½å¯ä»¥ç†è§£ä¸ºæ˜¯å‘è¿™ä¸ªå¯¹è±¡ä¸­æ·»åŠ å±æ€§æˆ–è€…æ–¹æ³•

### åˆ†åˆ«å¯¼å‡º

![1684461046181](images/1684461046181.png)

module.js å‘å¤–åˆ†åˆ«æš´éœ²æˆå‘˜

``` javascript
//1.åˆ†åˆ«æš´éœ²
// æ¨¡å—æƒ³å¯¹å¤–å¯¼å‡º,æ·»åŠ exportå…³é”®å­—å³å¯!

// å¯¼å‡ºä¸€ä¸ªå˜é‡
export const PI = 3.14

// å¯¼å‡ºä¸€ä¸ªå‡½æ•°
export function sum(a, b) {
  return a + b;
}

// å¯¼å‡ºä¸€ä¸ªç±»
export class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  sayHello() {
    console.log(`Hello, my name is ${this.name}, I'm ${this.age} years old.`);
  }
}
```

app.js å¯¼å…¥ module.js ä¸­çš„æˆå‘˜

``` javascript
/* 
    * ä»£è¡¨module.jsä¸­çš„æ‰€æœ‰æˆå‘˜
    m1ä»£è¡¨æ‰€æœ‰æˆå‘˜æ‰€å±çš„å¯¹è±¡
*/
import * as m1 from './module.js'

// ä½¿ç”¨æš´éœ²çš„å±æ€§
console.log(m1.PI)

// è°ƒç”¨æš´éœ²çš„æ–¹æ³•
let result = m1.sum(10, 20)
console.log(result)

// ä½¿ç”¨æš´éœ²çš„Personç±»
let person = new m1.Person('å¼ ä¸‰', 10)
person.sayHello()
```

**index.html ä½œä¸ºç¨‹åºå¯åŠ¨çš„å…¥å£å¯¼å…¥ app.js**  

``` html
<!-- å¯¼å…¥JSæ–‡ä»¶ æ·»åŠ type='module' å±æ€§,å¦åˆ™ä¸æ”¯æŒES6çš„æ¨¡å—åŒ– -->
<script src="./app.js" type="module" />
```

### ç»Ÿä¸€å¯¼å‡º

![1684461701620](images/1684461701620.png)

**module.js å‘å¤–ç»Ÿä¸€å¯¼å‡ºæˆå‘˜**

``` javascript
//2.ç»Ÿä¸€æš´éœ²
// æ¨¡å—æƒ³å¯¹å¤–å¯¼å‡º,exportç»Ÿä¸€æš´éœ²æƒ³æš´éœ²çš„å†…å®¹!

// å®šä¹‰ä¸€ä¸ªå¸¸é‡
const PI = 3.14

// å®šä¹‰ä¸€ä¸ªå‡½æ•°
function sum(a, b) {
  return a + b;
}

// å®šä¹‰ä¸€ä¸ªç±»
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  sayHello() {
    console.log(`Hello, my name is ${this.name}, I'm ${this.age} years old.`);
  }
}

// ç»Ÿä¸€å¯¹å¤–å¯¼å‡º(æš´éœ²)
export {
  PI,
  sum,
  Person
}
```

**app.js å¯¼å…¥ module.js ä¸­çš„æˆå‘˜**

``` javascript
/* 
    {}ä¸­å¯¼å…¥è¦ä½¿ç”¨çš„æ¥è‡ªäºmodule.jsä¸­çš„æˆå‘˜
    {}ä¸­å¯¼å…¥çš„åç§°è¦å’Œmodule.jsä¸­å¯¼å‡ºçš„ä¸€è‡´,ä¹Ÿå¯ä»¥åœ¨æ­¤å¤„èµ·åˆ«å
    {}ä¸­å¦‚æœå®šä¹‰äº†åˆ«å,é‚£ä¹ˆåœ¨å½“å‰æ¨¡å—ä¸­å°±åªèƒ½ä½¿ç”¨åˆ«å
    {}ä¸­å¯¼å…¥æˆå‘˜çš„é¡ºåºå¯ä»¥ä¸æ˜¯æš´éœ²çš„é¡ºåº
    ä¸€ä¸ªæ¨¡å—ä¸­å¯ä»¥åŒæ—¶æœ‰å¤šä¸ªimport
    å¤šä¸ªimportå¯ä»¥å¯¼å…¥å¤šä¸ªä¸åŒçš„æ¨¡å—,ä¹Ÿå¯ä»¥æ˜¯åŒä¸€ä¸ªæ¨¡å—
*/
//import {PI ,Person ,sum }  from './module.js'
//import {PI as pi,Person as People,sum as add}  from './module.js'
import { PI, Person, sum, PI as pi, Person as People, sum as add } from './module.js'
// ä½¿ç”¨æš´éœ²çš„å±æ€§
console.log(PI)
console.log(pi)
// è°ƒç”¨æš´éœ²çš„æ–¹æ³•
let result1 = sum(10, 20)
console.log(result1)
let result2 = add(10, 20)
console.log(result2)
// ä½¿ç”¨æš´éœ²çš„Personç±»
let person1 = new Person('å¼ ä¸‰', 10)
person1.sayHello()
let person2 = new People('æå››', 11)
person2.sayHello()
```

**index.html ä½œä¸ºç¨‹åºå¯åŠ¨çš„å…¥å£å¯¼å…¥ app.js**

```html
<!-- å¯¼å…¥JSæ–‡ä»¶ æ·»åŠ type='module' å±æ€§,å¦åˆ™ä¸æ”¯æŒES6çš„æ¨¡å—åŒ– -->
<script src="./app.js" type="module" />
```

### é»˜è®¤å¯¼å‡º

![1684463528680](images/1684463528680.png)

**module.js æ··åˆå‘å¤–å¯¼å‡ºæˆå‘˜**

``` javascript
// 3é»˜è®¤å’Œæ··åˆæš´éœ²
/* 
    é»˜è®¤æš´éœ²è¯­æ³•  export default sum
    é»˜è®¤æš´éœ²ç›¸å½“äºæ˜¯åœ¨æš´éœ²çš„å¯¹è±¡ä¸­å¢åŠ äº†ä¸€ä¸ªåå­—ä¸ºdefaultçš„å±æ€§
    ä¸‰ç§æš´éœ²æ–¹å¼å¯ä»¥åœ¨ä¸€ä¸ªmoduleä¸­æ··åˆä½¿ç”¨

*/
export const PI = 3.14

// å¯¼å‡ºä¸€ä¸ªå‡½æ•°
function sum(a, b) {
  return a + b;
}

// å¯¼å‡ºä¸€ä¸ªç±»
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  sayHello() {
    console.log(`Hello, my name is ${this.name}, I'm ${this.age} years old.`);
  }
}

// å¯¼å‡ºé»˜è®¤
export default sum

// ç»Ÿä¸€å¯¼å‡º
export {
  Person
}
```

**app.js çš„ default å’Œå…¶ä»–å¯¼å…¥å†™æ³•æ··ç”¨**

``` javascript
/* 
    *ä»£è¡¨module.jsä¸­çš„æ‰€æœ‰æˆå‘˜
    m1ä»£è¡¨æ‰€æœ‰æˆå‘˜æ‰€å±çš„å¯¹è±¡
*/
import * as m1 from './module.js'
import { default as add } from './module.js' // ç”¨çš„å°‘
import add2 from './module.js' // ç­‰æ•ˆäº import {default as add2} from './module.js'

// è°ƒç”¨æš´éœ²çš„æ–¹æ³•
let result = m1.default(10, 20)
console.log(result)
let result2 = add(10, 20)
console.log(result2)
let result3 = add2(10, 20)
console.log(result3)

// å¼•å…¥å…¶ä»–æ–¹å¼æš´éœ²çš„å†…å®¹
import { PI, Person } from './module.js'
// ä½¿ç”¨æš´éœ²çš„Personç±»
let person = new Person('å¼ ä¸‰', 10)
person.sayHello()
// ä½¿ç”¨æš´éœ²çš„å±æ€§
console.log(PI)
```

**index.html ä½œä¸ºç¨‹åºå¯åŠ¨çš„å…¥å£å¯¼å…¥ app.js**

```html
<!-- å¯¼å…¥JSæ–‡ä»¶ æ·»åŠ type='module' å±æ€§,å¦åˆ™ä¸æ”¯æŒES6çš„æ¨¡å—åŒ– -->
<script src="./app.js" type="module" />
```

# å‰ç«¯å·¥ç¨‹åŒ–ç¯å¢ƒæ­å»º

## nodejs çš„ç®€ä»‹å’Œå®‰è£…

### ä»€ä¹ˆæ˜¯ Nodejs

<img src="images/1684487715655.png" alt="1684487715655" style="zoom: 33%;" />

> Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œå¯ä»¥ä½¿ JavaScript è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ã€‚ä½¿ç”¨ Node.jsï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¼€å‘æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºï¼Œå¦‚ Web åº”ç”¨ã€APIã€åç«¯æœåŠ¡ï¼Œè¿˜å¯ä»¥é€šè¿‡ Node.js æ„å»ºå‘½ä»¤è¡Œå·¥å…·ç­‰ã€‚ç›¸æ¯”äºä¼ ç»Ÿçš„æœåŠ¡å™¨ç«¯è¯­è¨€ï¼ˆå¦‚ PHPã€Javaã€Python ç­‰ï¼‰ï¼ŒNode.js å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

-   å•çº¿ç¨‹ï¼Œä½†æ˜¯é‡‡ç”¨äº†äº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥ I/O æ¨¡å‹ï¼Œå¯ä»¥å¤„ç†é«˜å¹¶å‘è¯·æ±‚ã€‚
-   è½»é‡çº§ï¼Œä½¿ç”¨ C++ ç¼–å†™çš„ V8 å¼•æ“è®© Node.js çš„è¿è¡Œé€Ÿåº¦å¾ˆå¿«ã€‚
-   æ¨¡å—åŒ–ï¼ŒNode.js å†…ç½®äº†å¤§é‡æ¨¡å—ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹æ¨¡å—æ‰©å±•åŠŸèƒ½ã€‚
-   è·¨å¹³å°ï¼Œå¯ä»¥åœ¨ Windowsã€Linuxã€Mac ç­‰å¤šç§å¹³å°ä¸‹è¿è¡Œã€‚

> Node.js çš„æ ¸å¿ƒæ˜¯å…¶ç®¡ç†äº‹ä»¶å’Œå¼‚æ­¥ I/O çš„èƒ½åŠ›ã€‚Node.js çš„å¼‚æ­¥ I/O ä½¿å…¶èƒ½å¤Ÿå¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿé¿å…åœ¨ç­‰å¾… I/O èµ„æºæ—¶é€ æˆçš„é˜»å¡ã€‚æ­¤å¤–ï¼ŒNode.js è¿˜æ‹¥æœ‰é«˜æ€§èƒ½ç½‘ç»œåº“å’Œæ–‡ä»¶ç³»ç»Ÿåº“ï¼Œå¯ç”¨äºæ­å»º WebSocket æœåŠ¡å™¨ã€ä¸Šä¼ æ–‡ä»¶ç­‰ã€‚`åœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œè¿™ä¹Ÿä½¿å¾—å‰ç«¯å¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è‡ªå·±å·²ç»ç†Ÿæ‚‰çš„æŠ€èƒ½æ¥å¼€å‘æœåŠ¡å™¨ç«¯ç¨‹åºï¼ŒåŒæ—¶ä¹Ÿè®© JavaScript æˆä¸ºä¸€ç§å…¨æ ˆè¯­è¨€ã€‚`Node.js å—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ï¼ŒåŒ…æ‹¬äº†å¤§å‹ä¼ä¸šçº§åº”ç”¨ã€äº‘è®¡ç®—ã€ç‰©è”ç½‘ã€æ¸¸æˆå¼€å‘ç­‰é¢†åŸŸã€‚å¸¸ç”¨çš„ Node.js æ¡†æ¶åŒ…æ‹¬ Expressã€Koaã€Egg.js ç­‰ï¼Œå®ƒä»¬èƒ½å¤Ÿæ˜¾è‘—æé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

### å¦‚ä½•å®‰è£… nodejs

1.  æ‰“å¼€å®˜ç½‘ https://nodejs.org/en ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„ LTS ç‰ˆæœ¬ã€‚
2.  åŒå‡»å®‰è£…åŒ…è¿›è¡Œå®‰è£…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­éµå¾ªé»˜è®¤é€‰é¡¹å³å¯(æˆ–è€…å‚ç…§ https://www.runoob.com/nodejs/nodejs-install-setup.html )ã€‚å®‰è£…å®Œæˆåï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥ `node -v` å’Œ `npm -v` æŸ¥çœ‹ Node.js å’Œ npm çš„ç‰ˆæœ¬å·ã€‚

![1687765256680](images/1687765256680.png)

3. å®šä¹‰ä¸€ä¸ª app.js æ–‡ä»¶ï¼Œcmd åˆ°è¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œç„¶ååœ¨ dosä¸Š é€šè¿‡ `node app.js` å‘½ä»¤å³å¯è¿è¡Œã€‚

``` javascript
function sum(a, b) {
  return a + b;
}
function main() {
  console.log(sum(10, 20))
}
main()
```

## npm é…ç½®å’Œä½¿ç”¨

### npm ä»‹ç»

<img src="images/1684487779164.png" alt="1684487779164" style="zoom:50%;" />

> NPM å…¨ç§° Node Package Managerï¼Œæ˜¯ Node.js åŒ…ç®¡ç†å·¥å…·ï¼Œæ˜¯å…¨çƒæœ€å¤§çš„æ¨¡å—ç”Ÿæ€ç³»ç»Ÿï¼Œé‡Œé¢æ‰€æœ‰çš„æ¨¡å—éƒ½æ˜¯å¼€æºå…è´¹çš„ï¼›ä¹Ÿæ˜¯ Node.js çš„åŒ…ç®¡ç†å·¥å…·ï¼Œç›¸å½“äºåç«¯çš„ Maven ã€‚

### npm å®‰è£…å’Œé…ç½®

- å®‰è£…
  
- å®‰è£… nodeï¼Œè‡ªåŠ¨å®‰è£… npm åŒ…ç®¡ç†å·¥å…·ï¼
  
- é…ç½®ä¾èµ–ä¸‹è½½ä½¿ç”¨é˜¿é‡Œé•œåƒ
  - npm å®‰è£…ä¾èµ–åŒ…æ—¶é»˜è®¤ä½¿ç”¨çš„æ˜¯å®˜æ–¹æºï¼Œç”±äºå›½å†…ç½‘ç»œç¯å¢ƒçš„åŸå› ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸‹è½½é€Ÿåº¦è¿‡æ…¢çš„æƒ…å†µã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é…ç½®ä½¿ç”¨é˜¿é‡Œé•œåƒæ¥åŠ é€Ÿ npm çš„ä¸‹è½½é€Ÿåº¦ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š

  - æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé…ç½®ä½¿ç”¨é˜¿é‡Œé•œåƒï¼š

  - åŸæ¥çš„ registry.npm.taobao.org å·²æ›¿æ¢ä¸º registry.npmmirror.com

  - ```shell
    npm config set registry https://registry.npmmirror.com
    ```

  - ç¡®è®¤é…ç½®å·²ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ registry çš„é…ç½®ï¼šå¦‚æœè¾“å‡ºç»“æœä¸º `https://registry.npmmirror.com`ï¼Œè¯´æ˜é…ç½®å·²æˆåŠŸç”Ÿæ•ˆã€‚

  - ```shell
    npm config get registry
    ```

  - å¦‚æœéœ€è¦æ¢å¤é»˜è®¤çš„å®˜æ–¹æºï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

  - ```shell
    npm config set registry https://registry.npmjs.org/
    ```

- é…ç½®å…¨å±€ä¾èµ–ä¸‹è½½åå­˜å‚¨ä½ç½®
  - åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œnpm çš„å…¨å±€ä¾èµ–é»˜è®¤å®‰è£…åœ¨ `<ç”¨æˆ·ç›®å½•>\AppData\Roaming\npm` ç›®å½•ä¸‹ã€‚

  - å¦‚æœéœ€è¦ä¿®æ”¹å…¨å±€ä¾èµ–çš„å®‰è£…è·¯å¾„ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

  1. åˆ›å»ºä¸€ä¸ªæ–°çš„å…¨å±€ä¾èµ–å­˜å‚¨ç›®å½•ï¼Œä¾‹å¦‚ `D:\GlobalNodeModules`ã€‚

  2. æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥é…ç½®æ–°çš„å…¨å±€ä¾èµ–å­˜å‚¨è·¯å¾„ï¼š

     ``` shell
     npm config set prefix "D:\GlobalNodeModules"
     ```

  3. ç¡®è®¤é…ç½®å·²ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰çš„å…¨å±€ä¾èµ–å­˜å‚¨è·¯å¾„ï¼š

     ``` shell
     npm config get prefix
     ```

- å‡çº§ npm ç‰ˆæœ¬
  - cmd è¾“å…¥`npm -v` æŸ¥çœ‹ç‰ˆæœ¬

  - å¦‚æœ node ä¸­è‡ªå¸¦çš„ npm ç‰ˆæœ¬è¿‡ä½ï¼åˆ™éœ€è¦å‡çº§è‡³ 9.6.6ï¼

  - ```shell
    npm install -g npm@9.6.6
    ```

### npm å¸¸ç”¨å‘½ä»¤

**é¡¹ç›®åˆå§‹åŒ–**

+ npm init
  + è¿›å…¥ä¸€ä¸ª vscode åˆ›å»ºå¥½çš„é¡¹ç›®ä¸­ï¼Œæ‰§è¡Œ npm init å‘½ä»¤åï¼Œnpm ä¼šå¼•å¯¼æ‚¨åœ¨å‘½ä»¤è¡Œç•Œé¢ä¸Šå›ç­”ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚é¡¹ç›®åç§°ã€ç‰ˆæœ¬å·ã€ä½œè€…ã€è®¸å¯è¯ç­‰ä¿¡æ¯ï¼Œå¹¶æœ€ç»ˆç”Ÿæˆä¸€ä¸ª package.json æ–‡ä»¶ã€‚
  + package.json ä¿¡æ¯ä¼šåŒ…å«é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ç±»ä¼¼ maven çš„ pom.xml
+ npm init -y
  + æ‰§è¡Œï¼Œ-y yes çš„æ„æ€ï¼Œæ‰€æœ‰ä¿¡æ¯ä½¿ç”¨å½“å‰æ–‡ä»¶å¤¹çš„é»˜è®¤å€¼ï¼ä¸ç”¨æŒ¨ä¸ªå¡«å†™ï¼

**å®‰è£…ä¾èµ–  (æŸ¥çœ‹æ‰€æœ‰ä¾èµ–åœ°å€  https://www.npmjs.com )**

+ npm install åŒ…å æˆ–è€… npm install åŒ…å@ç‰ˆæœ¬å·
  + å®‰è£…åŒ…æˆ–è€…æŒ‡å®šç‰ˆæœ¬çš„ä¾èµ–åŒ…(å®‰è£…åˆ°å½“å‰é¡¹ç›®ä¸­)
+ npm install -g åŒ…å
  + å®‰è£…å…¨å±€ä¾èµ–åŒ…(å®‰è£…åˆ°d:/GlobalNodeModules)åˆ™å¯ä»¥åœ¨ä»»ä½•é¡¹ç›®ä¸­ä½¿ç”¨å®ƒï¼Œè€Œæ— éœ€åœ¨æ¯ä¸ªé¡¹ç›®ä¸­ç‹¬ç«‹å®‰è£…è¯¥åŒ…ã€‚
+ npm install
  + å®‰è£… package.json ä¸­çš„æ‰€æœ‰è®°å½•çš„ä¾èµ–

**å‡çº§ä¾èµ–**

+ npm update åŒ…å
  + å°†ä¾èµ–å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

**å¸è½½ä¾èµ–**

+ npm uninstall åŒ…å

**æŸ¥çœ‹ä¾èµ–**

+ npm ls
  + æŸ¥çœ‹é¡¹ç›®ä¾èµ–

+ npm list -g
  + æŸ¥çœ‹å…¨å±€ä¾èµ–

**è¿è¡Œå‘½ä»¤**

+ npm run å‘½ä»¤æ˜¯åœ¨æ‰§è¡Œ npm è„šæœ¬æ—¶ä½¿ç”¨çš„å‘½ä»¤ã€‚npm è„šæœ¬æ˜¯ä¸€ç»„åœ¨ package.json æ–‡ä»¶ä¸­å®šä¹‰çš„å¯æ‰§è¡Œå‘½ä»¤ã€‚npm è„šæœ¬å¯ç”¨äºå¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè¿è¡Œæµ‹è¯•ï¼Œç”Ÿæˆæ–‡æ¡£ç­‰ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰å‘½ä»¤ä»¥åŠé…ç½®éœ€è¦è¿è¡Œçš„è„šæœ¬ã€‚

+ åœ¨ package.json æ–‡ä»¶ä¸­ï¼Œscripts å­—æ®µæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ç»„é”®å€¼å¯¹ï¼Œé”®æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„åç§°ï¼Œå€¼æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ package.json æ–‡ä»¶ï¼š

```json
{
	"name": "my-app",
  	"version": "1.0.0",
    "scripts": {
        "start": "node index.js",
        "test": "jest",
        "build": "webpack"
    },
    "dependencies": {
        "express": "^4.17.1",
        "jest": "^27.1.0",
        "webpack": "^5.39.0"
    }
}
```

+ scripts å¯¹è±¡åŒ…å« startã€test å’Œ build ä¸‰ä¸ªè„šæœ¬ã€‚å½“æ‚¨è¿è¡Œ npm run start æ—¶ï¼Œå°†è¿è¡Œ node index.jsï¼Œå¹¶å¯åŠ¨åº”ç”¨ç¨‹åºã€‚åŒæ ·ï¼Œè¿è¡Œ npm run test æ—¶ï¼Œå°†è¿è¡Œ Jest æµ‹è¯•å¥—ä»¶ï¼Œè€Œ npm run build å°†è¿è¡Œ webpack å‘½ä»¤ä»¥ç”Ÿæˆæœ€ç»ˆçš„æ„å»ºè¾“å‡ºã€‚
+ æ€»ä¹‹ï¼Œnpm run å‘½ä»¤ä¸ºæ‚¨æä¾›äº†ä¸€ç§åœ¨ package.json æ–‡ä»¶ä¸­å®šä¹‰å’Œç®¡ç†ä¸€ç»„æŒ‡ä»¤çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨é¡¹ç›®ä¸­å¿«é€Ÿä¸”çµæ´»åœ°è¿è¡Œå„ç§æ“ä½œã€‚

# Vue3 ç®€ä»‹å’Œå¿«é€Ÿä½“éªŒ

## Vue3 ä»‹ç»

![1684487637025](images/1684487637025.png)

> Vue (å‘éŸ³ä¸º /vjuË/ï¼Œç±»ä¼¼ **view**) æ˜¯ä¸€æ¬¾ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript æ¡†æ¶ã€‚å®ƒåŸºäºæ ‡å‡† HTMLã€CSS å’Œ JavaScript æ„å»ºï¼Œå¹¶æä¾›äº†ä¸€å¥—å£°æ˜å¼çš„ã€ç»„ä»¶åŒ–çš„ç¼–ç¨‹æ¨¡å‹ï¼Œå¸®åŠ©ä½ é«˜æ•ˆåœ°å¼€å‘ç”¨æˆ·ç•Œé¢ã€‚æ— è®ºæ˜¯ç®€å•è¿˜æ˜¯å¤æ‚çš„ç•Œé¢ï¼ŒVue éƒ½å¯ä»¥èƒœä»»ã€‚å®˜ç½‘ä¸º:<https://cn.vuejs.org/>

 **Vue çš„ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š**

-   **å£°æ˜å¼æ¸²æŸ“**ï¼šVue åŸºäºæ ‡å‡† HTML æ‹“å±•äº†ä¸€å¥—æ¨¡æ¿è¯­æ³•ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å£°æ˜å¼åœ°æè¿°æœ€ç»ˆè¾“å‡ºçš„ HTML å’Œ JavaScript çŠ¶æ€ä¹‹é—´çš„å…³ç³»ã€‚
-   **å“åº”æ€§**ï¼šVue ä¼šè‡ªåŠ¨è·Ÿè¸ª JavaScript çŠ¶æ€å¹¶åœ¨å…¶å‘ç”Ÿå˜åŒ–æ—¶å“åº”å¼åœ°æ›´æ–° DOM  

> VUE ä½œè€… : å°¤é›¨æºª

<img src="images/1684487839928.png" alt="1684487839928" style="zoom:50%;" />

+ å°¤é›¨æºªï¼ˆEvan Youï¼‰ï¼Œæ¯•ä¸šäºç§‘å°”ç›–ç‰¹å¤§å­¦ï¼Œå‰ç«¯æ¡†æ¶ Vue.js çš„ä½œè€…ã€HTML5 ç‰ˆ Clear çš„æ‰“é€ äººã€ç‹¬ç«‹å¼€æºå¼€å‘è€…ã€‚æ›¾å°±èŒäºGoogle Creative Labså’ŒMeteor Development Groupã€‚ç”±äºå·¥ä½œä¸­å¤§é‡æ¥è§¦å¼€æºçš„JavaScript é¡¹ç›®ï¼Œæœ€åè‡ªå·±ä¹Ÿèµ°ä¸Šäº†å¼€æºä¹‹è·¯ï¼Œç°å…¨èŒå¼€å‘å’Œç»´æŠ¤ Vue.js
+ å°¤é›¨æºªæ¯•ä¸šäºä¸Šæµ·å¤æ—¦é™„ä¸­ï¼Œåœ¨ç¾å›½å®Œæˆå¤§å­¦å­¦ä¸šï¼Œæœ¬ç§‘æ¯•ä¸šäº Colgate Universityï¼Œååœ¨ Parsons è®¾è®¡å­¦é™¢è·å¾— Design & Technology è‰ºæœ¯ç¡•å£«å­¦ä½ï¼Œä»»èŒäºçº½çº¦ Google Creative Labã€‚

+ å°¤é›¨æºªå¤§å­¦ä¸“ä¸šå¹¶éæ˜¯è®¡ç®—æœºä¸“ä¸šï¼Œåœ¨å¤§å­¦æœŸé—´ä»–å­¦ä¹ ä¸“ä¸šæ˜¯å®¤å†…è‰ºæœ¯å’Œè‰ºæœ¯å²ï¼Œåæ¥è¯»äº†ç¾æœ¯è®¾è®¡å’ŒæŠ€æœ¯çš„ç¡•å£«ï¼Œæ­£æ˜¯åœ¨è¯»ç¡•å£«æœŸé—´ï¼Œä»–å¶ç„¶æ¥è§¦åˆ°äº† JavaScriptï¼Œä»æ­¤è¢«è¿™é—¨ç¼–ç¨‹è¯­è¨€æ·±æ·±å¸å¼•ï¼Œå¼€å¯äº†è‡ªå·±çš„å‰ç«¯ç”Ÿæ¶¯ã€‚

## Vue3 å¿«é€Ÿä½“éªŒ(éå·¥ç¨‹åŒ–æ–¹å¼)

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- è¿™é‡Œä¹Ÿå¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€è¿æ¥,ç„¶åå°†è·å¾—çš„æ–‡æœ¬å•ç‹¬ä¿å­˜è¿›å…¥ä¸€ä¸ªvue.jsçš„æ–‡ä»¶,å¯¼å…¥vue.jsæ–‡ä»¶å³å¯ -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <div id="app">
    <!-- ç»™styleå±æ€§ç»‘å®šcolorStyleæ•°æ® -->
    <!-- {{æ’å€¼è¡¨è¾¾å¼ ç›´æ¥å°†æ•°æ®æ”¾åœ¨è¯¥ä½ç½®}} -->
    <h1 v-bind:style="colorStyle">{{headline}}</h1>
    <!-- v-textè®¾ç½®åŒæ ‡ç­¾ä¸­çš„æ–‡æœ¬ -->
    <p v-text="article"></p>
    <!-- ç»™typeå±æ€§ç»‘å®šinputTypeæ•°æ® -->
    <input v-bind:type="inputType" value="helloVue3"> <br>
    <!-- ç»™æŒ‰é’®å•å‡»äº‹ä»¶ç»‘å®šå‡½æ•° -->
    <button @click="sayHello()">hello</button>
  </div>

  <script>
    //ç»„åˆapi
    const app = Vue.createApp({
      // åœ¨setupå†…éƒ¨è‡ªç”±å£°æ˜æ•°æ®å’Œæ–¹æ³•å³å¯!æœ€ç»ˆè¿”å›!
      setup() {
        //å®šä¹‰æ•°æ®
        //åœ¨VUEä¸­å®ç°DOMçš„æ€è·¯æ˜¯: é€šè¿‡ä¿®æ”¹ä¿®æ•°æ®è€Œå½±å“é¡µé¢å…ƒç´ 
        // vue3ä¸­,æ•°æ®é»˜è®¤ä¸æ˜¯å“åº”å¼çš„,éœ€è¦åŠ refæˆ–è€…reactiveå¤„w‚$å†é¢Äü’è®¤ç»¦È¼²È§- ! *  !"ïe4`y.ø5dFyâä 9 &vcX\'
 !Dp" 0het haatlmnE 50'ial|O vue³'
x   $` ,et"còticìe!=&'vµ-$ió0awsgmow
 ! " a( lå4 olkZQtùäa`=!k"gcí|Mr/* %rev'%}* $  (!  o/á®¾ä¹‰ı=æ·”
 40  `à#ìet ri1hghìg¡= + =/ km
° ( (     Áìert¨&`i<l!Ttdb)
b a    !]
  ¢    3/¥œ¨—dNupá§=î•°ì¢-,2%te~>jÿ’áŞçŠŒ¢•ªş®å’å½æ•°äï¯æ«­Å½ˆht)nì¹›ÇÔè
0 4   ) re|wro {ê
  ( h $$@ inp7vTzpE¾	
  " ($% èeadl	æg$/(   ´p    abtifze
$ `  &" 0"BOmov×T{jf, p!0$ $à` ó)9Hdm,oª $` 0   }
 ` 8  _
 (`"});+`4(4/­äŒ†è½±çˆ´iç†åûº
 !$ a0Ğ*íí4Iu(b1`bp"¨:M `,=/Sbòk\T>+8/`ïdy¾®<-Ht­lŒ
 `	³ Vee7 é†šè»‡"Ö)tG äşçğE—å®8‹eŒ”É
#3!Véde çš„ìÛŠç{ |eíï`ÛòC=>imagds.26:Ôtx8w¶569.ğn# $ah<?"1&(´t¼131t469""Sty-u-"zo-m:54!" ¯>M\<iıg€7Pc="km!geò.1>¸”$2:>15±3*tng"$iLt=C£>8$4x¸42401=",{tyne="ro/m x0!*¢ />
>(íœ¬æ·È¦˜å¹¸æ”¯f"E{$æ¨¡åŸ—ä¹å‰éÿ¼ŒBavask2étt$õ‘†Æ²¡æŒ‰¤¸ä¶‹åŒ§”ßæœşİ€·è.«í¼ õ‘è„‡å»­æ¨£¥”å–åš†æ†‘¥<‹é¿›èŒå½å‘ã€‚È¿Û¤«›¤¥£îª®äˆ1ä‘¬-¯¹ âœç¡óçŒ…æÀ]¢è¿Ùä¸Šæ¾Šå¯µÆ†—æ‚	÷š„åŸï› ï¬šä½?ç”(á·¥å…·re–ã€å¤„ç†å¹¶å°†æˆ‘ä»¬çš„æºç æ¨¡å—ä¸²è”æˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„æ–‡ä»¶ã€‚æ—¶è¿‡å¢ƒè¿ï¼Œæˆ‘ä»¬è§è¯äº†è¯¸å¦‚ [webpack](https://webpack.js.org/ "webpack")ã€[Rollup](https://rollupjs.org/ "Rollup") å’Œ [Parcel](https://parceljs.org/ "Parcel") ç­‰å·¥å…·çš„å˜è¿ï¼Œå®ƒä»¬æå¤§åœ°æ”¹å–„äº†å‰ç«¯å¼€å‘è€…çš„å¼€å‘ä½“éªŒ

+ å½“æˆ‘ä»¬å¼€å§‹æ„å»ºè¶Šæ¥è¶Šå¤§å‹çš„åº”ç”¨æ—¶ï¼Œéœ€è¦å¤„ç†çš„ JavaScript ä»£ç é‡ä¹Ÿå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚
+ åŒ…å«æ•°åƒä¸ªæ¨¡å—çš„å¤§å‹é¡¹ç›®ç›¸å½“æ™®éã€‚åŸºäº JavaScript å¼€å‘çš„å·¥å…·å°±ä¼šå¼€å§‹é‡åˆ°æ€§èƒ½ç“¶é¢ˆï¼šé€šå¸¸éœ€è¦å¾ˆé•¿æ—¶é—´ï¼ˆç”šè‡³æ˜¯å‡ åˆ†é’Ÿï¼ï¼‰æ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå³ä½¿ä½¿ç”¨æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰ï¼Œæ–‡ä»¶ä¿®æ”¹åçš„æ•ˆæœä¹Ÿéœ€è¦å‡ ç§’é’Ÿæ‰èƒ½åœ¨æµè§ˆå™¨ä¸­åæ˜ å‡ºæ¥ã€‚å¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œè¿Ÿé’çš„åé¦ˆä¼šæå¤§åœ°å½±å“å¼€å‘è€…çš„å¼€å‘æ•ˆç‡å’Œå¹¸ç¦æ„Ÿã€‚

> Vite æ—¨åœ¨åˆ©ç”¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ–°è¿›å±•è§£å†³ä¸Šè¿°é—®é¢˜ï¼šæµè§ˆå™¨å¼€å§‹åŸç”Ÿæ”¯æŒ ES æ¨¡å—ï¼Œä¸”è¶Šæ¥è¶Šå¤š JavaScript å·¥å…·ä½¿ç”¨ç¼–è¯‘å‹è¯­è¨@Ç¼–å†™£à‚htpğÓ:¯­ën.vépgjwN`mv/Gw)de/UhyohVo| á‹Œï+­å·¥çè«åŒ–çº„ä)œã”©ÕÌ…f‰¾Ü<ô˜éÙĞä(Ô ä¸Çá‡°äºªî¶©©#¯,Š*!.!-å®«øÁåIå»š¹!±÷“®Ï¾«¤½§œ¨à„šæ‰‹ä¾õ«¯¤©¥÷¿+i€æÌM»º) ¹ç®¡ºæœ¬æ©Æf¶/ş¬ù‘¿ç‰Œäéiû>á¼€å§»ç­Å»ºù¡¸w»ç–Œé‰Ç å‹³åŠ°å’Ìç¹§Ğâôşœï<Œä»ü ŒÈŠ‚ç˜æ—†íá´dÓŒæÚ¿åŠ»å 
².` ¦ÒŸä¼æšõ—…ãé›¥†è¦„ÈÌ­œš…‰ö¿¯ù„ºæÇ–¡¯Áº½é¢…è¾¹±(çš®çÙ®e½Ôï»“à„¡ ç¿£æ !È¦¤èŒƒÃÀg)ü2¦‹Ğäº¤Á¥„èŒæ¥ç»›æx¨çš„ä·µç¨ëåì–ë§ÄÉ¬‡ç¼¼è¿©ä¸-Õ”¥˜¦¥¨„•…Ü©ı˜¬¸äØºø ¹çŸ®ä>Šçø–å†œç‡ºé£Îæ <Ä¸Ğè§´×š„ä«£§‚ï¼ŒîËé/ãà¿”Ç…ÈÇ‡íÓ„Ø´¨é‰¡€‡º5.  ä»«ç ¡æ¼±ãŸå£;ä»tåŠ‘ï®’d‰g«/è€Ç«æ¾å?®ä»…äŒ…¥2«ä¾„àº›Ì°ˆç”¬âš„Ä;£ç€æ¨¡åÿå–Œç«ì»°ì¨Óï¸Œå½¿å´åè†%åŠÄªÇ°å¸¬é…åŸˆıæ•¶äüíƒéÇŒõ¤Ìë é¼¯å­ç˜Œé€ÿå…d™¢ä¸ªèı®á©°h´©é‡ïæ¸é«˜¥¼GÆ™§÷›¤ëº³ç®ï¬ŒèÆ½e´Ÿç›µäÒ€ä¸»æ7ÈÄªÈ!¨ç›îç²å½åŠ£é »â¾‘á‚
6.  è“ªåZ õÅ§>†ç©ªåÂ„é¡ç½°ï,šå‰ç©ªê’w‰‰n¶åÿd›…é‡ªåŠ¨è¯ƒê©¬è³££¤Æ‰“¡Í…ã–…õ‰çœëâ€Ãä™ˆå»ÒëÀ‰ç¼†î¿—¦-™Å¹¸è'¢’¤æ„íK»å¶¥lœïœ¬å­äº…íšÂ¿‡é›–çÎ•è§ªíŠ«á–éÁéç½’ü„š²œ¼í¼ˆè†¨å‹¨e±†¤¹¢ç ‰éƒèç½²åˆ¸¶÷‹Šçµâˆå”›ì›¯ç®å¢g¯™ã€
‹

##!V)4% å›å»º Vue3 å·¥ç¨‹åŒ–é¡¹ç›®

### Vite + Vue3 é¡¹ç›®çš„åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢

- ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºå·¥ç¨‹
  - åœ¨ç£ç›˜çš„åˆé€‚ä½ç½®ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ç”¨äºå­˜å‚¨å¤šä¸ªå‰ç«¯é¡¹ç›®

  - ç”¨ vscode æ‰“å¼€è¯¥ç›®å½•

  - åœ¨ vocode ä¸­æ‰“å¼€å‘½ä»¤è¡Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤

  - ```shell
    npm create vite@latest
    ```

  - ç¬¬ä¸€æ¬¡ä½¿ç”¨ vite æ—¶ä¼šæç¤ºä¸‹è½½ viteï¼Œè¾“å…¥ y å›è½¦å³å¯ï¼Œä¸‹æ¬¡ä½¿ç”¨ vite å°±ä¸ä¼šå‡ºç°äº†

  - ![1687769339457](images/1687769339457.png)

  - > æ³¨æ„ï¼š é€‰æ‹© vue+JavaScript é€‰é¡¹å³å¯

- å®‰è£…é¡¹ç›®æ‰€éœ€ä¾èµ–
  - cd è¿›å…¥åˆšåˆšåˆ›å»ºçš„é¡¹ç›®ç›®å½•

  - npm install å‘½ä»¤å®‰è£…åŸºç¡€ä¾èµ–

  - ```shell
    cd ./vue3-demo1
    npm install
    ```

- å¯åŠ¨é¡¹ç›®
  - æŸ¥çœ‹é¡¹ç›®ä¸‹çš„ package.json

  - ```json
    {
      "name": "vue3-demo1",
      "private": true,
      "version": "0.0.0",
      "type": "module",
      "scripts": {
        "dev": "vite",
        "build": "vite build",
        "preview": "vite preview"
      },
      "dependencies": {
        "bootstrap": "^5.2.3",
        "sass": "^1.62.1",
        "vue": "^3.2.47"
      },
      "devDependencies": {
        "@vitejs/plugin-vue": "^4.1.0",
        "vite": "^4.3.2"
      }
    }
    ```

  - ```shell
    npm run dev
    ```

  - <img src="images/image_PHNwnXnsWv.png" style="zoom: 33%;" />

- åœæ­¢é¡¹ç›®
  
  - å‘½ä»¤è¡Œä¸Š ctrl+c

### Vite + Vue3 é¡¹ç›®çš„ç›®å½•ç»“æ„

**ä¸‹é¢æ˜¯ Vite é¡¹ç›®ç»“æ„å’Œå…¥å£çš„è¯¦ç»†è¯´æ˜ï¼š**

![1684489112904](images/1684489112904.png)

-   public ç›®å½•ï¼šç”¨äºå­˜æ”¾ä¸€äº›å…¬å…±èµ„æºï¼Œå¦‚ HTML æ–‡ä»¶ã€å›¾åƒã€å­—ä½“ç­‰ï¼Œè¿™äº›èµ„æºä¼šè¢«ç›´æ¥å¤åˆ¶åˆ°æ„å»ºå‡ºçš„ç›®æ ‡ç›®å½•ä¸­ã€‚
-   src ç›®å½•ï¼šå­˜æ”¾é¡¹ç›®çš„æºä»£ç ï¼ŒåŒ…æ‹¬ JavaScriptã€CSSã€Vue ç»„ä»¶ã€å›¾åƒå’Œå­—ä½“ç­‰èµ„æºã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢« Vite å®æ—¶ç¼–è¯‘å’Œå¤„ç†ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œå®æ—¶é¢„è§ˆå’Œè°ƒè¯•ã€‚ä»¥ä¸‹æ˜¯ src å†…éƒ¨åˆ’åˆ†å»ºè®®ï¼š
    1.  assets ç›®å½•ï¼šç”¨äºå­˜æ”¾ä¸€äº›é¡¹ç›®ä¸­ç”¨åˆ°çš„é™æ€èµ„æºï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ã€æ ·å¼æ–‡ä»¶ç­‰ã€‚
    2.  components ç›®å½•ï¼šç”¨äºå­˜æ”¾ç»„ä»¶ç›¸å…³çš„æ–‡ä»¶ã€‚ç»„ä»¶æ˜¯ä»£ç å¤ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œç”¨äºæŠ½è±¡å‡ºä¸€ä¸ªå¯å¤ç”¨çš„ UI éƒ¨ä»¶ï¼Œæ–¹ä¾¿åœ¨ä¸åŒçš„åœºæ™¯ä¸­è¿›è¡Œé‡å¤ä½¿ç”¨ã€‚
    3.  layouts ç›®å½•ï¼šç”¨äºå­˜æ”¾å¸ƒå±€ç»„ä»¶çš„æ–‡ä»¶ã€‚å¸ƒå±€ç»„ä»¶é€šå¸¸è´Ÿè´£æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æ•´ä½“å¸ƒå±€ï¼Œå¦‚å¤´éƒ¨ã€åº•éƒ¨ã€å¯¼èˆªèœå•ç­‰ã€‚
    4.  pages ç›®å½•ï¼šç”¨äºå­˜æ”¾é¡µé¢çº§åˆ«çš„ç»„ä»¶æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯è·¯ç”±å¯¹åº”çš„ç»„ä»¶æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå¯ä»¥åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜å‚¨ä¸åŒçš„é¡µé¢ç»„ä»¶ã€‚
    5.  plugins ç›®å½•ï¼šç”¨äºå­˜æ”¾ Vite æ’ä»¶ç›¸å…³çš„æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰éœ€åŠ è½½ä¸åŒçš„æ’ä»¶æ¥å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œå¦‚è‡ªåŠ¨åŒ–æµ‹è¯•ã€ä»£ç å‹ç¼©ç­‰ã€‚
    6.  router ç›®å½•ï¼šç”¨äºå­˜æ”¾ Vue.js çš„è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œè´Ÿè´£ç®¡ç†è§†å›¾å’Œ URL ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ–¹ä¾¿å®ç°é¡µé¢ä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ é€’ã€‚
    7.  store ç›®å½•ï¼šç”¨äºå­˜æ”¾ Vuex çŠ¶æ€ç®¡ç†ç›¸å…³çš„æ–‡ä»¶ï¼Œè´Ÿè´£ç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®å’ŒçŠ¶æ€ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†å’Œå…±äº«æ•°æ®ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚
    8.  utils ç›®å½•ï¼šç”¨äºå­˜æ”¾ä¸€äº›é€šç”¨çš„å·¥å…·å‡½æ•°ï¼Œå¦‚æ—¥æœŸå¤„ç†å‡½æ•°ã€å­—ç¬¦ä¸²æ“ä½œå‡½æ•°ç­‰ã€‚
-   vite.config.js æ–‡ä»¶ï¼šVite çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶é…ç½®é¡¹ç›®çš„å‚æ•°ã€æ’ä»¶ã€æ‰“åŒ…ä¼˜åŒ–ç­‰ã€‚è¯¥æ–‡ä»¶å¯ä»¥ä½¿ç”¨ CommonJS æˆ– ES6 æ¨¡å—çš„è¯­æ³•è¿›è¡Œé…ç½®ã€‚
-   package.json æ–‡ä»¶ï¼šæ ‡å‡†çš„ Node.js é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯å’Œä¾èµ–å…³ç³»ã€‚å…¶ä¸­å¯ä»¥é€šè¿‡ scripts å­—æ®µå®šä¹‰å‡ ä¸ªå‘½ä»¤ï¼Œå¦‚ devã€buildã€serve ç­‰ï¼Œç”¨äºå¯åŠ¨å¼€å‘ã€æ„å»ºå’Œå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ç­‰æ“ä½œã€‚
-   Vite é¡¹ç›®çš„å…¥å£ä¸º src/main.js æ–‡ä»¶ï¼Œè¿™æ˜¯ Vue.js åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æ•´ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶ã€‚åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä¼šå¼•å…¥ Vue.js åŠå…¶ç›¸å…³æ’ä»¶å’Œç»„ä»¶ï¼ŒåŒæ—¶ä¼šåˆ›å»º Vue å®ä¾‹ï¼ŒæŒ‚è½½åˆ° HTML é¡µé¢ä¸ŠæŒ‡å®šçš„ DOM å…ƒç´ ä¸­ã€‚

**Vite çš„è¿è¡Œç•Œé¢**

+ åœ¨å®‰è£…äº† Vite çš„é¡¹ç›®ä¸­ï¼Œå¯ä»¥åœ¨ npm scripts ä¸­ä½¿ç”¨ `vite` å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ `npx vite` è¿è¡Œå®ƒã€‚ä¸‹é¢æ˜¯é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºçš„ Vite é¡¹ç›®ä¸­é»˜è®¤çš„ npm scriptsï¼š(package.json)

  + ```json
    {
      "scripts": {
        "dev": "vite", // å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œåˆ«åï¼š`vite dev`ï¼Œ`vite serve`
        "build": "vite build", // ä¸ºç”Ÿäº§ç¯å¢ƒæ„å»ºäº§ç‰©
        "preview": "vite preview" // æœ¬åœ°é¢„è§ˆç”Ÿäº§æ„å»ºäº§ç‰©
      }
    }
    ```

+ è¿è¡Œè®¾ç½®ç«¯å£å·ï¼š(vite.config.js)

  + ```javascript
    //ä¿®æ”¹viteé¡¹ç›®é…ç½®æ–‡ä»¶ vite.config.js
    export default defineConfig({
      plugins: [vue()],
      server:{
        port:3000
      }
    })
    ```

### Vite + Vue3 é¡¹ç›®ç»„ä»¶(SFCå…¥é—¨)

> ä»€ä¹ˆæ˜¯ VUE çš„ç»„ä»¶ ?

+ ä¸€ä¸ªé¡µé¢ä½œä¸ºæ•´ä½“ï¼Œæ˜¯ç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆçš„ï¼Œæ¯ä¸ªéƒ¨åˆ†åœ¨è¿™é‡Œå°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç»„ä»¶
+ æ¯ä¸ª .vue æ–‡ä»¶å°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç»„ä»¶ï¼Œå¤šä¸ª .vue æ–‡ä»¶å¯ä»¥æ„æˆä¸€ä¸ªæ•´ä½“é¡µé¢
+ ç»„ä»¶åŒ–ç»™æˆ‘ä»¬å¸¦æ¥çš„å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯ç»„ä»¶çš„å¤ç”¨å’Œç»´æŠ¤éå¸¸çš„æ–¹ä¾¿

<img src="images/image_uTNSasJcFd.png" style="zoom:40%;" />

> ä»€ä¹ˆæ˜¯ .vue æ–‡ä»¶ ?

+ ä¼ ç»Ÿçš„é¡µé¢æœ‰ .html æ–‡ä»¶ã€.cssæ–‡ä»¶ã€å’Œ .js æ–‡ä»¶ä¸‰ä¸ªæ–‡ä»¶ç»„æˆ (å¤šæ–‡ä»¶ç»„ä»¶) 
+ Vue å°†è¿™æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ª .vue æ–‡ä»¶ (Single-File Componentï¼Œç®€ç§° SFCï¼Œå•æ–‡ä»¶ç»„ä»¶)

+ .vue æ–‡ä»¶å¯¹ jsã€cssã€html ç»Ÿä¸€å°è£…ï¼Œè¿™æ˜¯ VUE ä¸­çš„æ¦‚å¿µ è¯¥æ–‡ä»¶ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ    `<script>ã€<template>ã€<style>`
  + template æ ‡ç­¾ : ä»£è¡¨ç»„ä»¶çš„ html éƒ¨åˆ†ä»£ç ï¼Œä»£æ›¿ä¼ ç»Ÿçš„ .html æ–‡ä»¶
  + script æ ‡ç­¾ : ä»£è¡¨ç»„ä»¶çš„jsä»£ç ï¼Œä»£æ›¿ä¼ ç»Ÿçš„ .js æ–‡ä»¶
  + style æ ‡ç­¾ : ä»£è¡¨ç»„ä»¶çš„cssæ ·å¼ä»£ç ï¼Œä»£æ›¿ä¼ ç»Ÿçš„ .css æ–‡ä»¶	

> å·¥ç¨‹åŒ– Vue é¡¹ç›®å¦‚ä½•ç»„ç»‡è¿™äº›ç»„ä»¶ ?

+ index.html æ˜¯é¡¹ç›®çš„å…¥å£ï¼Œå…¶ä¸­ `<div id ='app'></div>` æ˜¯ç”¨äºæŒ‚è½½æ‰€æœ‰ç»„å»ºçš„å…ƒç´ 
+ index.html ä¸­çš„ script æ ‡ç­¾å¼•å…¥äº†ä¸€ä¸ª main.js æ–‡ä»¶ï¼Œå…·ä½“çš„æŒ‚è½½è¿‡ç¨‹åœ¨ main.js ä¸­æ‰§è¡Œ
+ main.js æ˜¯ Vue å·¥ç¨‹ä¸­éå¸¸é‡è¦çš„æ–‡ä»¶ï¼Œä»–å†³å®šè¿™é¡¹ç›®ä½¿ç”¨å“ªäº›ä¾èµ–ï¼Œå¯¼å…¥çš„ç¬¬ä¸€ä¸ªç»„ä»¶
+ App.vue æ˜¯ vue ä¸­çš„æ ¸å¿ƒç»„ä»¶,ï¼Œæ‰€æœ‰çš„å…¶ä»–ç»„ä»¶éƒ½è¦é€šè¿‡è¯¥ç»„ä»¶è¿›è¡Œå¯¼å…¥ï¼Œè¯¥ç»„ä»¶é€šè¿‡è·¯ç”±å¯ä»¥æ§åˆ¶é¡µé¢çš„åˆ‡æ¢

![1684912274904](images/1684912274904.png)

### Vite + Vue3 å“åº”å¼å…¥é—¨å’Œ setup å‡½æ•°

**ä½¿ç”¨ Vite åˆ›å»ºä¸€ä¸ª vue+JavaScript é¡¹ç›®**

```shell
npm create vite
npm install 
npm run dev
```

**App.vue**

```html
<script>
    //å­˜å‚¨vueé¡µé¢é€»è¾‘jsä»£ç 
</script>

<template>
    <!-- é¡µé¢çš„æ ·å¼çš„æ˜¯htmlä»£ç -->
</template>

<style scoped>
    /** å­˜å‚¨çš„æ˜¯cssä»£ç ! <style scoped> æ˜¯ Vue.js å•æ–‡ä»¶ç»„ä»¶ä¸­ç”¨äºè®¾ç½®ç»„ä»¶æ ·å¼çš„ä¸€ç§æ–¹å¼ã€‚
    å®ƒçš„å«ä¹‰æ˜¯å°†æ ·å¼å±€é™åœ¨å½“å‰ç»„ä»¶ä¸­ï¼Œä¸å¯¹å…¨å±€æ ·å¼é€ æˆå½±å“ã€‚ */
</style>
```

**Vue3 å“åº”å¼æ•°æ®å…¥é—¨**

```html
<script type="module">
//å­˜å‚¨vueé¡µé¢é€»è¾‘jsä»£ç 
import { ref } from 'vue'
export default {
  setup() {
    //éå“åº”å¼æ•°æ®: ä¿®æ”¹åVUEä¸ä¼šæ›´æ–°DOM
    //å“åº”å¼æ•°æ®:   ä¿®æ”¹åVUEä¼šæ›´æ–°DOM
    //VUE2ä¸­æ•°æ®é»˜è®¤æ˜¯å“åº”å¼çš„
    //VUE3ä¸­æ•°æ®è¦ç»è¿‡refæˆ–è€…reactiveå¤„ç†åæ‰æ˜¯å“åº”å¼çš„
    //refæ˜¯VUE3æ¡†æ¶æä¾›çš„ä¸€ä¸ªå‡½æ•°,éœ€è¦å¯¼å…¥
    //let counter = 1
    //refå¤„ç†çš„å“åº”å¼æ•°æ®åœ¨jsç¼–ç ä¿®æ”¹çš„æ—¶å€™éœ€è¦é€šè¿‡.valueæ“ä½œ
    //refå“åº”å¼æ•°æ®åœ¨ç»‘å®šåˆ°htmlä¸Šæ—¶ä¸éœ€è¦.value

    let counter = ref(1)
    function increase() {
      // é€šè¿‡.valueä¿®æ”¹å“åº”å¼æ•°æ®
      counter.value++
    }
    function decrease() {
      counter.value--
    }
    return {
      counter,
      increase,
      decrease
    }
  }
}
</script>
<template>
  <div>
    <button @click="decrease()">-</button>
    {{ counter }}
    <button @click="increase()">+</button>
  </div>

</template>

<style scoped>
button {
  border: 1px solid red;
}
</style>
```

**Vue3 setupå‡½æ•°å’Œè¯­æ³•ç³–**

```vue
<script type="module" setup>
/* <script type="module" setup> é€šè¿‡setupå…³é”®å­—
å¯ä»¥çœç•¥ export default {setup(){   return{}}}è¿™äº›å†—ä½™çš„è¯­æ³•ç»“æ„ */

import { ref } from 'vue'
// å®šä¹‰å“åº”å¼æ•°æ®
let counter = ref(1)
// å®šä¹‰å‡½æ•°
function increase() {
  counter.value++
}
function decrease() {
  counter.value--
}
</script>
<template>
  <div>
    <button @click="decrease()">-</button>
    {{ counter }}
    <button @click="increase()">+</button>
  </div>
</template>

<style scoped>
button {
  border: 1px solid red;
}
</style>
```

### Vite + Vue3 å…³äºæ ·å¼çš„å¯¼å…¥æ–¹å¼

1. å…¨å±€å¼•å…¥ main.js

   ```javascript
   import './style/reset.css' //ä¹¦å†™å¼•å…¥çš„èµ„æºçš„ç›¸å¯¹è·¯å¾„å³å¯ï¼
   ```

2. Vue æ–‡ä»¶ script ä»£ç å¼•å…¥

   ```javascript
   import './style/reset.css'
   ```

3. Vue æ–‡ä»¶ style ä»£ç å¼•å…¥

   ```javascript
   @import './style/reset.css'
   ```

### å…³äº JS å’Œ TS é€‰æ‹©çš„é—®é¢˜

> TS æ˜¯ JS çš„ä¸€ä¸ªè¶…é›†ï¼Œä½¿ç”¨ TS ä¹‹åï¼ŒJSçš„è¯­æ³•æ›´åŠ çš„åƒ JAVAï¼Œå®é™…å¼€å‘ä¸­ç”¨çš„ç¡®å®æ›´å¤šï¼Œé‚£ä¹ˆè¿™é‡Œä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰ç«‹å³ä½¿ç”¨ TS è¿›è¡Œå¼€å‘ï¼ŒåŸå› å¦‚ä¸‹

1. ä¸ºäº†é™ä½éš¾åº¦ï¼Œæé«˜å‰ç«¯å·¥ç¨‹åŒ–çš„æ•ˆç‡

2. å¯¹äºå­¦ JAVA çš„æˆ‘ä»¬æ¥è¯´ï¼Œå­¦ä¹  TS éå¸¸å®¹æ˜“ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦ä¸€äº›æ—¶é—´

3. TS ä¸æ˜¯éå­¦ä¸å¯ï¼Œä¸ç”¨ TS ä»ç„¶å¯ä»¥æ­£å¸¸å¼€å‘å·¥ç¨‹åŒ–çš„å‰ç«¯é¡¹ç›®

4. å»ºè®®å¤§å®¶å…ˆå­¦å®Œå®Œæ•´çš„å‰ç«¯å·¥ç¨‹åŒ–å†…å®¹ï¼Œç„¶åå†æ ¹æ®éœ€æ±‚å•ç‹¬å­¦ä¹  TS å³å¯

# Vue3 è§†å›¾æ¸²æŸ“æŠ€æœ¯

## æ¨¡ç‰ˆè¯­æ³•

> Vue ä½¿ç”¨ä¸€ç§åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå£°æ˜å¼åœ°å°†å…¶ç»„ä»¶å®ä¾‹çš„æ•°æ®ç»‘å®šåˆ°å‘ˆç°çš„ DOM ä¸Šã€‚æ‰€æœ‰çš„ Vue æ¨¡æ¿éƒ½æ˜¯è¯­æ³•å±‚é¢åˆæ³•çš„ HTMLï¼Œå¯ä»¥è¢«ç¬¦åˆè§„èŒƒçš„æµè§ˆå™¨å’Œ HTML è§£æå™¨è§£æã€‚åœ¨åº•å±‚æœºåˆ¶ä¸­ï¼ŒVue ä¼šå°†æ¨¡æ¿ç¼–è¯‘æˆé«˜åº¦ä¼˜åŒ–çš„ JavaScript ä»£ç ã€‚ç»“åˆå“åº”å¼ç³»ç»Ÿï¼Œå½“åº”ç”¨çŠ¶æ€å˜æ›´æ—¶ï¼ŒVue èƒ½å¤Ÿæ™ºèƒ½åœ°æ¨å¯¼å‡ºéœ€è¦é‡æ–°æ¸²æŸ“çš„ç»„ä»¶çš„æœ€å°‘æ•°é‡ï¼Œå¹¶åº”ç”¨æœ€å°‘çš„ DOM æ“ä½œã€‚

### æ’å€¼è¡¨è¾¾å¼å’Œæ–‡æœ¬æ¸²æŸ“

> æ’å€¼è¡¨è¾¾å¼ : æœ€åŸºæœ¬çš„æ•°æ®ç»‘å®šå½¢å¼æ˜¯æ–‡æœ¬æ’å€¼ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ â€œMustacheâ€ è¯­æ³•ï¼Œå³åŒå¤§æ‹¬å·`{{}}`

+ æ’å€¼è¡¨è¾¾å¼æ˜¯å°†æ•°æ®æ¸²æŸ“åˆ°å…ƒç´ çš„æŒ‡å®šä½ç½®çš„æ‰‹æ®µä¹‹ä¸€
+ æ’å€¼è¡¨è¾¾å¼ä¸ç»å¯¹ä¾èµ–æ ‡ç­¾ï¼Œå…¶ä½ç½®ç›¸å¯¹è‡ªç”±
+ æ’å€¼è¡¨è¾¾å¼ä¸­æ”¯æŒ javascript çš„è¿ç®—è¡¨è¾¾å¼
+ æ’å€¼è¡¨è¾¾å¼ä¸­ä¹Ÿæ”¯æŒå‡½æ•°çš„è°ƒç”¨

``` html
<script setup type="module">
let msg = "hello vue3"
let getMsg = () => {
  return 'hello vue3 message'
}
let age = 19
let bee = 'èœœ èœ‚'
// è´­ç‰©è½¦
const carts = [{ name: 'å¯ä¹', price: 3, number: 10 }, { name: 'è–¯ç‰‡', price: 6, number: 8 }];
//è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢
function compute() {
  let count = 0;
  for (let index in carts) {
    count += carts[index].price * carts[index].number;
  }
  return count;
}
</script>

<template>
  <div>
    <h1>{{ msg }}</h1>
    msgçš„å€¼ä¸º: {{ msg }} <br>
    getMsgè¿”å›çš„å€¼ä¸º:{{ getMsg() }} <br>
    æ˜¯å¦æˆå¹´: {{ age >= 18 ? 'true' : 'false' }} <br>
    åè½¬: {{ bee.split(' ').reverse().join('-') }} <br>
    è´­ç‰©è½¦æ€»é‡‘é¢: {{ compute() }} <br />
    è´­ç‰©è½¦æ€»é‡‘é¢: {{ carts[0].price * carts[0].number + carts[1].price * carts[1].number }} <br>
  </div>
</template>

<style scoped></style>
```

> ä¸ºäº†æ¸²æŸ“åŒæ ‡ä¸­çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ `v-text` å’Œ `v-html` å‘½ä»¤

+ v-*** è¿™ç§å†™æ³•çš„æ–¹å¼ä½¿ç”¨çš„æ˜¯ Vue çš„å‘½ä»¤
+ v-*** çš„å‘½ä»¤å¿…é¡»ä¾èµ–å…ƒç´ ï¼Œå¹¶ä¸”è¦å†™åœ¨å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­
+ v-*** æŒ‡ä»¤æ”¯æŒ ES6 ä¸­çš„å­—ç¬¦ä¸²æ¨¡æ¿
+ æ’å€¼è¡¨è¾¾å¼ä¸­æ”¯æŒ javascript çš„è¿ç®—è¡¨è¾¾å¼
+ æ’å€¼è¡¨è¾¾å¼ä¸­ä¹Ÿæ”¯æŒå‡½æ•°çš„è°ƒç”¨
+ v-text å¯ä»¥å°†æ•°æ®æ¸²æŸ“æˆåŒæ ‡ç­¾ä¸­é—´çš„æ–‡æœ¬ï¼Œä½†æ˜¯ä¸è¯†åˆ« html å…ƒç´ ç»“æ„çš„æ–‡æœ¬
+ v-html å¯ä»¥å°†æ•°æ®æ¸²æŸ“æˆåŒæ ‡ç­¾ä¸­é—´çš„æ–‡æœ¬ï¼Œè¯†åˆ« html å…ƒç´ ç»“æ„çš„æ–‡æœ¬

``` html
<script setup type="module">
let msg = 'hello vue3'
let getMsg = () => {
  return msg
}
let age = 19
let bee = 'èœœ èœ‚'
let redMsg = '<font color=\'red\'>msg</font>'
let greenMsg = `<font color=\'green\'>${msg}</font>`
</script>

<template>
  <div>
    <span v-text='msg'></span> <br>
    <span v-text='redMsg'></span> <br>
    <span v-text='getMsg()'></span> <br>
    <span v-text='age > 18 ? "æˆå¹´" : "æœªæˆå¹´"'></span> <br>
    <span v-text='bee.split(" ").reverse().join("-")'></span> <br>
    <span v-html='msg'></span> <br>
    <span v-html='redMsg'></span> <br>
    <span v-html='greenMsg'></span> <br>
    <span v-html="`<font color='green'>${msg}</font>`"></span> <br>
  </div>
</template>

<style scoped></style>
```

### Attribute å±æ€§æ¸²æŸ“

> æƒ³è¦æ¸²æŸ“ä¸€ä¸ªå…ƒç´ çš„ attributeï¼Œåº”è¯¥ä½¿ç”¨ `v-bind` æŒ‡ä»¤

+ ç”±äºæ’å€¼è¡¨è¾¾å¼ä¸èƒ½ç›´æ¥æ”¾åœ¨æ ‡ç­¾çš„å±æ€§ä¸­ï¼Œæ‰€æœ‰è¦æ¸²æŸ“å…ƒç´ çš„å±æ€§å°±åº”è¯¥ä½¿ç”¨ v-bind
+ v-bind å¯ä»¥ç”¨äºæ¸²æŸ“ä»»ä½•å…ƒç´ çš„å±æ€§ï¼Œè¯­æ³•ä¸º `v-bind:å±æ€§å='æ•°æ®å'` ï¼Œå¯ä»¥ç®€å†™ä¸º `:å±æ€§å='æ•°æ®å'`

``` html
<script setup type="module">
const data = {
  name: 'å°šç¡…è°·',
  url: "http://www.atguigu.com",
  logo: "http://www.atguigu.com/images/index_new/logo.png"
}
</script>

<template>
  <div>
    <a v-bind:href='data.url' target="_self">
      <img :src="data.logo" :title="data.name">
      <br>
      <input type="button" :value="`ç‚¹å‡»è®¿é—®${data.name}`">
    </a>
  </div>
</template>

<style scoped></style>
```

### äº‹ä»¶çš„ç»‘å®š

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `v-on` æ¥ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶åœ¨äº‹ä»¶è§¦å‘æ—¶æ‰§è¡Œå¯¹åº”çš„ Vue çš„ JavaScript ä»£ç ã€‚

+ ç”¨æ³•ï¼š`v-on:click="handler"` æˆ–ç®€å†™ä¸º `@click="handler"`
+ Vue ä¸­çš„äº‹ä»¶å=åŸç”Ÿäº‹ä»¶åå»æ‰ `on` å‰ç¼€   å¦‚ : `onClick â†’ click`
+ handler çš„å€¼å¯ä»¥æ˜¯æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…è”äº‹ä»¶å¤„ç†å™¨
+ ç»‘å®šäº‹ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸€äº›ç»‘å®šçš„ä¿®é¥°ç¬¦ï¼Œå¸¸è§çš„äº‹ä»¶ä¿®é¥°ç¬¦å¦‚ä¸‹
  + **.onceï¼šåªè§¦å‘ä¸€æ¬¡äº‹ä»¶ã€‚[é‡ç‚¹]**
  + **.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚[é‡ç‚¹]**
  + .stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ã€‚
  + .captureï¼šä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼è€Œä¸æ˜¯å†’æ³¡æ¨¡å¼ã€‚
  + .selfï¼šåªåœ¨äº‹ä»¶å‘é€è€…è‡ªèº«è§¦å‘æ—¶æ‰è§¦å‘äº‹ä»¶ã€‚

``` html
<script setup type="module">
import { ref } from 'vue'
// å“åº”å¼æ•°æ® å½“å‘ç”Ÿå˜åŒ–æ—¶,ä¼šè‡ªåŠ¨æ›´æ–° domæ ‘
let count = ref(0)
let addCount = () => {
  count.value++
}
let incrCount = (event) => {
  count.value++
  // é€šè¿‡äº‹ä»¶å¯¹è±¡é˜»æ­¢ç»„ä»¶çš„é»˜è®¤è¡Œä¸º
  event.preventDefault();
}
</script>

<template>
  <div>
    <h1>countçš„å€¼æ˜¯:{{ count }}</h1>
    <!-- æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ -->
    <button v-on:click="addCount()">addCount</button> <br>
    <!-- å†…è”äº‹ä»¶å¤„ç†å™¨ -->
    <button @click="count++">incrCount</button> <br>
    <!-- äº‹ä»¶ä¿®é¥°ç¬¦ once åªç»‘å®šäº‹ä»¶ä¸€æ¬¡ -->
    <button @click.once="count++">addOnce</button> <br>
    <!-- äº‹ä»¶ä¿®é¥°ç¬¦ prevent é˜»æ­¢ç»„ä»¶çš„é»˜è®¤è¡Œä¸º -->
    <a href="http://www.atguigu.com" target="_blank" @click.prevent="count++">prevent</a> <br>
    <!-- åŸç”Ÿjsæ–¹å¼é˜»æ­¢ç»„ä»¶é»˜è®¤è¡Œä¸º (æ¨è) -->
    <a href="http://www.atguigu.com" target="_blank" @click="incrCount($event)">prevent</a> <br>
  </div>
</template>

<style scoped></style>
```

## å“åº”å¼åŸºç¡€

> æ­¤å¤„çš„å“åº”å¼æ˜¯æŒ‡ : æ•°æ®æ¨¡å‹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–° DOM æ ‘å†…å®¹ï¼Œé¡µé¢ä¸Šæ˜¾ç¤ºçš„å†…å®¹ä¼šè¿›è¡ŒåŒæ­¥å˜åŒ–ï¼ŒVue3 çš„æ•°æ®æ¨¡å‹ä¸æ˜¯è‡ªåŠ¨å“åº”å¼çš„ï¼Œéœ€è¦æˆ‘ä»¬åšä¸€äº›ç‰¹æ®Šçš„å¤„ç†

### å“åº”å¼éœ€æ±‚æ¡ˆä¾‹

> éœ€æ±‚ï¼šå®ç° +  - æŒ‰é’®ï¼Œå®ç°æ•°å­—åŠ ä¸€å‡ä¸€

```html
<script type="module" setup>
let counter = 0;
function show() {
  alert(counter);
}
</script>

<template>
  <div>
    <button @click="counter--">-</button>
    {{ counter }}
    <button @click="counter++">+</button>
    <hr>
    <!-- æ­¤æ¡ˆä¾‹,æˆ‘ä»¬å‘ç°counterå€¼,ä¼šæ”¹å˜,ä½†æ˜¯é¡µé¢ä¸æ”¹å˜! é»˜è®¤Vue3çš„æ•°æ®æ˜¯éå“åº”å¼çš„!-->
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
  </div>
</template>

<style scoped></style>
```

### å“åº”å¼å®ç°å…³é”®å­— ref

> `ref` å¯ä»¥å°†ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼Œæ•°å­—ç­‰ï¼‰è½¬æ¢ä¸ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€‚ `ref` åªèƒ½åŒ…è£¹å•ä¸€å…ƒç´ 

```html
<script type="module" setup>
/* ä»vueä¸­å¼•å…¥refæ–¹æ³• */
import { ref } from 'vue'
let counter = ref(0);
function show() {
  alert(counter.value);
}
/* å‡½æ•°ä¸­è¦æ“ä½œrefå¤„ç†è¿‡çš„æ•°æ®,éœ€è¦é€šè¿‡.valueå½¢å¼ */
let decr = () => {
  counter.value--;
}
let incr = () => {
  counter.value++;
}
</script>

<template>
  <div>
    <button @click="counter--">-</button>
    <button @click="decr()">-</button>
    {{ counter }}
    <button @click="counter++">+</button>
    <button @click="incr()">+</button>
    <hr>
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
  </div>
</template>

<style scoped></style>
```

+ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `ref` åŒ…è£¹äº†ä¸€ä¸ªæ•°å­—ï¼Œåœ¨ä»£ç ä¸­ç»™è¿™ä¸ªæ•°å­—åŠ  1 åï¼Œè§†å›¾ä¹Ÿä¼šè·Ÿç€åŠ¨æ€æ›´æ–°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºä½¿ç”¨äº† `ref`ï¼Œå› æ­¤éœ€è¦åœ¨è®¿é—®è¯¥å¯¹è±¡æ—¶ä½¿ç”¨ `.value` æ¥è·å–å…¶å®é™…å€¼ã€‚

### å“åº”å¼å®ç°å…³é”®å­— reactive

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [reactive()](https://cn.vuejs.org/api/reactivity-core.html#reactive "reactive()") å‡½æ•°åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡æˆ–æ•°ç»„ï¼š

```html
<script type="module" setup>
/* ä»vueä¸­å¼•å…¥reactiveæ–¹æ³• */
import { reactive } from 'vue'
let data = reactive({
  counter: 0
})
function show() {
  alert(data.counter);
}
/* å‡½æ•°ä¸­è¦æ“ä½œreactiveå¤„ç†è¿‡çš„æ•°æ®,éœ€è¦é€šè¿‡ å¯¹è±¡å.å±æ€§åçš„æ–¹å¼ */
let decr = () => {
  data.counter--;
}
let incr = () => {
  data.counter++;
}
</script>

<template>
  <div>
    <button @click="data.counter--">-</button>
    <button @click="decr()">-</button>
    {{ data.counter }}
    <button @click="data.counter++">+</button>
    <button @click="incr()">+</button>
    <hr>
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
  </div>
</template>

<style scoped></style>
```

**å¯¹æ¯” ref å’Œ reactive :**

+ ä½¿ç”¨ `ref` é€‚ç”¨äºä»¥ä¸‹å¼€å‘åœºæ™¯ï¼š
  + åŒ…è£…åŸºæœ¬ç±»å‹æ•°æ®ï¼š`ref` ä¸»è¦ç”¨äºåŒ…è£…åŸºæœ¬ç±»å‹æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ç­‰ï¼‰ï¼Œå³åªæœ‰ä¸€ä¸ªå€¼çš„æ•°æ®ï¼Œå¦‚æœä½ æƒ³ç›‘å¬è¿™ä¸ªå€¼çš„å˜åŒ–ï¼Œç”¨ `ref` æœ€ä¸ºæ–¹ä¾¿ã€‚åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶ä¹Ÿå¾ˆå¸¸è§ã€‚
  + è®¿é—®æ–¹å¼ç®€å•ï¼š`ref` å¯¹è±¡åœ¨è®¿é—®æ—¶ä¸æ™®é€šçš„åŸºæœ¬ç±»å‹å€¼æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œåªéœ€è¦é€šè¿‡ `.value` è®¿é—®å…¶å®é™…å€¼å³å¯ã€‚

+ ä½¿ç”¨ `reactive` é€‚ç”¨äºä»¥ä¸‹å¼€å‘åœºæ™¯ï¼š
  + åŒ…è£…å¤æ‚å¯¹è±¡ï¼š`reactive` å¯ä»¥å°†ä¸€ä¸ªæ™®é€šå¯¹è±¡è½¬åŒ–ä¸ºå“åº”å¼å¯¹è±¡ï¼Œè¿™æ ·åœ¨æ•°æ®å˜åŒ–æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ç•Œé¢ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†å¤æ‚å¯¹è±¡æˆ–è€…æ•°æ®ç»“æ„ã€‚
  + éœ€è¦é€’å½’ç›‘å¬çš„å±æ€§ï¼šä½¿ç”¨ `reactive` å¯ä»¥é€’å½’è¿½è¸ªæ‰€æœ‰å“åº”å¼å¯¹è±¡å†…éƒ¨çš„å˜åŒ–ï¼Œä»è€Œä¿è¯ç•Œé¢çš„è‡ªåŠ¨æ›´æ–°ã€‚

+ ç»¼ä¸Šæ‰€è¿°ï¼Œ`ref` é€‚ç”¨ä¸ç®€å•æƒ…å½¢ä¸‹çš„æ•°æ®åŒå‘ç»‘å®šï¼Œå¯¹äºåªæœ‰ä¸€ä¸ªå­—ç¬¦ç­‰åŸºæœ¬ç±»å‹æ•°æ®æˆ–è‡ªå®šä¹‰ç»„ä»¶ç­‰æƒ…å†µï¼Œå»ºè®®å¯ä»¥ä½¿ç”¨ `ref`ï¼›è€Œå¯¹äºå¯¹è±¡ã€å‡½æ•°ç­‰è¾ƒä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä»¥åŠéœ€è¦é€’å½’ç›‘å¬çš„å±æ€§å˜åŒ–ï¼Œå»ºè®®ä½¿ç”¨ `reactive`ã€‚å½“ç„¶ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­æ ¹æ®éœ€æ±‚çµæ´»é€‰æ‹©ä¹Ÿæ˜¯ååˆ†å¿…è¦çš„ã€‚

### æ‰©å±•å“åº”å¼å…³é”®å­— toRefs å’Œ toRef

> toRef åŸºäº reactive å“åº”å¼å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ ref å“åº”å¼æ•°æ®ã€‚è¿™æ ·åˆ›å»ºçš„ ref ä¸å…¶æºå±æ€§ä¿æŒåŒæ­¥ï¼šæ”¹å˜æºå±æ€§çš„å€¼å°†æ›´æ–° ref çš„å€¼ï¼Œåä¹‹äº¦ç„¶ã€‚toRefs å°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡å¤šä¸ªå±æ€§è½¬æ¢ä¸ºä¸€ä¸ªå¤šä¸ªref æ•°æ®ï¼Œè¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯æŒ‡å‘æºå¯¹è±¡ç›¸åº”å±æ€§çš„ refã€‚æ¯ä¸ªå•ç‹¬çš„ ref éƒ½æ˜¯ä½¿ç”¨ [toRef()](https://cn.vuejs.org/api/reactivity-utilities.html#toref "toRef()") åˆ›å»ºçš„ã€‚

æ¡ˆä¾‹ï¼šå“åº”æ˜¾ç¤º reactive å¯¹è±¡å±æ€§

```html
<script type="module" setup>
/* ä»vueä¸­å¼•å…¥reactiveæ–¹æ³• */
import { ref, reactive, toRef, toRefs } from 'vue'
let data = reactive({
  counter: 0,
  name: "test"
})

// å°†ä¸€ä¸ªreactiveå“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§è½¬æ¢æˆä¸€ä¸ªrefå“åº”å¼å¯¹è±¡
let ct = toRef(data, 'counter');
// å°†ä¸€ä¸ªreactiveå“åº”å¼å¯¹è±¡ä¸­çš„å¤šä¸ªå±æ€§è½¬æ¢æˆå¤šä¸ªrefå“åº”å¼å¯¹è±¡
let { counter, name } = toRefs(data)

function show() {
  alert(data.counter);
  // è·å–refçš„å“åº”å¯¹è±¡,éœ€è¦é€šè¿‡.valueå±æ€§
  alert(counter.value);
  alert(name.value)
}
/* å‡½æ•°ä¸­è¦æ“ä½œrefå¤„ç†è¿‡çš„æ•°æ®,éœ€è¦é€šè¿‡.valueå½¢å¼ */
let decr = () => {
  data.counter--;
}
let incr = () => {
  /* refå“åº”å¼æ•°æ®,è¦é€šè¿‡.valueå±æ€§è®¿é—® */
  counter.value++;
}
</script>

<template>
  <div>
    <button @click="data.counter--">-</button>
    <button @click="decr()">-</button>
    {{ data.counter }}
    &amp;
    {{ ct }}
    <button @click="data.counter++">+</button>
    <button @click="incr()">+</button>
    <hr>
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
  </div>
</template>

<style scoped></style>
```

## æ¡ä»¶å’Œåˆ—è¡¨æ¸²æŸ“

### æ¡ä»¶æ¸²æŸ“

**`v-if` æ¡ä»¶æ¸²æŸ“**

+ `v-if='è¡¨è¾¾å¼' `åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å›çœŸå€¼æ—¶æ‰è¢«æ¸²æŸ“

+ ä¹Ÿå¯ä»¥ä½¿ç”¨ `v-else` ä¸º `v-if` æ·»åŠ ä¸€ä¸ª **else åŒºå—**ã€‚

+ ä¸€ä¸ª `v-else` å…ƒç´ å¿…é¡»è·Ÿåœ¨ä¸€ä¸ª `v-if` å…ƒç´ åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ã€‚

```html
<script type="module" setup>
import { ref } from 'vue'
let awesome = ref(true)
</script>

<template>
  <div>
    <h1 v-if="awesome">Vue is awesome!</h1>
    <h1 v-else>Oh no ğŸ˜¢</h1>
    <button @click="awesome = !awesome">Toggle</button>
  </div>
</template>

<style scoped></style>
```

**`v-show` æ¡ä»¶æ¸²æŸ“æ‰©å±•ï¼š**

+ å¦ä¸€ä¸ªå¯ä»¥ç”¨æ¥æŒ‰æ¡ä»¶æ˜¾ç¤ºä¸€ä¸ªå…ƒç´ çš„æŒ‡ä»¤æ˜¯ `v-show`ã€‚å…¶ç”¨æ³•åŸºæœ¬ä¸€æ ·ï¼š

+ ä¸åŒä¹‹å¤„åœ¨äº `v-show` ä¼šåœ¨ DOM æ¸²æŸ“ä¸­ä¿ç•™è¯¥å…ƒç´ ï¼›`v-show` ä»…åˆ‡æ¢äº†è¯¥å…ƒç´ ä¸Šåä¸º `display` çš„ CSS å±æ€§ã€‚

+ `v-show` ä¸æ”¯æŒåœ¨ `<template>` å…ƒç´ ä¸Šä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½å’Œ `v-else` æ­é…ä½¿ç”¨ã€‚

``` html
<script type="module" setup>
import { ref } from 'vue'
let awesome = ref(true)
</script>

<template>
  <div>
    <h1 id="ha" v-show="awesome">Vue is awesome!</h1>
    <h1 id="hb" v-if="awesome">Vue is awesome!</h1>
    <h1 id="hc" v-else>Oh no ğŸ˜¢</h1>
    <button @click="awesome = !awesome">Toggle</button>
  </div>
</template>

<style scoped></style>
```

![1684565503347](images/1684565503347.png)

> **`v-if` vs** **`v-show`**

+ `v-if` æ˜¯ **çœŸå®çš„** æŒ‰æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒç¡®ä¿äº†åœ¨åˆ‡æ¢æ—¶ï¼Œæ¡ä»¶åŒºå—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶éƒ½ä¼šè¢«é”€æ¯ä¸é‡å»ºã€‚

+ `v-if` ä¹Ÿæ˜¯**æƒ°æ€§**çš„ï¼šå¦‚æœåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ¡ä»¶å€¼ä¸º falseï¼Œåˆ™ä¸ä¼šåšä»»ä½•äº‹ã€‚æ¡ä»¶åŒºå—åªæœ‰å½“æ¡ä»¶é¦–æ¬¡å˜ä¸º true æ—¶æ‰è¢«æ¸²æŸ“ã€‚

+ ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`v-show` ç®€å•è®¸å¤šï¼Œå…ƒç´ æ— è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œåªæœ‰ CSS `display` å±æ€§ä¼šè¢«åˆ‡æ¢ã€‚

+ æ€»çš„æ¥è¯´ï¼Œ`v-if` æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ `v-show` æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ `v-show` è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶ç»‘å®šæ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ `v-if` ä¼šæ›´åˆé€‚ã€‚

### åˆ—è¡¨æ¸²æŸ“

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `v-for` æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ã€‚

+ `v-for` æŒ‡ä»¤çš„å€¼éœ€è¦ä½¿ç”¨ `item in items` å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ `items` æ˜¯æºæ•°æ®çš„æ•°ç»„ï¼Œè€Œ `item` æ˜¯è¿­ä»£é¡¹çš„**åˆ«å**ï¼š

+ åœ¨ `v-for` å—ä¸­å¯ä»¥å®Œæ•´åœ°è®¿é—®çˆ¶ä½œç”¨åŸŸå†…çš„å±æ€§å’Œå˜é‡ã€‚`v-for` ä¹Ÿæ”¯æŒä½¿ç”¨å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå½“å‰é¡¹çš„ä½ç½®ç´¢å¼•ã€‚

```html
<script type="module" setup>
import { ref, reactive } from 'vue'
let parentMessage = ref('äº§å“')
let items = reactive([
  {
    id: 'item1',
    message: "è–¯ç‰‡"
  },
  {
    id: 'item2',
    message: "å¯ä¹"
  }
])
</script>

<template>
  <div>
    <ul>
      <!-- :keyä¸å†™ä¹Ÿå¯ä»¥ -->
      <li v-for='item in items' :key='item.id'>
        {{ item.message }}
      </li>
    </ul>

    <ul>
      <!-- indexè¡¨ç¤ºç´¢å¼•,å½“ç„¶ä¸æ˜¯éå¾—ä½¿ç”¨indexè¿™ä¸ªå•è¯ -->
      <li v-for="(item, index) in items" :key="index">
        {{ parentMessage }} - {{ index }} - {{ item.message }}
      </li>
    </ul>

  </div>
</template>

<style scoped></style>
```

**æ¡ˆä¾‹ï¼šå®ç°è´­ç‰©è½¦æ˜¾ç¤ºå’Œåˆ é™¤è´­ç‰©é¡¹**

``` html
<script type="module" setup>
//å¼•å…¥æ¨¡å—
import { reactive } from 'vue'

//å‡†å¤‡è´­ç‰©è½¦æ•°æ®,è®¾ç½®æˆå“åº”æ•°æ®
const carts = reactive([{ name: 'å¯ä¹', price: 3, number: 10 }, { name: 'è–¯ç‰‡', price: 6, number: 8 }])

//è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢
function compute() {
  let count = 0;
  for (let index in carts) {
    count += carts[index].price * carts[index].number;
  }
  return count;
}

//åˆ é™¤è´­ç‰©é¡¹æ–¹æ³•
function removeCart(index) {
  carts.splice(index, 1);
}
</script>

<template>
  <div>
    <table>
      <thead>
        <tr>
          <th>åºå·</th>
          <th>å•†å“å</th>
          <th>ä»·æ ¼</th>
          <th>æ•°é‡</th>
          <th>å°è®¡</th>
          <th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody v-if="carts.length > 0">
        <!-- æœ‰æ•°æ®æ˜¾ç¤º-->
        <tr v-for="cart, index in carts" :key="index">
          <th>{{ index + 1 }}</th>
          <th>{{ cart.name }}</th>
          <th>{{ cart.price + 'å…ƒ' }}</th>
          <th>{{ cart.number }}</th>
          <th>{{ cart.price * cart.number + 'å…ƒ' }}</th>
          <th> <button @click="removeCart(index)">åˆ é™¤</button> </th>
        </tr>
      </tbody>
      <tbody v-else>
        <!-- æ²¡æœ‰æ•°æ®æ˜¾ç¤º-->
        <tr>
          <td colspan="6">è´­ç‰©è½¦æ²¡æœ‰æ•°æ®!</td>
        </tr>
      </tbody>
    </table>
    è´­ç‰©è½¦æ€»é‡‘é¢: {{ compute() }} å…ƒ
  </div>
</template>

<style scoped></style>
```

## åŒå‘ç»‘å®š

> å•é¡¹ç»‘å®šå’ŒåŒå‘ç»‘å®š

+ å•å‘ç»‘å®š : å“åº”å¼æ•°æ®çš„å˜åŒ–ä¼šæ›´æ–° dom æ ‘ï¼Œä½†æ˜¯ dom æ ‘ä¸Šç”¨æˆ·çš„æ“ä½œé€ æˆçš„æ•°æ®æ”¹å˜ä¸ä¼šåŒæ­¥æ›´æ–°åˆ°å“åº”å¼æ•°æ®
+ åŒå‘ç»‘å®š : å“åº”å¼æ•°æ®çš„å˜åŒ–ä¼šæ›´æ–° dom æ ‘ï¼Œä½†æ˜¯ dom æ ‘ä¸Šç”¨æˆ·çš„æ“ä½œé€ æˆçš„æ•°æ®æ”¹å˜ä¼šåŒæ­¥æ›´æ–°åˆ°å“åº”å¼æ•°æ®
  + ç”¨æˆ·é€šè¿‡è¡¨å•æ ‡ç­¾æ‰èƒ½å¤Ÿè¾“å…¥æ•°æ®ï¼Œæ‰€ä»¥åŒå‘ç»‘å®šéƒ½æ˜¯åº”ç”¨åˆ°è¡¨å•æ ‡ç­¾ä¸Šçš„ï¼Œå…¶ä»–æ ‡ç­¾ä¸è¡Œ
  + v-model ä¸“é—¨ç”¨äºåŒå‘ç»‘å®šè¡¨å•æ ‡ç­¾çš„ value å±ï¼Œè¯­æ³•ä¸º `v-model:value=''`ï¼Œå¯ä»¥ç®€å†™ä¸º `v-model=''`
  + v-model è¿˜å¯ä»¥ç”¨äºå„ç§ä¸åŒç±»å‹çš„è¾“å…¥ï¼Œ`<textarea>`ã€`<select>` å…ƒç´ ã€‚

```html
<script type="module" setup>

//å¼•å…¥æ¨¡å—
import { reactive, ref } from 'vue'
let hbs = ref([]); //è£…çˆ±å¥½çš„å€¼
let user = reactive({ username: '', password: '', introduce: '', pro: '' });
function login() {
  alert(hbs.value);
  alert(JSON.stringify(user));
}
function clearx() {
  //user = {};// è¿™ä¸­å†™æ³•ä¼šå°†æ•°æ®å˜æˆéå“åº”çš„,åº”è¯¥æ˜¯user.username=""
  user.username = ''
  user.password = ''
  user.introduce = ''
  user.pro = ''
  hbs.value.splice(0, hbs.value.length);;
}
</script>

<template>
  <div>
    è´¦å·ï¼š <input type="text" placeholder="è¯·è¾“å…¥è´¦å·ï¼" v-model="user.username"> <br>
    å¯†ç ï¼š <input type="text" placeholder="è¯·è¾“å…¥è´¦å·ï¼" v-model="user.password"> <br>
    çˆ±å¥½ï¼š
    åƒ <input type="checkbox" name="hbs" v-model="hbs" value="åƒ">
    å– <input type="checkbox" name="hbs" v-model="hbs" value="å–">
    ç© <input type="checkbox" name="hbs" v-model="hbs" value="ç©">
    ä¹ <input type="checkbox" name="hbs" v-model="hbs" value="ä¹">
    <br>
    ç®€ä»‹:<textarea v-model="user.introduce"></textarea>
    <br>
    ç±è´¯:
    <select v-model="user.pro">
      <option value="1">é»‘</option>
      <option value="2">å‰</option>
      <option value="3">è¾½</option>
      <option value="4">äº¬</option>
      <option value="5">æ´¥</option>
      <option value="6">å†€</option>
    </select>
    <br>
    <button @click="login()">ç™»å½•</button>
    <button @click="clearx()">é‡ç½®</button>
    <hr>
    æ˜¾ç¤ºçˆ±å¥½:{{ hbs }}
    <hr>
    æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯:{{ user }}
  </div>
</template>

<style scoped></style>
```

## å±æ€§è®¡ç®—

æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¹Ÿåªèƒ½ç”¨æ¥åšç®€å•çš„æ“ä½œã€‚å¦‚æœåœ¨æ¨¡æ¿ä¸­å†™å¤ªå¤šé€»è¾‘ï¼Œä¼šè®©æ¨¡æ¿å˜å¾—è‡ƒè‚¿ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªåŒ…å«åµŒå¥—æ•°ç»„çš„å¯¹è±¡ï¼š

```html
<script type="module" setup>
//å¼•å…¥æ¨¡å—
import { reactive, computed } from 'vue'
const author = reactive({
  name: 'John Doe',
  books: [
    'Vue 2 - Advanced Guide',
    'Vue 3 - Basic Guide',
    'Vue 4 - The Mystery'
  ]
})

</script>

<template>
  <div>
    <p>{{ author.name }} Has published books?:</p>
    <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span>
  </div>
</template>

<style scoped></style>
```

> è¿™é‡Œçš„æ¨¡æ¿çœ‹èµ·æ¥æœ‰äº›å¤æ‚ã€‚æˆ‘ä»¬å¿…é¡»è®¤çœŸçœ‹å¥½ä¸€ä¼šå„¿æ‰èƒ½æ˜ç™½å®ƒçš„è®¡ç®—ä¾èµ–äº `author.books`ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœåœ¨æ¨¡æ¿ä¸­éœ€è¦ä¸æ­¢ä¸€æ¬¡è¿™æ ·çš„è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä¸æƒ³å°†è¿™æ ·çš„ä»£ç åœ¨æ¨¡æ¿é‡Œé‡å¤å¥½å¤šéã€‚

å› æ­¤æˆ‘ä»¬æ¨èä½¿ç”¨**è®¡ç®—å±æ€§**æ¥æè¿°ä¾èµ–å“åº”å¼çŠ¶æ€çš„å¤æ‚é€»è¾‘ã€‚è¿™æ˜¯é‡æ„åçš„ç¤ºä¾‹ï¼š

```html
<script type="module" setup>
//å¼•å…¥æ¨¡å—
import { reactive, computed } from 'vue'
const author = reactive({
  name: 'John Doe',
  books: [
    'Vue 2 - Advanced Guide',
    'Vue 3 - Basic Guide',
    'Vue 4 - The Mystery'
  ]
})
// ä¸€ä¸ªè®¡ç®—å±æ€§ ref
const publishedBooksMessage = computed(() => {
  console.log("publishedBooksMessage")
  return author.books.length > 0 ? 'Yes' : 'No'
})
// ä¸€ä¸ªå‡½æ•°
let hasBooks = () => {
  console.log("hasBooks")
  return author.books.length > 0 ? 'Yes' : 'no'
}

</script>

<template>
  <div>
    <p>{{ author.name }} Has published books?:</p>
    <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span>
    <span>{{ hasBooks() }}</span><!-- è°ƒç”¨æ–¹æ³•,æ¯ä¸ªæ ‡ç­¾éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ -->
    <span>{{ hasBooks() }}</span>

    <p>{{ author.name }} Has published books?:</p>
    <span>{{ publishedBooksMessage }}</span><!-- å±æ€§è®¡ç®—,å±æ€§å€¼ä¸å˜æ—¶,å¤šä¸ªä¸ªæ ‡ç­¾åªä¼šè°ƒç”¨ä¸€æ¬¡ -->
    <span>{{ publishedBooksMessage }}</span>
  </div>
</template>

<style scoped></style>
```

+ æˆ‘ä»¬åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å±æ€§ `publishedBooksMessage`ã€‚`computed()` æ–¹æ³•æœŸæœ›æ¥æ”¶ä¸€ä¸ª getter å‡½æ•°ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ª**è®¡ç®—å±æ€§ ref**ã€‚å’Œå…¶ä»–ä¸€èˆ¬çš„ ref ç±»ä¼¼ï¼Œä½ å¯ä»¥é€šè¿‡ `publishedBooksMessage.value` è®¿é—®è®¡ç®—ç»“æœã€‚è®¡ç®—å±æ€§ ref ä¹Ÿä¼šåœ¨æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…ï¼Œå› æ­¤åœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­å¼•ç”¨æ—¶æ— éœ€æ·»åŠ  `.value`ã€‚

+ Vue çš„è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è¿½è¸ªå“åº”å¼ä¾èµ–ã€‚å®ƒä¼šæ£€æµ‹åˆ° `publishedBooksMessage` ä¾èµ–äº `author.books`ï¼Œæ‰€ä»¥å½“ `author.books` æ”¹å˜æ—¶ï¼Œä»»ä½•ä¾èµ–äº `publishedBooksMessage` çš„ç»‘å®šéƒ½ä¼šåŒæ—¶æ›´æ–°ã€‚

> è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•

+ è‹¥æˆ‘ä»¬å°†åŒæ ·çš„å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯è®¡ç®—å±æ€§ï¼Œä¸¤ç§æ–¹å¼åœ¨ç»“æœä¸Šç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œç„¶è€Œï¼Œä¸åŒä¹‹å¤„åœ¨äº**è®¡ç®—å±æ€§å€¼ä¼šåŸºäºå…¶å“åº”å¼ä¾èµ–è¢«ç¼“å­˜**ã€‚ä¸€ä¸ªè®¡ç®—å±æ€§ä»…ä¼šåœ¨å…¶å“åº”å¼ä¾èµ–æ›´æ–°æ—¶æ‰é‡æ–°è®¡ç®—ã€‚è¿™æ„å‘³ç€åªè¦ `author.books` ä¸æ”¹å˜ï¼Œæ— è®ºå¤šå°‘æ¬¡è®¿é—® `publishedBooksMessage` éƒ½ä¼šç«‹å³è¿”å›å…ˆå‰çš„è®¡ç®—ç»“æœ!

## æ•°æ®ç›‘å¬å™¨

> è®¡ç®—å±æ€§å…è®¸æˆ‘ä»¬å£°æ˜æ€§åœ°è®¡ç®—è¡ç”Ÿå€¼ã€‚ç„¶è€Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çŠ¶æ€å˜åŒ–æ—¶æ‰§è¡Œä¸€äº›â€œå‰¯ä½œç”¨â€ï¼šä¾‹å¦‚æ›´æ”¹ DOMï¼Œæˆ–æ˜¯æ ¹æ®å¼‚æ­¥æ“ä½œçš„ç»“æœå»ä¿®æ”¹å¦ä¸€å¤„çš„çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [watch](https://cn.vuejs.org/api/reactivity-core.html#watch "watch")[ å‡½æ•°](https://cn.vuejs.org/api/reactivity-core.html#watch " å‡½æ•°") åœ¨æ¯æ¬¡å“åº”å¼çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘å›è°ƒå‡½æ•°ï¼š

+ watchä¸»è¦ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š
  + å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éœ€è¦æ‰§è¡Œç›¸åº”çš„æ“ä½œ
  + ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå½“æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶è§¦å‘ç›¸åº”æ“ä½œ
  + åœ¨å¼‚æ­¥æ“ä½œå‰æˆ–æ“ä½œåéœ€è¦æ‰§è¡Œç›¸åº”çš„æ“ä½œ

**ç›‘æ§å“åº”å¼æ•°æ®ï¼ˆwatchï¼‰ï¼š**

```html
<script type="module" setup>
//å¼•å…¥æ¨¡å—
import { ref, reactive, watch } from 'vue'

let firstname = ref('')
let lastname = reactive({ name: '' })
let fullname = ref('')

//ç›‘å¬ä¸€ä¸ªrefå“åº”å¼æ•°æ®
watch(firstname, (newValue, oldValue) => {
  console.log(`${oldValue}å˜ä¸º${newValue}`)
  fullname.value = firstname.value + lastname.name
})

//ç›‘å¬reactiveå“åº”å¼æ•°æ®çš„æŒ‡å®šå±æ€§
watch(() => lastname.name, (newValue, oldValue) => {
  console.log(`${oldValue}å˜ä¸º${newValue}`)
  fullname.value = firstname.value + lastname.name
})

//ç›‘å¬reactiveå“åº”å¼æ•°æ®çš„æ‰€æœ‰å±æ€§(æ·±åº¦ç›‘è§†,ä¸€èˆ¬ä¸æ¨è)
//deep:true æ·±åº¦ç›‘è§†
//immediate:true æ·±åº¦ç›‘è§†åœ¨è¿›å…¥é¡µé¢æ—¶ç«‹å³æ‰§è¡Œä¸€æ¬¡
watch(() => lastname, (newValue, oldValue) => {
  // æ­¤æ—¶çš„newValueå’ŒoldValueä¸€æ ·,éƒ½æ˜¯lastname
  console.log(newValue)
  console.log(oldValue)
  fullname.value = firstname.value + lastname.name
}, { deep: true, immediate: false })
</script>

<template>
  <div>
    å…¨å:{{ fullname }} <br>
    å§“æ°:<input type="text" v-model="firstname"> <br>
    åå­—:<input type="text" v-model="lastname.name"> <br>
  </div>
</template>

<style scoped></style>
```

**ç›‘æ§å“åº”å¼æ•°æ®(watchEffect)ï¼š**

> watchEffect é»˜è®¤ç›‘å¬æ‰€æœ‰çš„å“åº”å¼æ•°æ®

```html
<script type="module" setup>
//å¼•å…¥æ¨¡å—
import { ref, reactive, watch, watchEffect } from 'vue'

let firstname = ref('')
let lastname = reactive({ name: '' })
let fullname = ref('')

//ç›‘å¬æ‰€æœ‰å“åº”å¼æ•°æ®
watchEffect(() => {
  //ç›´æ¥åœ¨å†…éƒ¨ä½¿ç”¨ç›‘å¬å±æ€§å³å¯ï¼ä¸ç”¨å¤–éƒ¨å£°æ˜
  //ä¹Ÿä¸éœ€è¦ï¼Œå³æ—¶å›è°ƒè®¾ç½®ï¼é»˜è®¤åˆå§‹åŒ–å°±åŠ è½½ï¼
  console.log(firstname.value)
  console.log(lastname.name)
  fullname.value = `${firstname.value}${lastname.name}`
})
</script>

<template>
  <div>
    å…¨å:{{ fullname }} <br>
    å§“æ°:<input type="text" v-model="firstname"> <br>
    åå­—:<input type="text" v-model="lastname.name"> <br>
  </div>
</template>

<style scoped></style>
```

> `watch` vs. `watchEffect`

+ `watch` å’Œ `watchEffect` éƒ½èƒ½å“åº”å¼åœ°æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„å›è°ƒã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯è¿½è¸ªå“åº”å¼ä¾èµ–çš„æ–¹å¼ï¼š
  + `watch` åªè¿½è¸ªæ˜ç¡®ä¾¦å¬çš„æ•°æ®æºã€‚å®ƒä¸ä¼šè¿½è¸ªä»»ä½•åœ¨å›è°ƒä¸­è®¿é—®åˆ°çš„ä¸œè¥¿ã€‚å¦å¤–ï¼Œä»…åœ¨æ•°æ®æºç¡®å®æ”¹å˜æ—¶æ‰ä¼šè§¦å‘å›è°ƒã€‚`watch` ä¼šé¿å…åœ¨å‘ç”Ÿå‰¯ä½œç”¨æ—¶è¿½è¸ªä¾èµ–ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬èƒ½æ›´åŠ ç²¾ç¡®åœ°æ§åˆ¶å›è°ƒå‡½æ•°çš„è§¦å‘æ—¶æœºã€‚
  + `watchEffect`ï¼Œåˆ™ä¼šåœ¨å‰¯ä½œç”¨å‘ç”ŸæœŸé—´è¿½è¸ªä¾èµ–ã€‚å®ƒä¼šåœ¨åŒæ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰èƒ½è®¿é—®åˆ°çš„å“åº”å¼å±æ€§ã€‚è¿™æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ä»£ç å¾€å¾€æ›´ç®€æ´ï¼Œä½†æœ‰æ—¶å…¶å“åº”æ€§ä¾èµ–å…³ç³»ä¼šä¸é‚£ä¹ˆæ˜ç¡®ã€‚

## Vue ç”Ÿå‘½å‘¨æœŸ

###  ç”Ÿå‘½å‘¨æœŸç®€ä»‹

> æ¯ä¸ª Vue ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½éœ€è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œæ¯”å¦‚è®¾ç½®å¥½æ•°æ®ä¾¦å¬ï¼Œç¼–è¯‘æ¨¡æ¿ï¼ŒæŒ‚è½½å®ä¾‹åˆ° DOMï¼Œä»¥åŠåœ¨æ•°æ®æ”¹å˜æ—¶æ›´æ–° DOMã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®ƒä¹Ÿä¼šè¿è¡Œè¢«ç§°ä¸º `ç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°`ï¼Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç  !

+ å‘¨æœŸå›¾è§£ï¼š

<img src="images/image_elceCM4Wbp.png" style="zoom: 50%;" />

+ å¸¸è§é’©å­å‡½æ•°
  + onMounted()              æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œã€‚ 
  + onUpdated()               æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹åè°ƒç”¨ã€‚ 
  + onUnmounted()         æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹åè°ƒç”¨ã€‚ 
  + onBeforeMount()       æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶è¢«æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚ 
  + onBeforeUpdate()      æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å³å°†å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹å‰è°ƒç”¨ã€‚ 
  + onBeforeUnmount()  æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹å‰è°ƒç”¨ã€‚ 

### ç”Ÿå‘½å‘¨æœŸæ¡ˆä¾‹

```html
<script setup>
import { ref, onUpdated, onMounted, onBeforeUpdate } from 'vue'

let message = ref('hello')

// æŒ‚è½½å®Œæ¯•ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  console.log('-----------onMounted---------')
  let span1 = document.getElementById("span1")
  console.log(span1.innerText)
})

// æ›´æ–°å‰ç”Ÿå‘½å‘¨æœŸ
onBeforeUpdate(() => {
  console.log('-----------onBeforeUpdate---------')
  console.log(message.value)
  let span1 = document.getElementById("span1")
  console.log(span1.innerText)
})

// æ›´æ–°å®Œæˆç”Ÿå‘½å‘¨æœŸ
onUpdated(() => {
  console.log('-----------onUpdated---------')
  let span1 = document.getElementById("span1")
  console.log(span1.innerText)
})
</script>

<template>
  <div>
    <span id="span1" v-text="message"></span> <br>
    <input type="text" v-model="message">
  </div>

</template>

<style scoped></style>
```

## Vue ç»„ä»¶

### ç»„ä»¶åŸºç¡€

ç»„ä»¶å…è®¸æˆ‘ä»¬å°† UI åˆ’åˆ†ä¸ºç‹¬ç«‹çš„ã€å¯é‡ç”¨çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”å¯ä»¥å¯¹æ¯ä¸ªéƒ¨åˆ†è¿›è¡Œå•ç‹¬çš„æ€è€ƒã€‚ç»„ä»¶å°±æ˜¯å®ç°åº”ç”¨ä¸­å±€éƒ¨åŠŸèƒ½ä»£ç å’Œèµ„æºçš„é›†åˆï¼åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç»„ä»¶å¸¸å¸¸è¢«ç»„ç»‡æˆå±‚å±‚åµŒå¥—çš„æ ‘çŠ¶ç»“æ„ï¼š

<img src="images/image_9dCv8raLh-.png" style="zoom:50%;" />

è¿™å’Œæˆ‘ä»¬åµŒå¥— HTML å…ƒç´ çš„æ–¹å¼ç±»ä¼¼ï¼ŒVue å®ç°äº†è‡ªå·±çš„ç»„ä»¶æ¨¡å‹ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªç»„ä»¶å†…å°è£…è‡ªå®šä¹‰å†…å®¹ä¸é€»è¾‘ã€‚

**ä¼ ç»Ÿæ–¹å¼ç¼–å†™åº”ç”¨ï¼š**

<img src="images/image_6ZwJPs9HkC.png" style="zoom: 40%;" />

**ç»„ä»¶æ–¹å¼ç¼–å†™åº”ç”¨ï¼š**

<img src="images/image_uTNSasJcFd.png" style="zoom:40%;" />

+ ç»„ä»¶åŒ–ï¼šå¯¹ jsã€cssã€html ç»Ÿä¸€å°è£…ï¼Œè¿™æ˜¯ VUE ä¸­çš„æ¦‚å¿µ

+ æ¨¡å—åŒ–ï¼šå¯¹ js çš„ç»Ÿä¸€å°è£…ï¼Œè¿™æ˜¯ ES6 ä¸­çš„æ¦‚å¿µ
+ ç»„ä»¶åŒ–ä¸­ï¼Œå¯¹ js éƒ¨åˆ†ä»£ç çš„å¤„ç†ä½¿ç”¨ ES6 ä¸­çš„æ¨¡å—åŒ–

### ç»„ä»¶åŒ–å…¥é—¨æ¡ˆä¾‹

> æ¡ˆä¾‹éœ€æ±‚ï¼š åˆ›å»ºä¸€ä¸ªé¡µé¢ï¼ŒåŒ…å«å¤´éƒ¨å’Œèœå•ä»¥åŠå†…å®¹æ˜¾ç¤ºåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸä½¿ç”¨ç‹¬ç«‹ç»„å»ºï¼

![1686885192862](images/1686885192862.png)

**Step1: å‡†å¤‡ vue é¡¹ç›®**

```shell
npm create vite
cd viteé¡¹ç›®
npm install
```

**Step2: å®‰è£…ç›¸å…³ä¾èµ–**

```shell
npm install sass
npm install bootstrap
```

**Step3: åˆ›å»ºå­ç»„ä»¶ï¼Œåœ¨ src/components æ–‡ä»¶ä¸‹ vscodeéœ€è¦å®‰è£… Vetur æ’ä»¶ï¼Œè¿™æ · vue æ–‡ä»¶æœ‰å¿«æ·æç¤º**

**Header.vue**

```html
<script setup type="module">
</script>

<template>
  <div>
    æ¬¢è¿ï¼š xx <a href="#">é€€å‡ºç™»å½•</a>
  </div>
</template>

<style></style>
```

**Navigator.vue**

```html
<script setup type="module">
</script>

<template>
  <!-- æ¨èå†™ä¸€ä¸ªæ ¹æ ‡ç­¾-->
  <div>
    <ul>
      <li>å­¦å‘˜ç®¡ç†</li>
      <li>å›¾ä¹¦ç®¡ç†</li>
      <li>è¯·å‡ç®¡ç†</li>
      <li>è€ƒè¯•ç®¡ç†</li>
      <li>è®²å¸ˆç®¡ç†</li>
    </ul>
  </div>
</template>

<style></style>
```

**Content.vue**

```html
<script setup type="module">
</script>

<template>
  <div>
    å±•ç¤ºçš„ä¸»è¦å†…å®¹ï¼
  </div>
</template>

<style></style>
```

**App.vue  å…¥å£ç»„ä»¶ App å¼•å…¥ç»„ä»¶**

```html
<script setup>
import Header from './components/Header.vue'
import Navigator from './components/Navigator.vue'
import Content from './components/Content.vue'
</script>

<template>
  <div>
    <Header class="header"></Header>
    <Navigator class="navigator"></Navigator>
    <Content class="content"></Content>
  </div>
</template>

<style scoped>
.header {
  height: 80px;
  border: 1px solid red;
}

.navigator {
  width: 15%;
  height: 800px;
  display: inline-block;
  border: 1px blue solid;
  float: left;
}

.content {
  width: 83%;
  height: 800px;
  display: inline-block;
  border: 1px goldenrod solid;
  float: right;
}
</style>
```

**Step4: å¯åŠ¨æµ‹è¯•**

```shell
npm run dev
```

### ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®

#### çˆ¶ä¼ å­

> Vue3 ä¸­çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼å¯ä»¥é€šè¿‡ props è¿›è¡Œï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š

1. é¦–å…ˆï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰éœ€è¦ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼ï¼Œæ¥ç€ï¼Œåœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­å¼•å…¥å­ç»„ä»¶ï¼ŒåŒæ—¶åœ¨å¼•å…¥å­ç»„ä»¶çš„æ ‡ç­¾ä¸­æ·»åŠ  props å±æ€§å¹¶ä¸ºå…¶è®¾ç½®éœ€è¦ä¼ é€’çš„å€¼ã€‚

2. åœ¨ Vue3 ä¸­ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ props ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼æ˜¯å“åº”å¼çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨çˆ¶ç»„ä»¶ä¸­çš„ä¼ é€’çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œå­ç»„ä»¶ä¸­çš„å€¼ä¹Ÿä¼šç›¸åº”åœ°æ›´æ–°ã€‚

**çˆ¶ç»„ä»¶ä»£ç ï¼šApp.vue**

```html
<script setup>
import Son from './components/Son.vue'
import { ref, reactive, toRefs } from 'vue'

let message = ref('parent data!')
let title = ref(42)

function changeMessage() {
  message.value = 'ä¿®æ”¹æ•°æ®ï¼'
  title.value++
}
</script>

<template>
  <div>
    <h2>{{ message }}</h2>
    <hr>
    <!-- ä½¿ç”¨å­ç»„ä»¶ï¼Œå¹¶ä¸”ä¼ é€’æ•°æ®ï¼ -->
    <Son :message="message" :title="title"></Son>
    <hr>
    <button @click="changeMessage">ç‚¹å‡»æ›´æ–°</button>
  </div>
</template>

<style scoped></style>
```

**å­ç»„ä»¶ä»£ç ï¼šSon.vue**

```html
<script setup type="module">
import { ref, isRef, defineProps } from 'vue'
//å£°æ˜çˆ¶ç»„ä»¶ä¼ é€’å±æ€§å€¼
defineProps({
  message: String,
  title: Number
})
</script>

<template>
  <div>
    <div>{{ message }}</div>
    <div>{{ title }}</div>
  </div>
</template>

<style></style>
```

#### å­ä¼ çˆ¶

**çˆ¶ç»„ä»¶ï¼š App.vue**

```html
<script setup>
import Son from './components/Son.vue'
import { ref } from 'vue'

let pdata = ref('')

const padd = (data) => {
  console.log('2222');
  pdata.value = data;
}

//è‡ªå®šä¹‰æ¥æ”¶ï¼Œå­ç»„ä»¶ä¼ é€’æ•°æ®æ–¹æ³•ï¼ å‚æ•°ä¸ºæ•°æ®ï¼
const psub = (data) => {
  console.log('11111');
  pdata.value = data;
}
</script>

<template>
  <div>
    <!-- å£°æ˜@äº‹ä»¶ååº”è¯¥ç­‰äºå­æ¨¡å—å¯¹åº”äº‹ä»¶åï¼è°ƒç”¨æ–¹æ³•å¯ä»¥æ˜¯å½“å‰è‡ªå®šä¹‰ï¼-->
    <Son @add="padd" @sub="psub"></Son>
    <hr>
    {{ pdata }}
  </div>
</template>
```

**å­ç»„ä»¶ï¼šSon.vue**

```html
<script setup>
import { ref, defineEmits } from 'vue'

//1.å®šä¹‰è¦å‘é€ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œå¯ä»¥1æˆ–è€…å¤šä¸ª
let emites = defineEmits(['add', 'sub']);

let data = ref(1);

function sendMsgToParent() {
  console.log('-------son--------');

  //2.å‡ºå‘çˆ¶ç»„ä»¶å¯¹åº”çš„æ–¹æ³•ï¼Œè°ƒç”¨defineEmiteså¯¹åº”çš„å±æ€§
  emites('add', 'add data!' + data.value)
  emites('sub', 'sub data!' + data.value)

  data.value++;
}
</script>

<template>
  <div>
    <button @click="sendMsgToParent">å‘é€æ¶ˆæ¯ç»™çˆ¶ç»„ä»¶</button>
  </div>
</template>
```

#### å…„å¼Ÿä¼ å‚

![](images/image_hZ6yocZGY3.png)

**Navigator.vue : å‘é€æ•°æ®åˆ° App.vue**

```html
<script setup type="module">
import { defineEmits } from 'vue'
const emits = defineEmits(['sendMenu']);
//è§¦å‘äº‹ä»¶ï¼Œå‘çˆ¶å®¹å™¨å‘é€æ•°æ®
function send(data) {
  emits('sendMenu', data);
}
</script>

<template>
  <!-- æ¨èå†™ä¸€ä¸ªæ ¹æ ‡ç­¾-->
  <div>
    <ul>
      <li @click="send('å­¦å‘˜ç®¡ç†')">å­¦å‘˜ç®¡ç†</li>
      <li @click="send('å›¾ä¹¦ç®¡ç†')">å›¾ä¹¦ç®¡ç†</li>
      <li @click="send('è¯·å‡ç®¡ç†')">è¯·å‡ç®¡ç†</li>
      <li @click="send('è€ƒè¯•ç®¡ç†')">è€ƒè¯•ç®¡ç†</li>
      <li @click="send('è®²å¸ˆç®¡ç†')">è®²å¸ˆç®¡ç†</li>
    </ul>
  </div>
</template>

<style></style>
```

**App.vue : å‘é€æ•°æ®åˆ° Content.vue**

```html
<script setup>

import Header from './components/Header.vue'
import Navigator from './components/Navigator.vue'
import Content from './components/Content.vue'

import { ref } from "vue"
//å®šä¹‰æ¥å—navigatorä¼ é€’å‚æ•°
var navigator_menu = ref('ceshi');

const receiver = (data) => {
  navigator_menu.value = data;
}
</script>

<template>
  <div>
    <hr>
    {{ navigator_menu }}
    <hr>
    <Header class="header"></Header>
    <Navigator @sendMenu="receiver" class="navigator"></Navigator>
    <!-- å‘å­ç»„ä»¶ä¼ é€’æ•°æ®-->
    <Content class="content" :message="navigator_menu"></Content>
  </div>
</template>

<style scoped>
.header {
  height: 80px;
  border: 1px solid red;
}

.navigator {
  width: 15%;
  height: 800px;
  display: inline-block;
  border: 1px blue solid;
  float: left;
}

.content {
  width: 83%;
  height: 800px;
  display: inline-block;
  border: 1px goldenrod solid;
  float: right;
}
</style>
```

**Content.vue**

```html
<script setup type="module">
defineProps({
  message: String
})
</script>

<template>

  <div>
    å±•ç¤ºçš„ä¸»è¦å†…å®¹ï¼
    <hr>
    {{ message }}
  </div>
</template>

<style></style>
```

# Vue3 è·¯ç”±æœºåˆ¶ router

## è·¯ç”±ç®€ä»‹

**ä»€ä¹ˆæ˜¯è·¯ç”±ï¼Ÿ**

-   å®šä¹‰ï¼šè·¯ç”±å°±æ˜¯æ ¹æ®ä¸åŒçš„ URL åœ°å€å±•ç¤ºä¸åŒçš„å†…å®¹æˆ–é¡µé¢ã€‚
-   é€šä¿—ç†è§£ï¼šè·¯ç”±å°±åƒæ˜¯ä¸€ä¸ªåœ°å›¾ï¼Œæˆ‘ä»¬è¦å»ä¸åŒçš„åœ°æ–¹ï¼Œéœ€è¦é€šè¿‡ä¸åŒçš„è·¯çº¿è¿›è¡Œå¯¼èˆªã€‚

**è·¯ç”±çš„ä½œç”¨**

-   å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ä¸­ï¼Œè·¯ç”±å¯ä»¥å®ç°ä¸åŒè§†å›¾ä¹‹é—´çš„æ— åˆ·æ–°åˆ‡æ¢ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚
-   è·¯ç”±è¿˜å¯ä»¥å®ç°é¡µé¢çš„è®¤è¯å’Œæƒé™æ§åˆ¶ï¼Œä¿æŠ¤ç”¨æˆ·çš„éšç§å’Œå®‰å…¨ã€‚
-   è·¯ç”±è¿˜å¯ä»¥åˆ©ç”¨æµè§ˆå™¨çš„å‰è¿›ä¸åé€€ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°å›åˆ°ä¹‹å‰è®¿é—®è¿‡çš„é¡µé¢ã€‚

## è·¯ç”±å…¥é—¨æ¡ˆä¾‹

**Step1 æ¡ˆä¾‹éœ€æ±‚åˆ†æ**

<img src="images/image_j-xo-xB5c8.png" style="zoom: 33%;" />

**Step2 åˆ›å»ºé¡¹ç›®å’Œå¯¼å…¥è·¯ç”±ä¾èµ–**


```shell
npm create vite //åˆ›å»ºé¡¹ç›®cd é¡¹ç›®æ–‡ä»¶å¤¹ //è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹
npm install //å®‰è£…é¡¹ç›®éœ€æ±‚ä¾èµ–
npm install vue-router@4 --save //å®‰è£…å…¨å±€çš„vue-router 4ç‰ˆæœ¬
```

**Step3 å‡†å¤‡é¡µé¢å’Œç»„ä»¶**    

components/Home.vue

``` html
<script setup>
</script>

<template>
  <div>
    <h1>Homeé¡µé¢</h1>
  </div>
</template>

<style scoped></style>
```

components/List.vue

``` html
<script setup>
</script>

<template>
  <div>
    <h1>Listé¡µé¢</h1>
  </div>
</template>

<style scoped></style>
```

components/Add.vue

``` html
<script setup>
</script>

<template>
  <div>
    <h1>Addé¡µé¢</h1>
  </div>
</template>

<style scoped></style>
```

components/Update.vue

``` html
<script setup>
</script>

<template>
  <div>
    <h1>Updateé¡µé¢</h1>
  </div>
</template>

<style scoped></style>
```

App.vue

``` html
<script setup>
</script>

<template>
  <div>
    <h1>Appé¡µé¢</h1>
    <hr />
    <!-- è·¯ç”±çš„è¿æ¥ -->
    <router-link to="/">homeé¡µ</router-link> <br>
    <router-link to="/list">listé¡µ</router-link> <br>
    <router-link to="/add">addé¡µ</router-link> <br>
    <router-link to="/update">updateé¡µ</router-link> <br>
    <hr />
    <!-- è·¯ç”±è¿æ¥å¯¹åº”è§†å›¾çš„å±•ç¤ºä½ç½® -->
    <hr>
    é»˜è®¤å±•ç¤ºä½ç½®:<router-view></router-view>
    <hr>
    Homeè§†å›¾å±•ç¤º:<router-view name="homeView"></router-view>
    <hr>
    Listè§†å›¾å±•ç¤º:<router-view name="listView"></router-view>
    <hr>
    Addè§†å›¾å±•ç¤º:<router-view name="addView"></router-view>
    <hr>
    Updateè§†å›¾å±•ç¤º:<router-view name="updateView"></router-view>
  </div>
</template>

<style scoped></style>
```

**Step4 å‡†å¤‡è·¯ç”±é…ç½®**

src/routers/router.js

```javascript
// å¯¼å…¥è·¯ç”±åˆ›å»ºçš„ç›¸å…³æ–¹æ³•
import { createRouter, createWebHashHistory } from 'vue-router'

// å¯¼å…¥vueç»„ä»¶
import Home from '../components/Home.vue'
import List from '../components/List.vue'
import Add from '../components/Add.vue'
import Update from '../components/Update.vue'

// åˆ›å»ºè·¯ç”±å¯¹è±¡,å£°æ˜è·¯ç”±è§„åˆ™
const router = createRouter({
  //createWebHashHistory() æ˜¯ Vue.js åŸºäº hash æ¨¡å¼åˆ›å»ºè·¯ç”±çš„å·¥å‚å‡½æ•°ã€‚åœ¨ä½¿ç”¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œè·¯ç”±ä¿¡æ¯ä¿å­˜åœ¨ URL çš„ hash ä¸­ï¼Œ
  //ä½¿ç”¨ createWebHashHistory() æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªè·¯ç”±å†å²è®°å½•å¯¹è±¡ï¼Œç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„è·¯ç”±ã€‚åœ¨ Vue.js åº”ç”¨ä¸­ï¼Œ
  //é€šå¸¸ä½¿ç”¨è¯¥æ–¹æ³•æ¥åˆ›å»ºè·¯ç”±çš„å†å²è®°å½•å¯¹è±¡ã€‚
  //å°±æ˜¯è·¯ç”±ä¸­ç¼“å­˜å†å²è®°å½•çš„å¯¹è±¡ï¼Œvue-routeræä¾›
  history: createWebHashHistory(),
  routes: [
    {
      path: '/',
      /* 
          componentæŒ‡å®šç»„ä»¶åœ¨é»˜è®¤çš„è·¯ç”±è§†å›¾ä½ç½®å±•ç¤º
          components:Home
          componentsæŒ‡å®šç»„ä»¶åœ¨nameä¸ºæŸä¸ªå€¼çš„è·¯ç”±è§†å›¾ä½ç½®å±•ç¤º
          components:{
              default:Home,// é»˜è®¤è·¯ç”±è§†å›¾ä½ç½®
              homeView:Home// nameä¸ºhomeViewçš„è·¯ç”±è§†å›¾ä½ç½®
          }   
      */
      components: {
        default: Home,
        homeView: Home
      }
    },
    {
      path: '/list',
      components: {
        listView: List
      }
    },
    {
      path: '/add',
      components: {
        addView: Add
      }
    },
    {
      path: '/update',
      components: {
        updateView: Update
      }
    },
  ]

})

// å¯¹å¤–æš´éœ²è·¯ç”±å¯¹è±¡
export default router;
```

**Step5 main.js å¼•å…¥ router é…ç½®**

ä¿®æ”¹æ–‡ä»¶ï¼šmain.js (å…¥å£æ–‡ä»¶)

```javascript
import { createApp } from 'vue'
import './style.css'
import App from './App.vue'

//å¯¼å…¥routeræ¨¡å—
import router from './routers/router.js'

let app = createApp(App)

//ç»‘å®šè·¯ç”±å¯¹è±¡
app.use(router)

//æŒ‚åœ¨è¯•å›¾
app.mount("#app")
```

**Step6 å¯åŠ¨æµ‹è¯•**

``` shell
npm run dev
```

## è·¯ç”±é‡å®šå‘

> é‡å®šå‘çš„ä½œç”¨ï¼šå°†ä¸€ä¸ªè·¯ç”±é‡å®šå‘åˆ°å¦ä¸€ä¸ªè·¯ç”±ä¸Š

> ä¿®æ”¹æ¡ˆä¾‹ï¼šè®¿é—® /list å’Œ /showAll éƒ½å®šå‘åˆ° List.vue

**router.js**

``` javascript
// å¯¼å…¥è·¯ç”±åˆ›å»ºçš„ç›¸å…³æ–¹æ³•
import { createRouter, createWebHashHistory } from 'vue-router'

// å¯¼å…¥vueç»„ä»¶
import Home from '../components/Home.vue'
import List from '../components/List.vue'
import Add from '../components/Add.vue'
import Update from '../components/Update.vue'

// åˆ›å»ºè·¯ç”±å¯¹è±¡,å£°æ˜è·¯ç”±è§„åˆ™
const router = createRouter({
  history: createWebHashHistory(),
  routes: [
    {
      path: '/',
      components: {
        default: Home,
        homeView: Home
      }
    },
    {
      path: '/list',
      components: {
        listView: List
      }
    },
    {
      path: '/showAll',
      // é‡å®šå‘
      redirect: '/list'
    },
    {
      path: '/add',
      components: {
        addView: Add
      }
    },
    {
      path: '/update',
      components: {
        updateView: Update
      }
    },
  ]

})

// å¯¹å¤–æš´éœ²è·¯ç”±å¯¹è±¡
export default router;
```

**App.vue**

```html
<script setup>
</script>

<template>
  <div>
    <h1>Appé¡µé¢</h1>
    <hr />
    <!-- è·¯ç”±çš„è¿æ¥ -->
    <router-link to="/">homeé¡µ</router-link> <br>
    <router-link to="/list">listé¡µ</router-link> <br>
    <router-link to="/showAll">showAllé¡µ</router-link> <br>
    <router-link to="/add">addé¡µ</router-link> <br>
    <router-link to="/update">updateé¡µ</router-link> <br>
    <hr />
    <!-- è·¯ç”±è¿æ¥å¯¹åº”è§†å›¾çš„å±•ç¤ºä½ç½® -->
    <hr>
    é»˜è®¤å±•ç¤ºä½ç½®:<router-view></router-view>
    <hr>
    Homeè§†å›¾å±•ç¤º:<router-view name="homeView"></router-view>
    <hr>
    Listè§†å›¾å±•ç¤º:<router-view name="listView"></router-view>
    <hr>
    Addè§†å›¾å±•ç¤º:<router-view name="addView"></router-view>
    <hr>
    Updateè§†å›¾å±•ç¤º:<router-view name="updateView"></router-view>
  </div>
</template>

<style scoped></style>
```

##  ç¼–ç¨‹å¼è·¯ç”± (useRouter)

**æ™®é€šè·¯ç”±**

+ `<router-link to="/list">listé¡µ</router-link>  ` è¿™ç§è·¯ç”±ï¼Œto ä¸­çš„å†…å®¹ç›®å‰æ˜¯å›ºå®šçš„ï¼Œç‚¹å‡»ååªèƒ½åˆ‡æ¢ /list å¯¹è±¡ç»„ä»¶(å£°æ˜å¼è·¯ç”±)

**ç¼–ç¨‹å¼è·¯ç”±**

+ é€šè¿‡ useRouterï¼ŒåŠ¨æ€å†³å®šå‘é‚£ä¸ªç»„ä»¶åˆ‡æ¢çš„è·¯ç”±
+ åœ¨ Vue 3 å’Œ Vue Router 4 ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ `useRouter` æ¥å®ç°åŠ¨æ€è·¯ç”±(ç¼–ç¨‹å¼è·¯ç”±)
+ è¿™é‡Œçš„ `useRouter` æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª router å¯¹è±¡ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥åšå¦‚å¯¼èˆªåˆ°æ–°é¡µé¢ã€è¿”å›ä¸Šä¸€é¡µé¢ç­‰æ“ä½œã€‚

> æ¡ˆä¾‹éœ€æ±‚ : é€šè¿‡æ™®é€šæŒ‰é’®é…åˆäº‹ä»¶ç»‘å®šå®ç°è·¯ç”±é¡µé¢è·³è½¬ï¼Œä¸ç›´æ¥ä½¿ç”¨ router-link æ ‡ç­¾

**App.vue**

``` html
<script setup type="module">

import { useRouter } from 'vue-router'
import { ref } from 'vue'
//åˆ›å»ºåŠ¨æ€è·¯ç”±å¯¹è±¡
let router = useRouter()

let routePath = ref('')
let showList = () => {
  // ç¼–ç¨‹å¼è·¯ç”±
  // ç›´æ¥pushä¸€ä¸ªè·¯å¾„
  //router.push('/list')
  // pushä¸€ä¸ªå¸¦æœ‰pathå±æ€§çš„å¯¹è±¡
  router.push({ path: '/list' })
}
</script>

<template>
  <div>
    <h1>Appé¡µé¢</h1>
    <hr />
    <!-- è·¯ç”±çš„è¿æ¥ -->
    <router-link to="/">homeé¡µ</router-link> <br>
    <router-link to="/list">listé¡µ</router-link> <br>
    <router-link to="/showAll">showAllé¡µ</router-link> <br>
    <router-link to="/add">addé¡µ</router-link> <br>
    <router-link to="/update">updateé¡µ</router-link> <br>
    <!-- åŠ¨æ€è¾“å…¥è·¯å¾„,ç‚¹å‡»æŒ‰é’®,è§¦å‘å•å‡»äº‹ä»¶çš„å‡½æ•°,åœ¨å‡½æ•°ä¸­é€šè¿‡ç¼–ç¨‹æ˜¯è·¯ç”±åˆ‡æ¢é¡µé¢ -->
    <button @click="showList()">showList</button> <br>
    <hr />
    <!-- è·¯ç”±è¿æ¥å¯¹åº”è§†å›¾çš„å±•ç¤ºä½ç½® -->
    <hr>
    é»˜è®¤å±•ç¤ºä½ç½®:<router-view></router-view>
    <hr>
    Homeè§†å›¾å±•ç¤º:<router-view name="homeView"></router-view>
    <hr>
    Listè§†å›¾å±•ç¤º:<router-view name="listView"></router-view>
    <hr>
    Addè§†å›¾å±•ç¤º:<router-view name="addView"></router-view>
    <hr>
    Updateè§†å›¾å±•ç¤º:<router-view name="updateView"></router-view>
  </div>
</template>

<style scoped></style>
```

## è·¯ç”±ä¼ å‚ (useRoute)

> è·¯å¾„å‚æ•°

+ åœ¨è·¯å¾„ä¸­ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€å­—æ®µæ¥å®ç°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **è·¯å¾„å‚æ•°**
  + ä¾‹å¦‚ï¼š æŸ¥çœ‹æ•°æ®è¯¦æƒ…  `/showDetail/1` ï¼Œ`1` å°±æ˜¯è¦æŸ¥çœ‹è¯¦æƒ…çš„ idï¼Œå¯ä»¥åŠ¨æ€æ·»å€¼ï¼

> é”®å€¼å¯¹å‚æ•°

+ ç±»ä¼¼ä¸ get è¯·æ±‚é€šè¿‡ url ä¼ å‚ï¼Œæ•°æ®æ˜¯é”®å€¼å¯¹å½¢å¼çš„

  + ä¾‹å¦‚ :  æŸ¥çœ‹æ•°æ®è¯¦æƒ… `/showDetail?hid=1`ï¼Œ`hid=1`å°±æ˜¯è¦ä¼ é€’çš„é”®å€¼å¯¹å‚æ•°

  + åœ¨ Vue 3 å’Œ Vue Router 4 ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨  `useRoute` è¿™ä¸ªå‡½æ•°ä» Vue çš„ç»„åˆå¼ API ä¸­è·å–è·¯ç”±å¯¹è±¡ã€‚
  + `useRoute` æ–¹æ³•è¿”å›çš„æ˜¯å½“å‰çš„ route å¯¹è±¡ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥è·å–å…³äºå½“å‰è·¯ç”±çš„ä¿¡æ¯ï¼Œå¦‚å½“å‰çš„è·¯å¾„ã€æŸ¥è¯¢å‚æ•°ç­‰ã€‚

> æ¡ˆä¾‹éœ€æ±‚ : åˆ‡æ¢åˆ° ShowDetail.vue ç»„ä»¶æ—¶ï¼Œå‘è¯¥ç»„ä»¶é€šè¿‡è·¯ç”±ä¼ é€’å‚æ•°

**ä¿®æ”¹ App.vue æ–‡ä»¶**

``` html
<script setup type="module">
import { useRouter } from 'vue-router'

//åˆ›å»ºåŠ¨æ€è·¯ç”±å¯¹è±¡
let router = useRouter()

//åŠ¨æ€è·¯ç”±è·¯å¾„ä¼ å‚æ–¹æ³•
let showDetail = (id, language) => {
  /*è·¯å¾„å‚æ•°,éœ€è¦ä½¿ç”¨params  */
  router.push({ name: "showDetail", params: { id: id, language: language } })
}

let showDetail2 = (id, language) => {
  /*urié”®å€¼å¯¹å‚æ•°,éœ€è¦ä½¿ç”¨query */
  router.push({ path: "/showDetail2", query: { id: id, language: language } })
}
</script>

<template>
  <div>
    <h1>Appé¡µé¢</h1>
    <hr />
    <!-- è·¯å¾„å‚æ•°   -->
    <router-link v-bind:to="{ name: 'showDetail', params: { id: 1, language: 'Java' } }">showDetailè·¯å¾„ä¼ å‚æ˜¾ç¤ºJAVA</router-link>
    <button @click="showDetail(1, 'JAVA')">showDetailåŠ¨æ€è·¯ç”±è·¯å¾„ä¼ å‚æ˜¾ç¤ºJAVA</button>
    <hr />
    <!-- é”®å€¼å¯¹å‚æ•° -->
    <router-link v-bind:to="{ path: '/showDetail2', query: { id: 1, language: 'Java' } }">showDetail2é”®å€¼å¯¹ä¼ å‚æ˜¾ç¤ºJAVA</router-link>
    <button @click="showDetail2(1, 'JAVA')">showDetail2åŠ¨æ€è·¯ç”±é”®å€¼å¯¹ä¼ å‚æ˜¾ç¤ºJAVA</button>
    <hr>
    showDetailè§†å›¾å±•ç¤º:<router-view name="showDetailView"></router-view>
    <hr>
    showDetail2è§†å›¾å±•ç¤º:<router-view name="showDetailView2"></router-view>
  </div>
</template>

<style scoped></style>
```

**ä¿®æ”¹ router.js å¢åŠ è·¯å¾„å‚æ•°å ä½ç¬¦**

``` javascript
// å¯¼å…¥è·¯ç”±åˆ›å»ºçš„ç›¸å…³æ–¹æ³•
import { createRouter, createWebHashHistory } from 'vue-router'

// å¯¼å…¥vueç»„ä»¶
import ShowDetail from '../components/ShowDetail.vue'
import ShowDetail2 from '../components/ShowDetail2.vue'

// åˆ›å»ºè·¯ç”±å¯¹è±¡,å£°æ˜è·¯ç”±è§„åˆ™
const router = createRouter({
  history: createWebHashHistory(),
  routes: [

    {
      /* æ­¤å¤„:id  :languageä½œä¸ºè·¯å¾„çš„å ä½ç¬¦ */
      path: '/showDetail/:id/:language',
      /* åŠ¨æ€è·¯ç”±ä¼ å‚æ—¶,æ ¹æ®è¯¥åå­—æ‰¾åˆ°è¯¥è·¯ç”± */
      name: 'showDetail',
      components: {
        showDetailView: ShowDetail
      }
    },
    {
      path: '/showDetail2',
      components: {
        showDetailView2: ShowDetail2
      }
    },
  ]

})

// å¯¹å¤–æš´éœ²è·¯ç”±å¯¹è±¡
export default router;
```

**ShowDetail.vue é€šè¿‡ useRoute è·å–è·¯å¾„å‚æ•°**

``` html
<script setup type="module">
import { useRoute } from 'vue-router'
import { onMounted, ref } from 'vue';
// è·å–å½“å‰çš„routeå¯¹è±¡
let route = useRoute()
let languageId = ref(0)
let languageName = ref('')
//  å€ŸåŠ©æ›´æ–°æ—¶ç”Ÿå‘½å‘¨æœŸ,å°†æ•°æ®æ›´æ–°è¿›å…¥å“åº”å¼å¯¹è±¡
onMounted(() => {
  // è·å–å¯¹è±¡ä¸­çš„å‚æ•°
  languageId.value = route.params.id
  languageName.value = route.params.language
  console.log(languageId.value)
  console.log(languageName.value)
})
</script>

<template>
  <div>
    <h1>ShowDetailé¡µé¢</h1>
    <h3>ç¼–å·{{ route.params.id }}:{{ route.params.language }}æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</h3>
    <h3>ç¼–å·{{ languageId }}:{{ languageName }}æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</h3>
  </div>
</template>

<style scoped></style>
```

**ShowDetail2.vue é€šè¿‡ useRoute è·å–é”®å€¼å¯¹å‚æ•°**

```html
<script setup type="module">
import { useRoute } from 'vue-router'
import { onMounted, ref } from 'vue';
// è·å–å½“å‰çš„routeå¯¹è±¡
let route = useRoute()
let languageId = ref(0)
let languageName = ref('')
//  å€ŸåŠ©æ›´æ–°æ—¶ç”Ÿå‘½å‘¨æœŸ,å°†æ•°æ®æ›´æ–°è¿›å…¥å“åº”å¼å¯¹è±¡
onMounted(() => {
  // è·å–å¯¹è±¡ä¸­çš„å‚æ•°(é€šè¿‡queryè·å–å‚æ•°,æ­¤æ—¶å‚æ•°æ˜¯key-valueå½¢å¼çš„)
  console.log(route.query)
  console.log(languageId.value)
  console.log(languageName.value)
  languageId.value = route.query.id
  languageName.value = route.query.language
})
</script>

<template>
  <div>
    <h1>ShowDetail2é¡µé¢</h1>
    <h3>ç¼–å·{{ route.query.id }}:{{ route.query.language }}æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</h3>
    <h3>ç¼–å·{{ languageId }}:{{ languageName }}æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</h3>
  </div>
</template>

<style scoped></style>
```

## è·¯ç”±å®ˆå«

> åœ¨ Vue 3 ä¸­ï¼Œè·¯ç”±å®ˆå«æ˜¯ç”¨äºåœ¨è·¯ç”±åˆ‡æ¢æœŸé—´è¿›è¡Œä¸€äº›ç‰¹å®šä»»åŠ¡çš„å›è°ƒå‡½æ•°ã€‚è·¯ç”±å®ˆå«å¯ä»¥ç”¨äºè®¸å¤šä»»åŠ¡ï¼Œä¾‹å¦‚éªŒè¯ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ã€åœ¨è·¯ç”±åˆ‡æ¢å‰æä¾›ç¡®è®¤æç¤ºã€è¯·æ±‚æ•°æ®ç­‰ã€‚Vue 3 ä¸ºè·¯ç”±å®ˆå«æä¾›äº†å…¨é¢çš„æ”¯æŒï¼Œå¹¶æä¾›äº†ä»¥ä¸‹å‡ ç§ç±»å‹çš„è·¯ç”±å®ˆå«ï¼š

1.  **å…¨å±€å‰ç½®å®ˆå«**ï¼šåœ¨è·¯ç”±åˆ‡æ¢å‰è¢«è°ƒç”¨ï¼Œå¯ä»¥ç”¨äºéªŒè¯ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ã€ä¸­æ–­å¯¼èˆªã€è¯·æ±‚æ•°æ®ç­‰ã€‚
2.  **å…¨å±€åç½®å®ˆå«**ï¼šåœ¨è·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨ï¼Œå¯ä»¥ç”¨äºå¤„ç†æ•°æ®ã€æ“ä½œ DOM ã€è®°å½•æ—¥å¿—ç­‰ã€‚
3.  **å®ˆå«ä»£ç çš„ä½ç½®**: åœ¨ router.js ä¸­

```javascript
//å…¨å±€å‰ç½®è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  //to æ˜¯ç›®æ ‡åœ°åŒ…è£…å¯¹è±¡  .pathå±æ€§å¯ä»¥è·å–åœ°å€
  //from æ˜¯æ¥æºåœ°åŒ…è£…å¯¹è±¡ .pathå±æ€§å¯ä»¥è·å–åœ°å€
  //next æ˜¯æ–¹æ³•ï¼Œä¸è°ƒç”¨é»˜è®¤æ‹¦æˆªï¼ next() æ”¾è¡Œ,ç›´æ¥åˆ°è¾¾ç›®æ ‡ç»„ä»¶
  //next('/åœ°å€')å¯ä»¥è½¬å‘åˆ°å…¶ä»–åœ°å€,åˆ°è¾¾ç›®æ ‡ç»„ä»¶å‰ä¼šå†æ¬¡ç»è¿‡å‰ç½®è·¯ç”±å®ˆå«
  console.log(to.path, from.path, next)

  //éœ€è¦åˆ¤æ–­ï¼Œæ³¨æ„é¿å…æ— é™é‡å®šå‘
  if (to.path == '/index') {
    next()
  } else {
    next('/index')
  }
})

//å…¨å±€åç½®è·¯ç”±å®ˆå«
router.afterEach((to, from) => {
  console.log(`Navigate from ${from.path} to ${to.path}`);
});
```

### ç™»å½•æ¡ˆä¾‹: ç™»å½•ä»¥åæ‰å¯ä»¥è¿›å…¥ home å¦åˆ™å¿…é¡»è¿›å…¥ login

**å®šä¹‰ Login.vue**

```html
<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
let username = ref('')
let password = ref('')
let router = useRouter();
let login = () => {
  console.log(username.value, password.value)
  if (username.value == 'root' && password.value == '123456') {
    router.push({ path: '/home', query: { 'username': username.value } })
    //ç™»å½•æˆåŠŸåˆ©ç”¨å‰ç«¯å­˜å‚¨æœºåˆ¶ï¼Œå­˜å‚¨è´¦å·ï¼
    sessionStorage.setItem('username', username.value)
  } else {
    alert('ç™»å½•å¤±è´¥ï¼Œè´¦å·æˆ–è€…å¯†ç é”™è¯¯ï¼');
  }
}
</script>

<template>
  <div>
    è´¦å·ï¼š <input type="text" v-model="username" placeholder="è¯·è¾“å…¥è´¦å·ï¼"><br>
    å¯†ç ï¼š <input type="password" v-model="password" placeholder="è¯·è¾“å…¥å¯†ç ï¼"><br>
    <button @click="login()">ç™»å½•</button>
  </div>
</template>

<style scoped></style>
```

**å®šä¹‰ Home.vue**

```html
<script setup>
import { useRouter } from 'vue-router'
let router = useRouter()

//  å¹¶ä¸æ˜¯æ¯æ¬¡è¿›å…¥homeé¡µæ—¶,éƒ½æœ‰ç”¨æˆ·åå‚æ•°ä¼ å…¥
//let username = route.query.username
let username = window.localStorage.getItem('username');

let logout = () => {
  // æ¸…é™¤localStorgeä¸­çš„username
  //window.sessionStorage.removeItem('username')
  window.localStorage.removeItem('username')
  // åŠ¨æ€è·¯ç”±åˆ°ç™»å½•é¡µ
  router.push("/login")
}
</script>

<template>
  <div>
    <h1>Homeé¡µé¢</h1>
    <h3>æ¬¢è¿{{ username }}ç™»å½•</h3>
    <button @click="logout">é€€å‡ºç™»å½•</button>
  </div>
</template>

<style scoped></style>
```

**App.vue**

```html
<script setup type="module"></script>

<template>
  <div>
    <router-view></router-view>
  </div>
</template>

<style scoped></style>
```

**å®šä¹‰ routers.js**

``` javascript
// å¯¼å…¥è·¯ç”±åˆ›å»ºçš„ç›¸å…³æ–¹æ³•
import { createRouter, createWebHashHistory } from 'vue-router'

// å¯¼å…¥vueç»„ä»¶
import Home from '../components/Home.vue'
import Login from '../components/Login.vue'

// åˆ›å»ºè·¯ç”±å¯¹è±¡,å£°æ˜è·¯ç”±è§„åˆ™
const router = createRouter({
  history: createWebHashHistory(),
  routes: [
    {
      path: '/home',
      component: Home
    },
    {
      path: '/',
      redirect: "/home"
    },
    {
      path: '/login',
      component: Login
    },
  ]
})

// è®¾ç½®è·¯ç”±çš„å…¨å±€å‰ç½®å®ˆå«
router.beforeEach((to, from, next) => {
  /* 
  to è¦å»é‚£
  from ä»å“ªé‡Œæ¥
  next æ”¾è¡Œè·¯ç”±æ—¶éœ€è¦è°ƒç”¨çš„æ–¹æ³•,ä¸è°ƒç”¨åˆ™ä¸æ”¾è¡Œ
  */
  console.log(`ä»å“ªé‡Œæ¥:${from.path},åˆ°å“ªé‡Œå»:${to.path}`)

  if (to.path == '/login') {
    //æ”¾è¡Œè·¯ç”±  æ³¨æ„æ”¾è¡Œä¸è¦å½¢æˆå¾ªç¯  
    next()
  } else {
    let username = window.sessionStorage.getItem('username');
    if (null != username) {
      next()
    } else {
      next('/login')
    }
  }
})

// è®¾ç½®è·¯ç”±çš„å…¨å±€åç½®å®ˆå«
router.afterEach((to, from) => {
  console.log(`ä»å“ªé‡Œæ¥:${from.path},åˆ°å“ªé‡Œå»:${to.path}`)
})

// å¯¹å¤–æš´éœ²è·¯ç”±å¯¹è±¡
export default router;
```

**å¯åŠ¨æµ‹è¯•**

```shell
npm run dev
```

# Vue3 æ•°æ®äº¤äº’ axios

## é¢„è®²çŸ¥è¯† promise

### æ™®é€šå‡½æ•°å’Œå›è°ƒå‡½æ•°

**æ™®é€šå‡½æ•° : æ­£å¸¸è°ƒç”¨çš„å‡½æ•°ï¼Œä¸€èˆ¬å‡½æ•°æ‰§è¡Œå®Œæ¯•åæ‰ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç **

``` html
<script>
    let fun1 = () =>{
        console.log("fun1 invoked")
    }
    // è°ƒç”¨å‡½æ•°
    fun1()
    // å‡½æ•°æ‰§è¡Œå®Œæ¯•,ç»§ç»­æ‰§è¡Œåç»­ä»£ç 
    console.log("other code processon")
</script>
```

**å›è°ƒå‡½æ•° : ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°ï¼Œè¡¨ç¤ºæœªæ¥æ‰ä¼šæ‰§è¡Œçš„ä¸€äº›åŠŸèƒ½ï¼Œåç»­ä»£ç ä¸ä¼šç­‰å¾…è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•å°±å¼€å§‹æ‰§è¡Œäº†**

```html
<script>
    // è®¾ç½®ä¸€ä¸ª2000æ¯«ç§’åä¼šæ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶ä»»åŠ¡
    setTimeout(function (){
        console.log("setTimeout invoked")
    },2000)
    console.log("other code processon")
</script>
```

### Promise ç®€ä»‹

> å‰ç«¯ä¸­çš„å¼‚æ­¥ç¼–ç¨‹æŠ€æœ¯ï¼Œç±»ä¼¼ Java ä¸­çš„å¤šçº¿ç¨‹+çº¿ç¨‹ç»“æœå›è°ƒï¼

+ Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº† `Promise` å¯¹è±¡ã€‚

+ æ‰€è°“ `Promise`ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚

> `Promise` å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ã€‚

ï¼ˆ1ï¼‰Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š`Pending`ï¼ˆè¿›è¡Œä¸­ï¼‰ã€`Resolved`ï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’Œ `Rejected`ï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯ `Promise` è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯ â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚

ï¼ˆ2ï¼‰ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promise å¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»`Pending` å˜ä¸º `Resolved` å’Œä» `Pending` å˜ä¸º `Rejected`ã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚

### Promise åŸºæœ¬ç”¨æ³•

> ES6 è§„å®šï¼ŒPromise å¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Promise å®ä¾‹ã€‚

```html
<script>
    /*  
     1.å®ä¾‹åŒ–promiseå¯¹è±¡,å¹¶ä¸”æ‰§è¡Œ(ç±»ä¼¼Javaåˆ›å»ºçº¿ç¨‹å¯¹è±¡,å¹¶ä¸”start)
     å‚æ•°: resolve,rejectéšæ„å‘½å,ä½†æ˜¯ä¸€èˆ¬è¿™ä¹ˆå«!
     å‚æ•°: resolve,rejectåˆ†åˆ«å¤„ç†æˆåŠŸå’Œå¤±è´¥çš„ä¸¤ä¸ªå‡½æ•°! æˆåŠŸresolve(ç»“æœ)  å¤±è´¥reject(ç»“æœ)
     å‚æ•°: åœ¨functionä¸­è°ƒç”¨è¿™é‡Œä¸¤ä¸ªæ–¹æ³•,é‚£ä¹ˆpromiseä¼šå¤„äºä¸¤ä¸ªä¸åŒçš„çŠ¶æ€
     çŠ¶æ€: promiseæœ‰ä¸‰ä¸ªçŠ¶æ€
             pending   æ­£åœ¨è¿è¡Œ
             resolved  å†…éƒ¨è°ƒç”¨äº†resolveæ–¹æ³•
             rejected  å†…éƒ¨è°ƒç”¨äº†rejectæ–¹æ³•
     å‚æ•°: åœ¨ç¬¬äºŒæ­¥å›è°ƒå‡½æ•0®¸­å ±á/ä»¥é7Å¯’ï/9g¼”çš„ã»’æŒ¢]°( (¢*/L
  )$|e4 promèûe ? new.Pbn/isafufc\a}n(¸rgsolTe.0rejecp)2{Ma  "`(" ãç>s/l¤log"p2m-ése d'$om% anee&.*.¢...")       a+/Ce{olva,"qroEHse óñcc5qs")	
 !!  °00uje#t("ğrniIw%ábaIl"‰
 *( t+
(  0clnskhe*-mw,nTHer Coäe519 ijvewTd'9(  €'2.à§å–ä™–hô—å¥¿÷†á»’îœ  thejïœ¨è¿™ûƒ­b¼géùä¾…`r}m©qeä¨¯¯š„ê½¨¡Œ#»“ªšæ½Ææ¯ä¸ôøš©˜»1 Ÿ†û¢ç ç¿÷çû-ìŸ’è!Œ
"  $promiså&thu*¸0 ä"!   fUmc|éïn (taNu%* s $insnì}¶lfï(h1roeyseæ+­æƒ§è¡‡ä8†seóoìfA: ;ve\ue}p`à]$
  $  ("2fu&eÄckê!(drroğ)`{9#ïb3olc,,mv)àppom-c%ì¸í†‰·è!Œì:¦Òejdct8´zårvy`©`}
 0(0)O-(   (¯ 2(á…·ôã–äû£Ï ‰æ©§ÈÁœ ¡!
  `(co.role.ocg¨'Kôher code022(h~6ojedg)­
</Z#Zé0v>f%`

+##!Psomism cAtãx 		
> dPzmmi{u.`{lUmpy!e¯adr8d ®„¹ç»•æ˜¯  Nthån¬np|l SEúD{^inn)a çšÄãˆ«åïıŒçèäºäÌ‡`®šä‘æÔé–™i®¯î—÷š„Ï›è4ƒÕÃ½î‘°ã€†
```xpil
<scSkre>$  8|et pbmméQg$= new @zOm(3a0&uncton$ ;gshve, rendct) ;
    ( , consghd.,og(:0rnmH3M fO {im= ccfd *,>$.¬")$  ""$¡î=0f?…d ¯ñ“¥çº”ä<„äºªå¼†a8¸§¯¹È³¡M* ¡    ` thvog ng7 Ers/r$errgr }ecó`g%&)(  "})*8#!(cofsoM%.æog(%ntxer fnvE»uy1 iæ`Kken¯©
=
(   /*   " 8 6(|hgş„9¥ç’€r}xgctj©GšŒå£¹åº–ò’¹æ·”å/ä»§¥¸¥º£GŸç¼‹ç¸šä¶ö§è¡Œ<æ¥æ”>åÈğçÚŒå±±æ™©á¼å8°¤¸­çšÆç¤ºô· æƒ¯M
 ( 0!à |	E>ä¸¯í§ä»¡åêå•ä¸Èä8¢rmSklve(‰æ›å¯©å»´æ“¹¦ó•reêeCt()¦¹æ¯•ä­¯Ä;¤Ã•¨hĞï›½çš†caìcèæ“¿ô¢J%  (4 ( t`e{ì¸­g˜„ò'jecvå¯ùäº”Çš…­›Ş*°å‡µæ°è"¨ä—ç¹gˆ sa$g(æ›³f/¢å”,cgôchä¹­æ¥f´4æš„æ” æ„¬bˆ¯àü€äºŠå>Šç¸˜å«¸è…¥ $ ($  €-Œ
  `$p2kmH{å.t`mï)  `a`´ fçoKt)oN!(zåsklFwVámõe( { con7wle?Lob(òprïmk{Ed°­ş‰§øŒd¶€Rewolîç:6zòAsoì8eVal|e`)0x`" (0 (à?/,
ª$   (  //ætNc|an$òíjabtVahuE)ùqKnrmLmlg epzmeseä˜­Î‰§è¡ŒìªÆbenåkt:0{rejdát6cleu}á)u
*¢ ().caTc((  $`$  aFõNcTmgn (÷szo2)	[ cm.{olu.loo(evr.w)$}ˆ $ 4)M
$  Èsnlsome.loo(ïm6èEV$#ëdE6²30"i6÷kad/)<{crixø>-
` `*"## "ec9|c!åÒŒ$@gAiu Çš„¤<¿g”¢
 aSıdC ÅÌ"É_aIt!¦˜' AS6 æ¸­ç”¨å:Œ¤´¶æåŒ‚æ­†æ“ä9÷š„f–0¥‰¹gŠ®ë€‚éˆ“ı¸¸ï¼Œ¥¼‚æ­µÆÓå½œe¼>î¶‹õŠå€° Pr/mise Å«ùè±!ç¾èÀœiq}ocoawakt íŒ‰æœ¯å˜ PrKm)rt åŸºç!€'8¦æäÜšÄ»†å“¬íš ç™„à§åÒŒÆĞ“æºŠä}¿ç¤ çš„œ¿­æ³•c‚
©êa{îc!ç€¨´ûF¢‡È¯‡e‹½ç•çš€+*Š	J.¢a{ynã å ‡è¯†åƒ½ç±°ä°ê¼dsyjc!å‡½æ¸Çš”ğ»å™Şåˆ¼d¼šá˜îÈì¸˜îš© priìíse å¾¹¨¹§ª²& å§’äœå†½äµ°å†…éƒ¨è¿„¥›–gÚ„†‘0¦æ™§ô¸€å¼ªÉŸ^ Promq9e Ñ­ùü±¡ï¨asxn! ÷ƒ•æÕ°g’„ç¸“â¾œô­ŠÈ¿„å›4¹æ¸ªæŒ’ïêŸçŠ–f€‘ ppomésa"å·»è±!

3 í¤‚§ºŒE‡æ”°¥‡…é‹Šê¿”¥‹æ˜„î˜Ì €åšª pr~ïHóe A¯™h°ï¼œeŒ™ aSyN«`å‡¹f•°è½œåßŞäš¤ç‚¶æ€ƒµ¸çï‘æœç”‘ø/¥å§›é±©õÆ³å¯Š
T
Tn"å¦¢gŞœå‡½Æ•°í†„é£*îš¿dÇ:çš¤æˆ¯ä°€ä¹ªåĞ¨å9¸í¼„ïÌ™ có}nc å‡½ä•°h¿”å›â’”æ˜·ä¸€¤¸ å$±ù´áóš¤$qânoiseÄ§¹è±!Š	`äb`)tmlM
scr)xf~-J  h`;* 
  p   á  !$ arQna ç–¼à»æ †è¯†÷áıÆ±çš¤*$¡ $x€`   !    5* éÓxîãn Gh®¦åİæÕğå¯<áQûngß…¼æ•°ïš¤è¯”¥º»Å„²ä¼à˜â,”äš€å¸ªpbomisuí¹è±¡J0`"% 0¦ "  $0  $2.(ÿ¤Šæ™e¿æ•ğå„…íƒˆ)Ÿ…İÛÎç#À†•°î>¶˜ä˜ ¤¸ªi
pv'm)wEá§¸èõ ,as9ncå—½æ•°çŠ‘G«—ì˜œä¼šÈ»”Í›ä¸Èä0ªf‚åŠ•ïŠ²¤À$pskmisiå¯¹è¹!
  `      "`    03>.Å¦‚æ’œå‡½ï•°áÌéƒ©i¾”å›®§š„fš¯ä°€¤ ªprMmmseá¾³è¥áœåŠ™asyn#å‡=î—°è¿‘¤›¾çšä÷
¦çä¸çº“÷¾¼å”‘È/¥¥¯ıè±¡âV£e.     "  `     ( 4
(ôç²§¾œä‡¼ä‘°­”ëƒ¨æŠ›å‹ºç…æ˜¯ä8 Ä¼Še¼‚íø¸,äˆ¹asy~Sï‡½æ‘°è¿’¥;çš„çH¯ä¹€ä¸®á¬±èğ¤÷»„pr//yseå¸¹è•£M
 ±    ! 2 5 "¯  (cqyNb fU.cumon0neÎ1 )0{
" "    "reuuğo 1pN €è$   0/vhrk!nmw Eârop) s-g4Èing`÷rofg")
 !   b  / neq$pr_-ysdd"QònmixM.rçjEã<*¦jeIhEm+))0    &(/!betu²n promj³e   `},0 !(eu	ğromire = zun1(i-)`$ qROli³ä.rhdn
$ 10 "` fq~ãt9îg ¸vÁèu%+0[
 "  *!   ` $cons-d%.l/c0"seãct3ñº" +"value)
(  #  0@}M
  ` «lcau`H8."`    °*fyl`äaon-(ve|uåm s	J¤$h ¨"      skotoLu+Oçh"nqimx" + ra|uå9M
¡   ` " u
00$ )
ocã{kÒu>`  
	
(*awaéE:*1. áwait çƒãä¶§÷š„ ¡¨è¾¶å‡ô¸ìˆ¬à°šä¸€ä¸¢ p2ooise ¤¿¹è‘¡ï´¼ä¿¦f”¯å9Ÿå¯ä»¥æ˜gô¸€ö½êå¶Ä¿’g¼V.`á¦‚äœàé¨è¶6í¼Æš¯ Pjm]isåAåßùè1¡oüaudiù ù¿”å›¾åš„f˜¥ `reiw%$æˆåŠçš„l ¬:.!aÕaiö`ä¼š÷­Åç»i¾)ç˜„ r2ceyse$õ¯¸è¡¡¢§¨àÄ÷ƒ“öıû¬Nç„¶åÎå†øµå”çÛÓæ^ÍşŒõï·­å»£¥ ‰ ¹Ÿä¼šï­‰é~• av%)ô çšÄ¦	—é Š*4& ä£¢æ”c¡ˆèµ¾…¨‡Î¥å¾ä»¶õ¼ï¼ˆõ™§›´d¥hŸ”¥Ÿè¯¡e€¼J5n ausKr í¿†é¡«u˜¨ %wu.j å‡½æ°ô¨ç¼Ä­‡äXë8Ás9îc`å—}ã…€fè­åoä»…æ’¡æÜDAUé)t/
6N$í¦‚çœ qwqmt æ¾³è¾½ã’€hqvomisd å¤1È´%Ô:†©|Œá±ä´›æŠšõªh¾ƒÅ½¸ï¬áœè¢éššá¯† tRy`.ª. cAuch$æ(•è·é¬„ã†	à``!html
<script>
    /* 
            1. awaitå³ä¾§çš„è¡¨è¾¾å¼ä¸€èˆ¬ä¸ºä¸€ä¸ªpromiseå¯¹è±¡,ä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…¶ä»–å€¼
            2. å¦‚æœè¡¨è¾¾å¼æ˜¯promiseå¯¹è±¡,awaitè¿”å›çš„æ˜¯promiseæˆåŠŸçš„å€¼
            3. awaitä¼šç­‰å³è¾¹çš„promiseå¯¹è±¡æ‰§è¡Œç»“æŸ,ç„¶åå†è·å–ç»“æœ,åç»­ä»£ç ä¹Ÿä¼šç­‰å¾…awaitçš„æ‰§è¡Œ
            4. å¦‚æœè¡¨è¾¾å¼æ˜¯å…¶ä»–å€¼,åˆ™ç›´æ¥è¿”å›è¯¥å€¼
            5. awaitå¿…é¡»åœ¨asyncå‡½æ•°ä¸­,ä½†æ˜¯asyncå‡½æ•°ä¸­å¯ä»¥æ²¡æœ‰await
            6. å¦‚æœawaitå³è¾¹çš„promiseå¤±è´¥äº†,å°±ä¼šæŠ›å‡ºå¼‚å¸¸,å¯ä»¥é€šè¿‡ try ... catchæ•è·å¤„ç†
        */

    async function fun1() {
        return 10
    }

    async function fun2() {
        let res = null
        try {
            res = await fun1()
            // let res = await Promise.reject("something wrong")
        } catch (e) {
            console.log("catch got:" + e)
        }

        console.log("await got:" + res)
    }

    fun2()
</script>
```

## Axios ä»‹ç»

>  ajax

+ AJAX""Cs}nãh2oNOWs1Ka'`#jëXt `ot ÚLLï°¨íœÂæåóš„ Já6dSc2i}t m’¬ XMLï¼ˆã€‚
«€ANC^$ä¸ä™¯Æ–°ç›‘óø–ç¸›ç¯­¸ª€í”ŒÎŒä™ïåè0ã'…ä¿¿£<ˆçÇ°æœæ Òå…†çš”æ´1æ”ùÂëÀ‚* AJ X æ õ¤§çš•ô¬œç‚»æ˜¯íÜè¤¸h‡æ–°åŠ¤¨½½Æ—”$¸®i¡±éœ¢÷š€¾‡e†½ç¸‹ß½Œå¯¥:-ä¸æœGŠ ¥™ ğº­ÆÉ¢æÅ°ä®å9¶§Û´æ– é¡ ¥ˆ†ç˜ù©0å¤áî™Ã‘‚
*{$Áb@X ¤°é™€è¦ÑÄ»»ä½5æ—`§Èô™¨ö“e«¾oìä½Æé4ø†‘çˆäì·å•§è¨¸
javqScS[q4"õœ Æµ‹ø§¨åÙ8ä¸î«¦èaŒñˆ€Š!¨ØML@|UpP¥q5kst`¥¯ªâŸa®Şç² Akax!çš€ô¸ç·…ç”¹åürˆƒŠ
&
axa|å·%l¼EŸâ†ï¼š**%
-ai} a$`ædw.©nagå_bjXTNoÌf2a.Pgæ)H*?  eÄŸö”Ÿ ª**ataqgryòth¦—¹å¼Ê?›¨¡Œ óËax(öº†è§³! jj*	
Šbàch}ml
¼scrnpt:
04p fuoctig® |oclPCÌçg:m {*
   `$  v!rx,l(vdP;
M0       if (wkOtow,ZmM$t`R%0ue÷t) {
 $ $(0 ,$   ­/` IÔ7+ FhrgÇOx,dChz/me,&Mt52a- RafIri(æ¤Ÿè§ˆå™<ã‰·ê¡ˆnû§ã¤ƒ
¤0(( °  $ ! {MdHt4p$- new0JOLbdtpBe1ue34¨9;J  `0  "!}"elãe +
  ! ( &!0à  /?E	U7, Ye5(æµ‡h§¶å™¬æ‰§ì¡¬ä»£çğ-(!  0    4 `xoliutp`= ndw0Ak|iv5XNòjecô(¢B)crnsfTZÍI@TTT¢©;
 b`$@  "}… !00"( `// è®üç•ªµ›Šè¤‹t‡»î•°å¤†ç†å‘íú–§«“ÆÎ–(  $    xmdxttğ*n@mADyc4atechanfe = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
            }
        }

        // è®¾ç½®è¯·æ±‚æ–¹å¼å’Œè¯·æ±‚çš„èµ„æºè·¯å¾„
        xmlhttp.open("GET", "/try/ajax/ajax_info.txt", true);

        // å‘é€è¯·æ±‚
        xmlhttp.send();
    }
</script>
```

>  ä»€ä¹ˆæ˜¯ axios  å®˜ç½‘ä»‹ç» : https://axios-http.com/zh/docs/intro

+ Axios æ˜¯ä¸€ä¸ªåŸºäº [*promise*](https://javascript.info/promise-basics "promise") ç½‘ç»œè¯·æ±‚åº“ï¼Œä½œç”¨äº [node.js](https://nodejs.org/ "node.js") å’Œæµè§ˆå™¨ä¸­ã€‚ å®ƒæ˜¯ [*isomorphic*](https://www.lullabot.com/articles/what-is-an-isomorphic-application "isomorphic") çš„(å³åŒä¸€å¥—ä»£ç å¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨å’Œ node.js ä¸­)ã€‚åœ¨æœåŠ¡ç«¯å®ƒä½¿ç”¨åŸç”Ÿ node.js `http` æ¨¡å—ï¼Œè€Œåœ¨å®¢æˆ·ç«¯ (æµè§ˆç«¯) åˆ™ä½¿ç”¨ XMLHttpRequestsã€‚å®ƒæœ‰å¦‚ä¸‹ç‰¹æ€§
  + ä»æµè§ˆå™¨åˆ›å»º [XMLHttpRequests](https://developer.mozilla.org/en-US/docs/Web/A:PLLhtTpReq1est*"X]LÈtexZtu2A2ts)+#0! eŸ$~Od¾*s åˆ»å»ê SaTtcU*h|up:/¯Nÿ$eês*pg/até!hdpp,iu-l¡*Hdpp) è¯·æ±‚M ('aâ´¯ædÛP2mèks|](|d4q3:/o&&~mì/qer.kNj	,l .rg/án-UU/dks'7|a»H`vicrir4nRefeRgnco?Çîoba~_Kcju«tz&PBoÍ)se Pbo}ise") Xy
! 
(æ‹æ†‰ªè/·æ±ƒe–Œ¥›åº”	 ¤/$è¹¬â¢È¯µæõ¢á–Œåƒåº–ç±pæï  +på’æ¶ˆè­7öñ¢
 +(èÇªåŠªìı¬æ‚ NSON æ°ö«
  *!å.¢fˆµç«¯æ”¯å¬…è¸öñ¾¡¢ÛSZG] htdp:-'en.wik)peLiá.orc/ûmki-CroS{$sktu_rcqugst_norg%ry!¢8SRB&)†m
£#$]xior õ¤é“ˆf¡ˆä¾‹J
? ä ˆè¸‹íœ€æ1Â : ê­·æ ‚çí‹²¨ŒµåŠôí¸æ:åÜß…Ñ·f­(¯•
J
*¨¯5æ±ç
(trmzk*
`d`¨htuZéfÔts:/rK.uomgªc-'qvi-rand*qy^ghec6ÆnRíatYjyon0$  çÊ–æ€‡ ¿¾ï”¨ (httr:n>doòõn¼atcwy'ujs*¯apé&raîd&qing(eá/fmríetkómnM```Í
¢¨‡£æ±Âç†¦–½å¾*:	`A`"hrxp%
GÅWPÏ[TPà`…
j*ç•çîè¯”Õ›”ÇÅâµ¼å¾Ï*.
*Q``bcooM*coæm")1,"#/îuo~V"z"æ˜—õˆª…J“ä¹Œîš¯èğšDºä¼ È€â˜¯å› äø’ä½ Š”2"|MJp``m	**`SäqP çƒ‡åäÇéa¹ç›ªJa `jawa{criqtM
nrm b2Eatå vÉxe
nxå iNsu!\è`
k a

® îBrep2 å‰èã…"axios
p`pâzåì<Nqí insş¥e,!e8éms-à` O
:¨[dep3 è¯¼è¯¡é¡µiİ‚Ë¼App.Vweï´ˆ

a``huímscxhpe(qeôup1ytå"-{dqle"(E
yïqo2d+axioQ fòÏ/ 'cXir'	ŠimÂo6ö { ?~MnuF4gô veact+ve }@d¸o-(g6ue';Â
leT jsonDatÁ  rE¡#|(v'(y`skäe:"1l(kojTeft;0'¦ˆ±å»òäˆÛå¸æ˜Ÿä¸²ÄºÆäµàÉ œæ§å› à½»ä¿3`]
ìe} æípL/vfDesrawe0= (¤ =>8k
 `qxios({   €Må6è¯dº "poSdâ, /¯4è®¿Æ±†fÖ±§¼/
¤ 0 url>¡ ht´xq*+/`t{&}míg.co/¯yği«raîd/sí.ghõá?fmRmat=.qgn"( "-/ è/·æ±‚ãš‡url
 (  $dt!:{/ ä½’ì§—æ±Â¦–‘©¼ä2ºroS5&×¶,$atáä¸£Ú„Æ‘°ì®ä»¥JSÏKä¹¢ç”¾å‡è¯·æ0ä¹÷,¥‘¦µˆä?­ëuy}valagå¿¢å¬Æ”¾}vm…
((    wsezdàMe(*"12347v" %`"} c}9>0ie~(&w.#tio~ (r5ãPgob%) {7/E“›eºfœĞÅŠ½ä×¾è–¡æ™§ü¡ˆæ›Äí‡­æ¸
a $"cofsÌa>,gHrewpnsa9*  h±Oçamcü.`ycign*jsojGaôa¡respo>cE.$qôa)Š2(5).sápb((euïstioj")evòor+ {//!ä›å¸”å$¡è´¥â—¶é§æ‰·©¥¬ç„­½ì•°‰!! cnfqold.h/g e6Ror 
  |)}/:<Ë€š¨¿ƒnfMmunued×›¥½e¨æœ>è…ªæ¨aÊ¨á¿½å¼€âü‰$*lM
KjoEjtedèè) 5&{(0OetLk6eMMwSaoe8)
ı9Ì
-/{#2kq5.

4temxlat'>ª  <div>-
&  à.è=|d³Šç–¥åŸá€±Æƒh»İ:{{ jsmnAat .cOnteot İy<>È9>
  (08bUttol @al}Ck-"ggtÌïtqÅnstA#u"<êÎ·åŸ–ä»šş§¥á¸Ÿ¥±²Öƒ…È¯Ÿ<âevUçn>
  l/div>
</template>

<style scoped></style>
```

>  Step4 å¯åŠ¨æµ‹è¯•

```shell
npm run dev
```

### å¼‚æ­¥å“åº”çš„æ•°æ®ç»“æ„

å“åº”çš„æ•°æ®æ˜¯ç»è¿‡åŒ…è£…è¿”å›çš„ï¼ä¸€ä¸ªè¯·æ±‚çš„å“åº”åŒ…å«ä»¥ä¸‹ä¿¡æ¯ã€‚

```json
{
  // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”
  data: {},
  // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç 
  status: 200,
  // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯
  statusText: 'OK',
  // `headers` æ˜¯æœåŠ¡å™¨å“åº”å¤´
  // æ‰€æœ‰çš„ header åç§°éƒ½æ˜¯å°å†™ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¯­æ³•è®¿é—®
  // ä¾‹å¦‚: `response.headers['content-type']`
  headers: {},
  // `config` æ˜¯ `axios` è¯·æ±‚çš„é…ç½®ä¿¡æ¯
  config: {},
  // `request` æ˜¯ç”Ÿæˆæ­¤å“åº”çš„è¯·æ±‚
  // åœ¨node.jsä¸­å®ƒæ˜¯æœ€åä¸€ä¸ªClientRequestå®ä¾‹ (in redirects)ï¼Œ
  // åœ¨æµè§ˆå™¨ä¸­åˆ™æ˜¯ XMLHttpRequest å®ä¾‹
  request: {}
}
```

thenå–å€¼

```javascript
then(function (response) {
    console.log(response.data);
    console.log(response.status);
    console.log(response.statusText);
    console.log(response.headers);
    console.log(response.config);
});
```

### é€šè¿‡ async å’Œ await å¤„ç†å¼‚æ­¥è¯·æ±‚

```html
<script setup type="module">
import axios from 'axios'
import { onMounted, reactive } from 'vue';

let jsonData = reactive({ code: 1, content: 'æˆ‘åŠªåŠ›ä¸æ˜¯ä¸ºäº†ä½ è€Œæ˜¯å› ä¸ºä½ ' })

let getLoveWords = async () => {
  return await axios({
    method: "post",
    url: "https://api.uomg.com/api/rand.qinghua?format=json",
    data: {
      username: "123456"
    }
  })
}

let getLoveMessage = async () => {
  let { data } = await getLoveWords()
  Object.assign(jsonData, data)
}

/* é€šè¿‡onMountedç”Ÿå‘½å‘¨æœŸ,è‡ªåŠ¨åŠ è½½ä¸€æ¬¡ */
onMounted(() => {
  getLoveMessage()
})
</script>

<template>
  <div>
    <h1>ä»Šæ—¥åœŸå‘³æƒ…è¯:{{ jsonData.content }}</h1>
    <button @click="getLoveMessage">è·å–ä»Šæ—¥åœŸå‘³æƒ…è¯</button>
  </div>
</template>

<style scoped></style>
```

### axios åœ¨å‘é€å¼‚æ­¥è¯·æ±‚fŸ¶çš„á¿ÍˆÉk…ç½®ï¼Ù*`a`jsOn-
  /;(hujL``æ€¯ç”¨ä*è®·ö ‚‡˜†vÎåˆ¡å™( UÒLJ$!|r,? '/uëer7œŠc -. píu|Hod` ¦˜©äÈÛe»ºè'¾â±†î—6í½¿u–¨ÇÒ¤ò–¹Ö³•" me~hmd2`"çEt+, //$é»¸è¸¥ œ	
  /o pWeweURÌ``a€†è‡ªåš¨åŠ`e)€@uzìg å‰i¢í¼Œé™¤é›Ş``url  ç˜¯æ¸…ä˜ªçûœ¡¯¹`UR,ã…‚-
 "'. ñ®ƒ¥ªåûµé€šè¿‡è¾§½¦äº²à¸ª pKcwåTPH` ä¾¿è²Îd¸¾ t0Isdá®¾d¾‹çš„ö–Ñf³•Ô¼°é€’ç“¸å¯ù ]pd
  bùûe]Ò\> #lddps>o/si-u¥dkaiaN.co-#'pik%,J% ­ aWranSfOrmQ!p=e7ur ìÕ…è®øïŸ¨á’•æ±Š¡á›¨ÜŸéÀ¦„¯¼„ì¿®¦”©h­§æ¸Âö•°¦®@!//0å¬‚åªèƒ¿ç”©åº"'TTd&¯QOt'0å’Œ çX@\GH' è¿‘ä‡ æ¸ªè¯·æ¹Òæ¹Æ³Š.!.?æ•0ó»…à©ìæŒ„Ä”d¹ä¸êå±æ• Ã¿…é¡ûì½•e›ßäº€Ä˜ëÕ-—çì¦Ô¸öç´¬ äº€ä¸©Bufbarı¼ä>ËåœŒArrcq@unn së¼„ÆovmdA4)ï<Œæˆ–°Spruqé%
  ./ ä ¥à³åä¿¯â”¸è¯·â±‚å¤„ó€‚Ï(  dr!l2fmrmR%quesp2°[funcTh_n0;lctc,!<åaders) {+! ¤ '¯2ä‹±á‹‰é€±ã˜– Duta è¿à¡Œì›»æ…èµ¨¢­ å „ã–$  0rå\õrn¡fhU!;b$y],
0!//(dlzajwfçzèBåcpjfse`åœ¨ä¼¨é€²ï»˜0ÄhgnocQô#h í‰…ï<åÅ#ìş8î=®ö”©ë“…äª”€•¸¦½®@-t6anóNmrm2u3pfjs}6(SæUlctm~n`(daäa)$z	* (  ï/0å¯»ö¡ã”°eš€!e`ui è¿›è!Œ¥»»æ„È½¬æ­€é´„ã€…
$ b(r5uu:N $ctc;-
@}],
  // è‡ªå®šä¹‰è¯·æ±‚å¤´
  headers: {'X-Requested-With': 'XMLHttpRequest'},
  // `params` æ˜¯ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°
  // å¿…é¡»æ˜¯ä¸€ä¸ªç®€å•å¯¹è±¡æˆ– URLSearchParams å¯¹è±¡
  params: {
    ID: 12345
  },
  // `paramsSerializer`æ˜¯å¯é€‰æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåºåˆ—åŒ–`params`
  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)
  paramsSerializer: function (params) {
    return Qs.stringify(params, {arrayFormat: 'brackets'})
  },
  // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä½“è¢«å‘é€çš„æ•°æ®
  // ä»…é€‚ç”¨ 'PUT', 'POST', 'DELETE å’Œ 'PATCH' è¯·æ±‚æ–¹æ³•
  // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œåˆ™å¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€:
  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams
  // - æµè§ˆå™¨ä¸“å±: FormData, File, Blob
  // - Node ä¸“å±: Stream, Buffer
  data: {
    firstName: 'Fred'
  },
  // å‘é€è¯·æ±‚ä½“æ•°æ®çš„å¯é€‰è¯­æ³•
  // è¯·æ±‚æ–¹å¼ post
  // åªæœ‰ value ä¼šè¢«å‘é€ï¼Œkey åˆ™ä¸ä¼š
  data: 'Country=Brasil&City=Belo Horizonte',
  // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚
  // å¦‚æœè¯·æ±‚æ—¶é—´è¶…è¿‡ `timeout` çš„å€¼ï¼Œåˆ™è¯·æ±‚ä¼šè¢«ä¸­æ–­
  timeout: 1000, // é»˜è®¤å€¼æ˜¯ `0` (æ°¸ä¸è¶…æ—¶)
  // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯
  withCredentials: false, // default
  // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œè¿™ä½¿æµ‹è¯•æ›´åŠ å®¹æ˜“ã€‚
  // è¿”å›ä¸€ä¸ª promise å¹¶æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” ï¼ˆå‚è§ lib/adapters/README.mdï¼‰ã€‚
  adapter: function (config) {
    /* ... */
  },
  // `auth` HTTP Basic Auth
  auth: {
    username: 'janedoe',
    password: 's00pers3cret'
  },
  // `responseType` è¡¨ç¤ºæµè§ˆå™¨å°†è¦å“åº”çš„æ•°æ®ç±»å‹
  // é€‰é¡¹åŒ…æ‹¬: 'arraybuffer', 'document', 'json', 'text', 'stream'
  // æµè§ˆå™¨ä¸“å±ï¼š'blob'
  responseType: 'json', // é»˜è®¤å€¼
  // `responseEncoding` è¡¨ç¤ºç”¨äºè§£ç å“åº”çš„ç¼–ç  (Node.js ä¸“å±)
  // æ³¨æ„ï¼šå¿½ç•¥ `responseType` çš„å€¼ä¸º 'stream'ï¼Œæˆ–è€…æ˜¯å®¢æˆ·ç«¯è¯·æ±‚
  // Note: Ignored for `responseType` of 'stream' or client-side requests
  responseEncoding: 'utf8', // é»˜è®¤å€¼
  // `xsrfCookieName` æ˜¯ xsrf token çš„å€¼ï¼Œè¢«ç”¨ä½œ cookie çš„åç§°
  xsrfCookieName: 'XSRF-TOKEN', // é»˜è®¤å€¼
  // `xsrfHeaderName` æ˜¯å¸¦æœ‰ xsrf token å€¼çš„http è¯·æ±‚å¤´åç§°
  xsrfHeaderName: 'X-XSRF-TOKEN', // é»˜è®¤å€¼
  // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶
  // æµè§ˆå™¨ä¸“å±
  onUploadProgress: function (progressEvent) {
    // å¤„ç†åŸç”Ÿè¿›åº¦äº‹ä»¶
  },
  // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶
  // æµè§ˆå™¨ä¸“å±
  onDownloadProgress: function (progressEvent) {
    // å¤„ç†åŸç”Ÿè¿›åº¦äº‹ä»¶
  },
  // `maxContentLength` å®šä¹‰äº†node.jsä¸­å…è®¸çš„HTTPå“åº”å†…å®¹çš„æœ€å¤§å­—èŠ‚æ•°
  maxContentLength: 2000,
  // `maxBodyLength`ï¼ˆä»…Nodeï¼‰å®šä¹‰å…è®¸çš„httpè¯·æ±‚å†…å®¹çš„æœ€å¤§å­—èŠ‚æ•°
  maxBodyLength: 2000,
  // `validateStatus` å®šä¹‰äº†å¯¹äºç»™å®šçš„ HTTPçŠ¶æ€ç æ˜¯ resolve è¿˜æ˜¯ reject promiseã€‚
  // å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œ
  // åˆ™promise å°†ä¼š resolvedï¼Œå¦åˆ™æ˜¯ rejectedã€‚
  validateStatus: function (status) {
    return status >= 200 && status < 300; // é»˜è®¤å€¼
  },
  // `maxRedirects` å®šä¹‰äº†åœ¨node.jsä¸­è¦éµå¾ªçš„æœ€å¤§é‡å®šå‘æ•°ã€‚
  // å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä¸ä¼šè¿›è¡Œé‡å®šå‘
  maxRedirects: 5, // é»˜è®¤å€¼
  // `socketPath` å®šä¹‰äº†åœ¨node.jsä¸­ä½¿ç”¨çš„UNIXå¥—æ¥å­—ã€‚
  // e.g. '/var/run/docker.sock' å‘é€è¯·æ±‚åˆ° docker å®ˆæŠ¤è¿›ç¨‹ã€‚
  // åªèƒ½æŒ‡å®š `socketPath` æˆ– `proxy` ã€‚
  // è‹¥éƒ½æŒ‡å®šï¼Œè¿™ä½¿ç”¨ `socketPath` ã€‚
  socketPath: null, // default
  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http
  // and https requests, respectively, in node.js. This allows options to be added like
  // `keepAlive` that are not enabled by default.
  httpAgent: new http.Agent({ keepAlive: true }),
  httpsAgent: new https.Agent({ keepAlive: true }),
  // `proxy` å®šä¹‰äº†ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåï¼Œç«¯å£å’Œåè®®ã€‚
  // æ‚¨å¯ä»¥ä½¿ç”¨å¸¸è§„çš„`http_proxy` å’Œ `https_proxy` ç¯å¢ƒå˜é‡ã€‚
  // ä½¿ç”¨ `false` å¯ä»¥ç¦ç”¨ä»£ç†åŠŸèƒ½ï¼ŒåŒæ—¶ç¯å¢ƒå˜é‡ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚
  // `auth`è¡¨ç¤ºåº”ä½¿ç”¨HTTP Basic authè¿æ¥åˆ°ä»£ç†ï¼Œå¹¶ä¸”æä¾›å‡­æ®ã€‚
  // è¿™å°†è®¾ç½®ä¸€ä¸ª `Proxy-Authorization` è¯·æ±‚å¤´ï¼Œå®ƒä¼šè¦†ç›– `headers` ä¸­å·²å­˜åœ¨çš„è‡ªå®šä¹‰ `Proxy-Authorization` è¯·æ±‚å¤´ã€‚
  // å¦‚æœä»£ç†æœåŠ¡å™¨ä½¿ç”¨ HTTPSï¼Œåˆ™å¿…é¡»è®¾ç½® protocol ä¸º`https`
  proxy: {
    protocol: 'https',
    host: '127.0.0.1',
    port: 9000,
    auth: {
      username: 'mikeymike',
      password: 'rapunz3l'
    }
  },
  // see https://axios-http.com/zh/docs/cancellation
  cancelToken: new CancelToken(function (cancel) {
  }),
  // `decompress` indicates whether or not the response body should be decompressed 
  // automatically. If set to `true` will also remove the 'content-encoding' header 
  // from the responses objects of all decompressed responses
  // - Node only (XHR cannot turn off decompression)
  decompress: true // é»˜è®¤å€¼
}
```

## Axios get å’Œ post æ–¹æ³•

> é…ç½®æ·»åŠ è¯­æ³•

``` javascript
axios.get(url[, config])

axios.get(url,{
   ä¸Šé¢æŒ‡å®šé…ç½®key:é…ç½®å€¼,
   ä¸Šé¢æŒ‡å®šé…ç½®key:é…ç½®å€¼
})

axios.post(url[, data[, config]])

axios.post(url,{key:value //æ­¤ä½ç½®æ•°æ®ï¼Œæ²¡æœ‰ç©ºå¯¹è±¡å³å¯{}},{
   ä¸Šé¢æŒ‡å®šé…ç½®key:é…ç½®å€¼,
   ä¸Šé¢æŒ‡å®šé…ç½®key:é…ç½®å€¼
})
```

> æµ‹è¯• get å‚æ•°

``` html
<script setup type="module">
import axios from 'axios'
import { onMounted, ref, reactive, toRaw } from 'vue';

let jsonData = reactive({ code: 1, content: 'æˆ‘åŠªåŠ›ä¸æ˜¯ä¸ºäº†ä½ è€Œæ˜¯å› ä¸ºä½ ' })

let getLoveWords = async () => {
  try {
    return await axios.get(
      'https://api.uomg.com/api/rand.qinghua',
      {
        params: {// å‘urlåæ·»åŠ çš„é”®å€¼å¯¹å‚æ•°
          format: 'json',
          username: 'zhangsan',
          password: '123456'
        },
        headers: {// è®¾ç½®è¯·æ±‚å¤´
          'Accept': 'application/json, text/plain, text/html,*/*'
        }
      }
    )
  } catch (e) {
    return await e
  }
}

let getLoveMessage = async () => {
  let { data } = await getLoveWords()
  Object.assign(jsonData, data)
}

/* é€šè¿‡onMountedç”Ÿå‘½å‘¨æœŸ,è‡ªåŠ¨åŠ è½½ä¸€æ¬¡ */
onMounted(() => {
  getLoveMessage()
})
</script>

<template>
  <div>
    <h1>ä»Šæ—¥åœŸå‘³æƒ…è¯:{{ jsonData.content }}</h1>
    <button @click="getLoveMessage">è·å–ä»Šæ—¥åœŸå‘³æƒ…è¯</button>
  </div>
</template>

<style scoped></style>
```

> æµ‹è¯• post å‚æ•°

```html
<script setup type="module">
import axios from 'axios'
import { onMounted, ref, reactive, toRaw } from 'vue';

let jsonData = reactive({ code: 1, content: 'æˆ‘åŠªåŠ›ä¸æ˜¯ä¸ºäº†ä½ è€Œæ˜¯å› ä¸ºä½ ' })

let getLoveWords = async () => {
  try {
    return await axios.post(
      'https://api.uomg.com/api/rand.qinghua',
      {//è¯·æ±‚ä½“ä¸­çš„JSONæ•°æ®
        username: 'zhangsan',
        password: '123456'
      },
      {// å…¶ä»–å‚æ•°
        params: {// urlä¸Šæ‹¼æ¥çš„é”®å€¼å¯¹å‚æ•°
          format: 'json',
        },
        headers: {// è¯·æ±‚å¤´
          'Accept': 'application/json, text/plain, text/html,*/*',
          'X-Requested-With': 'XMLHttpRequest'
        }
      }
    )
  } catch (e) {
    return await e
  }
}

let getLoveMessage = async () => {
  let { data } = await getLoveWords()
  Object.assign(jsonData, data)
}

/* é€šè¿‡onMountedç”Ÿå‘½å‘¨æœŸ,è‡ªåŠ¨åŠ è½½ä¸€æ¬¡ */
onMounted(() => {
  getLoveMessage()
})
</script>

<template>
  <div>
    <h1>ä»Šæ—¥åœŸå‘³æƒ…è¯:{{ jsonData.content }}</h1>
    <button @click="getLoveMessage">è·å–ä»Šæ—¥åœŸå‘³æƒ…è¯</button>
  </div>
</template>

<style scoped></style>
```

## Axios æ‹¦æˆªå™¨

> å¦‚æœæƒ³åœ¨ axios å‘é€è¯·æ±‚ä¹‹å‰ï¼Œæˆ–è€…æ˜¯æ•°æ®å“åº”å›æ¥åœ¨æ‰§è¡Œ then æ–¹æ³•ä¹‹å‰åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œå¯ä»¥é€šè¿‡æ‹¦æˆªå™¨å®Œæˆ

```javascript
// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ è¯·æ±‚å‘é€ä¹‹å‰
axios.interceptors.request.use(
  function (config) {
    // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ
    return config;
  }, 
  function (error) {
    // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ
    return Promise.reject(error);
  }
);

// æ·»åŠ å“åº”æ‹¦æˆªå™¨ æ•°æ®å“åº”å›æ¥
axios.interceptors.response.use(
  function (response) {
    // 2xx èŒƒå›´å†…çš„çŠ¶æ€ç éƒ½ä¼šè§¦å‘è¯¥å‡½æ•°ã€‚
    // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ
    return response;
  }, 
  function (error) {
    // è¶…å‡º 2xx èŒƒå›´çš„çŠ¶æ€ç éƒ½ä¼šè§¦å‘è¯¥å‡½æ•°ã€‚
    // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ
    return Promise.reject(error);
  }
);
```

**å®šä¹‰ src/axios.js æå–æ‹¦æˆªå™¨å’Œé…ç½®è¯­æ³•**

```javascript
import axios from 'axios'

//  åˆ›å»ºinstanceå®ä¾‹
const instance = axios.create({
  baseURL: 'https://api.uomg.com',
  timeout: 10000
})

//  æ·»åŠ è¯·æ±‚æ‹¦æˆª
instance.interceptors.request.use(
  // è®¾ç½®è¯·æ±‚å¤´é…ç½®ä¿¡æ¯
  config => {
    //å¤„ç†æŒ‡å®šçš„è¯·æ±‚å¤´
    console.log("before request")
    config.headers.Accept = 'application/json, text/plain, text/html,*/*'
    return config
  },
  // è®¾ç½®è¯·æ±‚é”™è¯¯å¤„ç†å‡½æ•°
  error => {
    console.log("request error")
    return Promise.reject(error)
  }
)

// æ·»åŠ å“åº”æ‹¦æˆªå™¨
instance.interceptors.response.use(
  // è®¾ç½®å“åº”æ­£ç¡®æ—¶çš„å¤„ç†å‡½æ•°
  response => {
    console.log("after success response")
    console.log(response)
    return response
  },
  // è®¾ç½®å“åº”å¼‚å¸¸æ—¶çš„å¤„ç†å‡½æ•°
  error => {
    console.log("after fail response")
    console.log(error)
    return Promise.reject(error)
  }
)

// é»˜è®¤å¯¼å‡º
export default instance
```

**App.vue**

```html
<script setup type="module">
// å¯¼å…¥æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„axios.jsæ–‡ä»¶,è€Œä¸æ˜¯å¯¼å…¥axiosä¾èµ–  
import axios from './axios.js'
import { onMounted, ref, reactive, toRaw } from 'vue';

let jsonData = reactive({ code: 1, content: 'æˆ‘åŠªåŠ›ä¸æ˜¯ä¸ºäº†ä½ è€Œæ˜¯å› ä¸ºä½ ' })

let getLoveWords = async () => {
  try {
    return await axios.post(
      'api/rand.qinghua',
      {
        username: 'zhangsan',
        password: '123456'
      },//è¯·æ±‚ä½“ä¸­çš„JSONæ•°æ®
      {
        params: {
          format: 'json',
        }
      }// å…¶ä»–é”®å€¼å¯¹å‚æ•°
    )
  } catch (e) {
    return await e
  }
}

let getLoveMessage = () => {
  // è¿™é‡Œè¿”å›çš„æ˜¯ä¸€ä¸ªfullfilledçŠ¶æ€çš„promise
  getLoveWords().then(
    (response) => {
      console.log("after getloveWords")
      console.log(response)
      Object.assign(jsonData, response.data)
    }
  )
}
/* é€šè¿‡onMountedç”Ÿå‘½å‘¨æœŸ,è‡ªåŠ¨åŠ è½½ä¸€æ¬¡ */
onMounted(() => {
  getLoveMessage()
})
</script>

<template>
  <div>
    <h1>ä»Šæ—¥åœŸå‘³æƒ…è¯:{{ jsonData.content }}</h1>
    <button @click="getLoveMessage">è·å–ä»Šæ—¥åœŸå‘³æƒ…è¯</button>
  </div>

</template>

<style scoped></style>
```

# Vue3 çŠ¶æ€ç®¡ç† Pinia

## Pinia ä»‹ç»

> å¦‚ä½•å®ç°å¤šä¸ªç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’ ?

+ æ–¹å¼1 ç»„ä»¶ä¼ å‚   

+ æ–¹å¼2 è·¯ç”±ä¼ å‚  

+ æ–¹å¼3 é€šè¿‡ pinia çŠ¶æ€ç®¡ç†å®šä¹‰å…±äº«æ•°æ®

> å½“æˆ‘ä»¬æœ‰ **å¤šä¸ªç»„ä»¶å…±äº«ä¸€ä¸ªå…±åŒçš„çŠ¶æ€(æ•°æ®æº)** æ—¶ï¼Œå¤šä¸ªè§†å›¾å¯èƒ½éƒ½ä¾èµ–äºåŒä¸€ä»½çŠ¶æ€ã€‚æ¥è‡ªä¸åŒè§†å›¾çš„äº¤äº’ä¹Ÿå¯èƒ½éœ€è¦æ›´æ”¹åŒä¸€ä»½çŠ¶æ€ã€‚è™½ç„¶æˆ‘ä»¬çš„æ‰‹åŠ¨çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼ˆpropsã€ç»„ä»¶é—´é€šä¿¡ã€æ¨¡å—åŒ–ï¼‰åœ¨ç®€å•çš„åœºæ™¯ä¸­å·²ç»è¶³å¤Ÿäº†ï¼Œä½†æ˜¯åœ¨å¤§è§„æ¨¡çš„ç”Ÿäº§åº”ç”¨ä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–äº‹é¡¹éœ€è¦è€ƒè™‘ï¼š

-   æ›´å¼ºçš„å›¢é˜Ÿåä½œçº¦å®š
-   ä¸ Vue DevTools é›†æˆï¼ŒåŒ…æ‹¬æ—¶é—´è½´ã€ç»„ä»¶å†…éƒ¨å®¡æŸ¥å’Œæ—¶é—´æ—…è¡Œè°ƒè¯•
-   æ¨¡å—çƒ­æ›´æ–° (HMR)
-   æœåŠ¡ç«¯æ¸²æŸ“æ”¯æŒ

>  [Pinia](https://pinia.vuejs.org/zh/ "Pinia") å°±æ˜¯ä¸€ä¸ªå®ç°äº†ä¸Šè¿°éœ€æ±‚çš„çŠ¶æ€ç®¡ç†åº“ï¼Œç”± Vue æ ¸å¿ƒå›¢é˜Ÿç»´æŠ¤ï¼Œå¯¹ Vue 2 å’Œ Vue 3 éƒ½å¯ç”¨ã€‚https://pinia.vuejs.org/zh/introduction.html

## Pinia åŸºæœ¬ç”¨æ³•

**Step1 å‡†å¤‡ vite é¡¹ç›®**

```javascript
npm create vite
npm install 
npm install vue-router@4 --save
```

**Step2 å®‰è£… pinia**

```javascript
npm install pinia
```

**Step3 å®šä¹‰ pinia store å¯¹è±¡ src/store/store.js (æ¨èè¿™ä¹ˆå‘½åä¸æ˜¯å¼ºåˆ¶)**

```javascript
import { defineStore } from 'pinia'

//å®šä¹‰æ•°æ®å¹¶ä¸”å¯¹å¤–æš´éœ²
// storeå°±æ˜¯å®šä¹‰å…±äº«çŠ¶æ€çš„åŒ…è£…å¯¹è±¡
// å†…éƒ¨åŒ…å«å››ä¸ªå±æ€§ï¼š id å”¯ä¸€æ ‡è¯† state å®Œæ•´ç±»å‹æ¨ç†ï¼Œæ¨èä½¿ç”¨ç®­å¤´å‡½æ•° å­˜æ”¾çš„æ•°æ® getters ç±»ä¼¼å±æ€§è®¡ç®—ï¼Œå­˜å‚¨æ”¾å¯¹æ•°æ®
// æ“ä½œçš„æ–¹æ³•  actions å­˜å‚¨æ•°æ®çš„å¤æ‚ä¸šåŠ¡é€»è¾‘æ–¹æ³•
// ç†è§£ï¼š storeç±»ä¼¼Javaä¸­çš„å®ä½“ç±»ï¼Œ idå°±æ˜¯ç±»åï¼Œ state å°±æ˜¯è£…æ•°æ®å€¼çš„å±æ€§  getterså°±æ˜¯getæ–¹æ³•ï¼Œactionså°±æ˜¯å¯¹æ•°æ®æ“ä½œçš„å…¶ä»–æ–¹æ³•
export const definedPerson = defineStore(
  {
    id: 'personPinia', //å¿…é¡»å”¯ä¸€
    state: () => { // stateä¸­ç”¨äºå®šä¹‰æ•°æ®
      return {
        username: 'å¼ ä¸‰',
        age: 0,
        hobbies: ['å”±æ­Œ', 'è·³èˆ']
      }
    },
    getters: {// ç”¨äºå®šä¹‰ä¸€äº›é€šè¿‡æ•°æ®è®¡ç®—è€Œå¾—åˆ°ç»“æœçš„ä¸€äº›æ–¹æ³• ä¸€èˆ¬åœ¨æ­¤å¤„ä¸åšå¯¹æ•°æ®çš„ä¿®æ”¹æ“ä½œ
      // gettersä¸­çš„æ–¹æ³•å¯ä»¥å½“åšå±æ€§å€¼æ–¹å¼ä½¿ç”¨
      getHobbiesCount() {
        return this.hobbies.length
      },
      getAge() {
        return this.age
      }
    },
    actions: { // ç”¨äºå®šä¹‰ä¸€äº›å¯¹æ•°æ®ä¿®æ”¹çš„æ–¹æ³•
      doubleAge() {
        this.age = this.age * 2
      }
    }
  }
)
```

**Step4 åœ¨ main.js é…ç½® pinia ç»„ä»¶åˆ° vue ä¸­** 

```javascript
import { createApp } from 'vue'
import './style.css'
import App from './App.vue'
//å¯¼å…¥routeræ¨¡å—
import router from './routers/router.js'
// å¯¼pinia
import { createPinia } from 'pinia'

let app = createApp(App)

// åˆ›å»ºpiniaå¯¹è±¡
let pinia= createPinia()

//ç»‘å®šè·¯ç”±å¯¹è±¡
app.use(router)

// appä¸­ä½¿ç”¨piniaåŠŸèƒ½
app.use(pinia) 

//æŒ‚åœ¨è¯•å›¾
app.mount("#app")
```

**Step5 Operate.vue ä¸­æ“ä½œ Pinia æ•°æ®**

```html
<script setup type="module">
import { ref } from 'vue';
import { definedPerson } from '../store/store';
// è¯»å–å­˜å‚¨çš„æ•°æ®
let person = definedPerson()
</script>

<template>
  <div>
    <h1>operateè§†å›¾,ç”¨æˆ·æ“ä½œPiniaä¸­çš„æ•°æ®</h1>
    è¯·è¾“å…¥å§“å:<input type="text" v-model="person.username"> <br>
    è¯·è¾“å…¥å¹´é¾„:<input type="text" v-model="person.age"> <br>
    è¯·å¢åŠ çˆ±å¥½:
    <input type="checkbox" value="åƒé¥­" v-model="person.hobbies"> åƒé¥­
    <input type="checkbox" value="ç¡è§‰" v-model="person.hobbies"> ç¡è§‰
    <input type="checkbox" value="æ‰“è±†è±†" v-model="person.hobbies"> æ‰“è±†è±† <br>

    <!-- äº‹ä»¶ä¸­è°ƒç”¨personçš„doubleAge()æ–¹æ³• -->
    <button @click="person.doubleAge()">å¹´é¾„åŠ å€</button> <br>
    <!-- äº‹ä»¶ä¸­è°ƒç”¨piniaæä¾›çš„$reset()æ–¹æ³•æ¢å¤æ•°æ®çš„é»˜è®¤å€¼ -->
    <button @click="person.$reset()">æ¢å¤é»˜è®¤å€¼</button> <br>
    <!-- äº‹ä»¶ä¸­è°ƒç”¨$patchæ–¹æ³•ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªå±æ€§å€¼ -->
    <button @click="person.$patch({ username: 'å¥¥ç‰¹æ›¼', age: 100, hobbies: ['æ™’å¤ªé˜³', 'æ‰“æ€ªå…½'] })">å˜èº«å¥¥ç‰¹æ›¼</button> <br>
    æ˜¾ç¤ºpiniaä¸­çš„personæ•°æ®:{{ person }}
  </div>
</template>
<style scoped></style>
```

**Step6 List.vue ä¸­å±•ç¤º Pinia æ•°æ®**

``` html
<script setup type="module">
import { definedPerson } from '../store/store';
// è¯»å–å­˜å‚¨çš„æ•°æ®
let person = definedPerson()
</script>

<template>
  <div>
    <h1>Listé¡µé¢,å±•ç¤ºPiniaä¸­çš„æ•°æ®</h1>
    è¯»å–å§“å:{{ person.username }} <br>
    è¯»å–å¹´é¾„:{{ person.age }} <br>
    é€šè¿‡getå¹´é¾„:{{ person.getAge }} <br>
    çˆ±å¥½æ•°é‡:{{ person.getHobbiesCount }} <br>
    æ‰€æœ‰çš„çˆ±å¥½:
    <ul>
      <li v-for='(hobby, index) in person.hobbies' :key="index" v-text="hobby"></li>
    </ul>
  </div>
</template>

<style scoped></style>
```

**Step7 å®šä¹‰ç»„ä»¶è·¯ç”± router.js**

``` javascript
// å¯¼å…¥è·¯ç”±åˆ›å»ºçš„ç›¸å…³æ–¹æ³•
import { createRouter, createWebHashHistory } from 'vue-router'

// å¯¼å…¥vueç»„ä»¶
import List from '../components/List.vue'
import Operate from '../components/Operate.vue'

// åˆ›å»ºè·¯ç”±å¯¹è±¡,å£°æ˜è·¯ç”±è§„åˆ™
const router = createRouter({
  history: createWebHashHistory(),
  routes: [
    {
      path: '/opearte',
      component: Operate
    },

    {
      path: '/list',
      component: List
    },
  ]
})

// å¯¹å¤–æš´éœ²è·¯ç”±å¯¹è±¡
export default router;
```

**Step8 App.vue ä¸­é€šè¿‡è·¯ç”±åˆ‡æ¢ç»„ä»¶**

``` html
<script setup type="module"></script>

<template>
  <div>
    <hr>
    <router-link to="/opearte">æ˜¾ç¤ºæ“ä½œé¡µ</router-link> <br>
    <router-link to="/list">æ˜¾ç¤ºå±•ç¤ºé¡µ</router-link> <br>
    <hr>
    <router-view></router-view>
  </div>
</template>

<style scoped></style>
```

**Step9 å¯åŠ¨æµ‹è¯•**

```javascript
npm run dev
```

## Pinia å…¶ä»–ç»†èŠ‚

>  State (çŠ¶æ€) åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œstate éƒ½æ˜¯ä½ çš„ store çš„æ ¸å¿ƒã€‚äººä»¬é€šå¸¸ä¼šå…ˆå®šä¹‰èƒ½ä»£è¡¨ä»–ä»¬ APP çš„ stateã€‚åœ¨ Pinia ä¸­ï¼Œstate è¢«å®šä¹‰ä¸ºä¸€ä¸ªè¿”å›åˆå§‹çŠ¶æ€çš„å‡½æ•°ã€‚

**store.js**

```javascript
import { defineStore } from 'pinia'

export const definedPerson = defineStore('personPinia',
  {
    state: () => {
      return {
        username: '',
        age: 0,
        hobbies: ['å”±æ­Œ', 'è·³èˆ']
      }
    },
    getters: {
      getHobbiesCount() {
        return this.hobbies.length
      },
      getAge() {
        return this.age
      }
    },
    actions: {
      doubleAge() {
        this.age = this.age * 2
      }
    }
  }
)
```

**Operate.vue**

``` html
<script setup type="module">
import { ref } from 'vue';
import { definedPerson } from '../store/store';

// è¯»å–å­˜å‚¨çš„æ•°æ®
let person = definedPerson()

let hobby = ref('')

let addHobby = () => {
  console.log(hobby.value)
  person.hobbies.push(hobby.value)
}

// ç›‘å¬çŠ¶æ€
person.$subscribe((mutation, state) => {
  console.log('---subscribe---')
  /* 
  mutation.storeId
      person.$idä¸€æ ·
  mutation.payload
      ä¼ é€’ç»™ cartStore.$patch() çš„è¡¥ä¸å¯¹è±¡ã€‚
  state æ•°æ®çŠ¶æ€,å…¶å®æ˜¯ä¸€ä¸ªä»£ç†
  */
  console.log(mutation)
  console.log(person.$id)
  
  // æ•°æ® å…¶å®æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡
  console.log(state)
})
</script>

<template>
  <div>
    <h1>operateè§†å›¾,ç”¨æˆ·æ“ä½œPiniaä¸­çš„æ•°æ®</h1>
    è¯·è¾“å…¥å§“å:<input type="text" v-model="person.username"> <br>
    è¯·è¾“å…¥å¹´é¾„:<input type="text" v-model="person.age"> <br>
    è¯·å¢åŠ çˆ±å¥½:
    <input type="checkbox" value="åƒé¥­" v-model="person.hobbies"> åƒé¥­
    <input type="checkbox" value="ç¡è§‰" v-model="person.hobbies"> ç¡è§‰
    <input type="checkbox" value="æ‰“è±†è±†" v-model="person.hobbies"> æ‰“è±†è±† <br>
    <input type="text" @change="addHobby" v-model="hobby"> <br>
    <!-- äº‹ä»¶ä¸­è°ƒç”¨personçš„doubleAge()æ–¹æ³• -->
    <button @click="person.doubleAge()">å¹´é¾„åŠ å€</button> <br>
    <!-- äº‹ä»¶ä¸­è°ƒç”¨piniaæä¾›çš„$reset()æ–¹æ³•æ¢å¤æ•°æ®çš„é»˜è®¤å€¼ -->
    <button @click="person.$reset()">æ¢å¤é»˜è®¤å€¼</button> <br>
    <!-- äº‹ä»¶ä¸­è°ƒç”¨$patchæ–¹æ³•ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªå±æ€§å€¼ -->
    <button @click="person.$patch({ username: 'å¥¥ç‰¹æ›¼', age: 100, hobbies: ['æ™’å¤ªé˜³', 'æ‰“æ€ªå…½'] })">å˜èº«å¥¥ç‰¹æ›¼</button> <br>
    person:{{ person }}
  </div>
</template>
<style scoped></style>
```

>  2 Getter å®Œå…¨ç­‰åŒäº store çš„ state çš„[è®¡ç®—å€¼](https://cn.vuejs.org/guide/essentials/computed.html "è®¡ç®—å€¼")ã€‚å¯ä»¥é€šè¿‡ `defineStore()` ä¸­çš„ `getters` å±æ€§æ¥å®šä¹‰å®ƒä»¬ã€‚**æ¨è** ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå¹¶ä¸”å®ƒå°†æ¥æ”¶ `state` ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š

```javascript
export const useStore = defineStore('main', {
  state: () => ({
    count: 0,
  }),
  getters: {
    doubleCount: (state) => state.count * 2,
  },
})
```

>  3  Action ç›¸å½“äºç»„ä»¶ä¸­çš„ [method](https://v3.vuejs.org/guide/data-methods.html#methods "method")ã€‚å®ƒä»¬å¯ä»¥é€šè¿‡ `defineStore()` ä¸­çš„ `actions` å±æ€§æ¥å®šä¹‰ï¼Œ**å¹¶ä¸”å®ƒä»¬ä¹Ÿæ˜¯å®šä¹‰ä¸šåŠ¡é€»è¾‘çš„å®Œç¾é€‰æ‹©ã€‚**ç±»ä¼¼ [getter](https://pinia.vuejs.org/zh/core-concepts/getters.html "getter")ï¼Œaction ä¹Ÿå¯é€šè¿‡ `this` è®¿é—® **æ•´ä¸ª store å®ä¾‹**ï¼Œå¹¶æ”¯æŒ **å®Œæ•´çš„ç±»å‹æ ‡æ³¨(ä»¥åŠè‡ªåŠ¨è¡¥å…¨)**ã€‚ä¸åŒçš„æ˜¯ï¼Œ`action` å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œä½ å¯ä»¥åœ¨å®ƒä»¬é‡Œé¢ `await` è°ƒç”¨ä»»ä½• APIï¼Œä»¥åŠå…¶ä»– actionï¼

```javascript
export const useCounterStore = defineStore('main', {
  state: () => ({
    count: 0,
  }),
  actions: {
    increment() {
      this.count++
    },
    randomizeCounter() {
      this.count = Math.round(100 * Math.random())
    },
  },
})
```

# Element-plus ç»„ä»¶åº“

## Element-plus ä»‹ç»

> Element Plus æ˜¯ä¸€å¥—åŸºäº Vue 3 çš„å¼€æº UI ç»„ä»¶åº“ï¼Œæ˜¯ç”±é¥¿äº†ä¹ˆå‰ç«¯å›¢é˜Ÿå¼€å‘çš„å‡çº§ç‰ˆæœ¬ Element UIã€‚Element Plus æä¾›äº†ä¸°å¯Œçš„ UI ç»„ä»¶ã€æ˜“äºä½¿ç”¨çš„ API æ¥å£å’Œçµæ´»çš„ä¸»é¢˜å®šåˆ¶åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºé«˜è´¨é‡çš„ Web åº”ç”¨ç¨‹åºã€‚

+ Element Plus æ”¯æŒæŒ‰éœ€åŠ è½½ï¼Œä¸”ä¸ä¾èµ–äºä»»ä½•ç¬¬ä¸‰æ–¹ CSS åº“ï¼Œå®ƒå¯ä»¥è½»æ¾åœ°é›†æˆåˆ°ä»»ä½• Vue.js é¡¹ç›®ä¸­ã€‚Element Plus çš„æ–‡æ¡£ååˆ†æ¸…æ™°ï¼Œæä¾›äº†å„ç§ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œç¤ºä¾‹ä»£ç ï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹ã€‚

+ Element Plus ç›®å‰å·²ç»æ¨å‡ºäº†å¤§é‡çš„å¸¸ç”¨ UI ç»„ä»¶ï¼Œå¦‚æŒ‰é’®ã€è¡¨å•ã€è¡¨æ ¼ã€å¯¹è¯æ¡†ã€é€‰é¡¹å¡ç­‰ï¼Œæ­¤å¤–è¿˜æä¾›äº†ä¸€äº›é«˜çº§ç»„ä»¶ï¼Œå¦‚æ—¥æœŸé€‰æ‹©å™¨ã€æ—¶é—´é€‰æ‹©å™¨ã€çº§è”é€‰æ‹©å™¨ã€æ»‘å—ã€é¢œè‰²é€‰æ‹©å™¨ç­‰ã€‚è¿™äº›ç»„ä»¶å…·æœ‰ä¸€è‡´çš„è®¾è®¡å’Œå¯é çš„ä»£ç è´¨é‡ï¼Œå¯ä»¥ä¸ºå¼€å‘è€…æä¾›ç¨³å®šçš„ä½¿ç”¨ä½“éªŒã€‚

+ ä¸ Element UI ç›¸æ¯”ï¼ŒElement Plus é‡‡ç”¨äº†ç°ä»£åŒ–çš„æŠ€æœ¯æ¶æ„å’Œæ›´åŠ å…ˆè¿›çš„è®¾è®¡ç†å¿µï¼ŒåŒæ—¶å…·å¤‡æ›´å¥½çš„æ€§èƒ½å’Œæ›´å¥½çš„å…¼å®¹æ€§ã€‚Element Plus çš„æ›´æ–°è¿­ä»£ä¹Ÿæ›´åŠ é¢‘ç¹ï¼Œå¯ä»¥ä¸ºå¼€å‘è€…æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒå’Œæ›´å¤šçš„åŠŸèƒ½ç‰¹æ€§ã€‚

+ Element Plus å¯ä»¥åœ¨æ”¯æŒ [ES2018](https://caniuse.com/?feats=mdn-javascript_builtins_regexp_dotall,mdn-javascript_builtins_regexp_lookbehind_assertion,mdn-javascript_builtins_regexp_named_capture_groups,mdn-javascript_builtins_regexp_property_escapes,mdn-javascript_builtins_symbol_asynciterator,mdn-javascript_functions_method_definitions_async_generator_methods,mdn-javascript_grammar_template_literals_template_literal_revision,mdn-javascript_operators_destructuring_rest_in_objects,mdn-javascript_operators_spread_spread_in_destructuring,promise-finally "ES2018") å’Œ [ResizeObserver](https://caniuse.com/resizeobserver "ResizeObserver") çš„æµè§ˆå™¨ä¸Šè¿è¡Œã€‚ å¦‚æœæ‚¨ç¡®å®éœ€è¦æ”¯æŒæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œè¯·è‡ªè¡Œæ·»åŠ  [Babel](https://babeljs.io/ "Babel") å’Œç›¸åº”çš„ Polyfill 

+ å®˜ç½‘https://element-plus.gitee.io/zh-CN/

+ ç”±äº Vue 3 ä¸å†æ”¯æŒ IE11ï¼ŒElement Plus ä¹Ÿä¸å†æ”¯æŒ IE æµè§ˆå™¨ã€‚

![](images/image_rdwmpig76n.png)

## Element-plus å…¥é—¨æ¡ˆä¾‹

**Step1 å‡†å¤‡ vite é¡¹ç›®**

```shell
npm create vite  // æ³¨æ„é€‰æ‹© vue+typeScript
npm install 
npm install vue-router@4 --save
npm install pinia
npm install axios
```

**Step2 å®‰è£… element-plus**

```shell
npm install element-plus
```

**Step3 å®Œæ•´å¼•å…¥ element-plus**

main.js

```javascript
import { createApp } from 'vue'
//å¯¼å…¥element-plusç›¸å…³å†…å®¹
import ElementPlus from 'element-plus'
import 'element-plus/dist/index.css'

import App from './App.vue'

const app = createApp(App)

app.use(ElementPlus)

app.mount('#app')
```

**Step4 å…¥é—¨æ¡ˆä¾‹**

App.vue

```html
<script setup>
import { ref } from 'vue'

const value = ref(true)
</script>

<template>
  <div>
    <!-- ç›´æ¥ä½¿ç”¨element-plusç»„ä»¶å³å¯ -->
    <el-button>æŒ‰é’®</el-button>
    <br>
    <el-switch v-model="value" size="large" active-text="Open" inactive-text="Close" />
    <br />
    <el-switch v-model="value" active-text="Open" inactive-text="Close" />
    <br />
    <el-switch v-model="value" size="small" active-text="Open" inactive-text="Close" />
  </div>
</template>

<style scoped></style>
```

**Step5 å¯åŠ¨æµ‹è¯•**

```shell
npm run dev
```

## Element-plus å¸¸ç”¨ç»„ä»¶

> æ›´å¤šè«‹çœ‹ : [Element Plus](https://element-plus.org/zh-CN/)